var o=Object.create;var c=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames,S=Object.getOwnPropertySymbols,P=Object.getPrototypeOf,I=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var Ep=(o,h,b)=>h in o?c(o,h,{enumerable:!0,configurable:!0,writable:!0,value:b}):o[h]=b,Cp=(o,c)=>{for(var h in c||(c={}))I.call(c,h)&&Ep(o,h,c[h]);if(S)for(var h of S(c))A.call(c,h)&&Ep(o,h,c[h]);return o};var u=(o,h)=>c(o,"name",{value:h,configurable:!0});var Tt=(o,c)=>()=>(c||o((c={exports:{}}).exports,c),c.exports);var pg=(o,S,P,A)=>{if(S&&typeof S=="object"||typeof S=="function")for(let z of b(S))!I.call(o,z)&&z!==P&&c(o,z,{get:()=>S[z],enumerable:!(A=h(S,z))||A.enumerable});return o};var er=(h,b,S)=>(S=h!=null?o(P(h)):{},pg(!b&&h&&h.__esModule?S:c(S,"default",{value:h,enumerable:!0}),h));var M=(o,b,S,P)=>{for(var I,A=P>1?void 0:P?h(b,S):b,z=o.length-1;z>=0;z--)(I=o[z])&&(A=(P?I(b,S,A):I(A))||A);return P&&A&&c(b,S,A),A};var Op=(o,c,h)=>{if(!c.has(o))throw TypeError("Cannot "+h)};var Xa=(o,c,h)=>(Op(o,c,"read from private field"),h?h.call(o):c.get(o)),Za=(o,c,h)=>{if(c.has(o))throw TypeError("Cannot add the same private member more than once");c instanceof WeakSet?c.add(o):c.set(o,h)},Ka=(o,c,h,b)=>(Op(o,c,"write to private field"),b?b.call(o,h):c.set(o,h),h);var z=Tt(((o,c)=>{(function(h){var b=2e3,S={s:1,n:0,d:1};function n(o,c){if(isNaN(o=parseInt(o,10)))throw g.InvalidParameter;return o*c}u(n,"assign");function s(o,c){if(c===0)throw g.DivisionByZero;var h=Object.create(g.prototype);h.s=o<0?-1:1,o=o<0?-o:o;var b=f(o,c);return h.n=o/b,h.d=c/b,h}u(s,"newFraction");function a(o){for(var c={},h=o,b=2,S=4;S<=h;){for(;h%b===0;)h/=b,c[b]=(c[b]||0)+1;S+=1+2*b++}return h!==o?h>1&&(c[h]=(c[h]||0)+1):c[o]=(c[o]||0)+1,c}u(a,"factorize");var P=u((function(o,c){var h,b=0,P=1,I=1,A=0,z=0,R=0,D=1,L=1,G=0,$=1,B=1,F=1,V=1e7;if(o!=null)if(c!==void 0){if(b=o,P=c,I=b*P,b%1!==0||P%1!==0)throw g.NonIntegerParameter}else switch(typeof o){case"object":if("d"in o&&"n"in o)b=o.n,P=o.d,"s"in o&&(b*=o.s);else{if(!(0 in o))throw g.InvalidParameter;b=o[0],1 in o&&(P=o[1])}I=b*P;break;case"number":if(o<0&&(I=o,o=-o),o%1===0)b=o;else if(o>0){for(o>=1&&(L=Math.pow(10,Math.floor(1+Math.log(o)/Math.LN10)),o/=L);$<=V&&F<=V;){if(h=(G+B)/($+F),o===h){$+F<=V?(b=G+B,P=$+F):F>$?(b=B,P=F):(b=G,P=$);break}o>h?(G+=B,$+=F):(B+=G,F+=$),$>V?(b=B,P=F):(b=G,P=$)}b*=L}else(isNaN(o)||isNaN(c))&&(P=b=NaN);break;case"string":if($=o.match(/\d+|./g),$===null)throw g.InvalidParameter;if($[G]==="-"?(I=-1,G++):$[G]==="+"&&G++,$.length===G+1?z=n($[G++],I):$[G+1]==="."||$[G]==="."?($[G]!=="."&&(A=n($[G++],I)),G++,(G+1===$.length||$[G+1]==="("&&$[G+3]===")"||$[G+1]==="'"&&$[G+3]==="'")&&(z=n($[G],I),D=Math.pow(10,$[G].length),G++),($[G]==="("&&$[G+2]===")"||$[G]==="'"&&$[G+2]==="'")&&(R=n($[G+1],I),L=Math.pow(10,$[G+1].length)-1,G+=3)):$[G+1]==="/"||$[G+1]===":"?(z=n($[G],I),D=n($[G+2],1),G+=3):$[G+3]==="/"&&$[G+1]===" "&&(A=n($[G],I),z=n($[G+2],I),D=n($[G+4],1),G+=5),$.length<=G){P=D*L,I=b=R+P*A+L*z;break}default:throw g.InvalidParameter}if(P===0)throw g.DivisionByZero;S.s=I<0?-1:1,S.n=Math.abs(b),S.d=Math.abs(P)}),"parse");function v(o,c,h){for(var b=1;c>0;o=o*o%h,c>>=1)c&1&&(b=b*o%h);return b}u(v,"modpow");function m(o,c){for(;c%2===0;c/=2);for(;c%5===0;c/=5);if(c===1)return 0;for(var h=10%c,S=1;h!==1;S++)if(h=h*10%c,S>b)return 0;return S}u(m,"cycleLen");function d(o,c,h){for(var b=1,S=v(10,h,c),P=0;P<300;P++){if(b===S)return P;b=b*10%c,S=S*10%c}return 0}u(d,"cycleStart");function f(o,c){if(!o)return c;if(!c)return o;for(;;){if(o%=c,!o)return c;if(c%=o,!c)return o}}u(f,"gcd");function g(o,c){if(P(o,c),!(this instanceof g))return s(S.s*S.n,S.d);o=f(S.d,S.n),this.s=S.s,this.n=S.n/o,this.d=S.d/o}u(g,"Fraction"),g.DivisionByZero=new Error("Division by Zero"),g.InvalidParameter=new Error("Invalid argument"),g.NonIntegerParameter=new Error("Parameters must be integer"),g.prototype={s:1,n:0,d:1,abs:function(){return s(this.n,this.d)},neg:function(){return s(-this.s*this.n,this.d)},add:function(o,c){return P(o,c),s(this.s*this.n*S.d+S.s*this.d*S.n,this.d*S.d)},sub:function(o,c){return P(o,c),s(this.s*this.n*S.d-S.s*this.d*S.n,this.d*S.d)},mul:function(o,c){return P(o,c),s(this.s*S.s*this.n*S.n,this.d*S.d)},div:function(o,c){return P(o,c),s(this.s*S.s*this.n*S.d,this.d*S.n)},clone:function(){return s(this.s*this.n,this.d)},mod:function(o,c){if(isNaN(this.n)||isNaN(this.d))return new g(NaN);if(o===void 0)return s(this.s*this.n%this.d,1);if(P(o,c),S.n===0&&this.d===0)throw g.DivisionByZero;return s(this.s*(S.d*this.n)%(S.n*this.d),S.d*this.d)},gcd:function(o,c){return P(o,c),s(f(S.n,this.n)*f(S.d,this.d),S.d*this.d)},lcm:function(o,c){return P(o,c),S.n===0&&this.n===0?s(0,1):s(S.n*this.n,f(S.n,this.n)*f(S.d,this.d))},ceil:function(o){return o=Math.pow(10,o||0),isNaN(this.n)||isNaN(this.d)?new g(NaN):s(Math.ceil(o*this.s*this.n/this.d),o)},floor:function(o){return o=Math.pow(10,o||0),isNaN(this.n)||isNaN(this.d)?new g(NaN):s(Math.floor(o*this.s*this.n/this.d),o)},round:function(o){return o=Math.pow(10,o||0),isNaN(this.n)||isNaN(this.d)?new g(NaN):s(Math.round(o*this.s*this.n/this.d),o)},inverse:function(){return s(this.s*this.d,this.n)},pow:function(o,c){if(P(o,c),S.d===1)return S.s<0?s(Math.pow(this.s*this.d,S.n),Math.pow(this.n,S.n)):s(Math.pow(this.s*this.n,S.n),Math.pow(this.d,S.n));if(this.s<0)return null;var h=a(this.n),b=a(this.d),I=1,A=1;for(var z in h)if(z!=="1"){if(z==="0"){I=0;break}if(h[z]*=S.n,h[z]%S.d!==0)return null;h[z]/=S.d;I*=Math.pow(z,h[z])}for(var z in b)if(z!=="1"){if(b[z]*=S.n,b[z]%S.d!==0)return null;b[z]/=S.d;A*=Math.pow(z,b[z])}return S.s<0?s(A,I):s(I,A)},equals:function(o,c){return P(o,c),this.s*this.n*S.d===S.s*S.n*this.d},compare:function(o,c){P(o,c);var h=this.s*this.n*S.d-S.s*S.n*this.d;return(0<h)-(h<0)},simplify:function(o){if(isNaN(this.n)||isNaN(this.d))return this;o=o||.001;for(var c=this.abs(),h=c.toContinued(),b=1;b<h.length;b++){for(var S=s(h[b-1],1),P=b-2;P>=0;P--)S=S.inverse().add(h[P]);if(S.sub(c).abs().valueOf()<o)return S.mul(this.s)}return this},divisible:function(o,c){return P(o,c),!(!(S.n*this.d)||this.n*S.d%(S.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(o){var c,h="",b=this.n,S=this.d;return this.s<0&&(h+="-"),S===1?h+=b:(o&&(c=Math.floor(b/S))>0&&(h+=c,h+=" ",b%=S),h+=b,h+="/",h+=S),h},toLatex:function(o){var c,h="",b=this.n,S=this.d;return this.s<0&&(h+="-"),S===1?h+=b:(o&&(c=Math.floor(b/S))>0&&(h+=c,b%=S),h+="\\frac{",h+=b,h+="}{",h+=S,h+="}"),h},toContinued:function(){var o,c=this.n,h=this.d,b=[];if(isNaN(c)||isNaN(h))return b;do{b.push(Math.floor(c/h)),o=c%h,c=h,h=o}while(c!==1);return b},toString:function(o){var c=this.n,h=this.d;if(isNaN(c)||isNaN(h))return"NaN";o=o||15;var b=m(c,h),S=d(c,h,b),P=this.s<0?"-":"";if(P+=c/h|0,c%=h,c*=10,c&&(P+="."),b){for(var I=S;I--;)P+=c/h|0,c%=h,c*=10;P+="(";for(I=b;I--;)P+=c/h|0,c%=h,c*=10;P+=")"}else for(I=o;c&&I--;)P+=c/h|0,c%=h,c*=10;return P}},typeof define=="function"&&define.amd?define([],(function(){return g})):typeof o=="object"?(Object.defineProperty(g,"__esModule",{value:!0}),g.default=g,g.Fraction=g,c.exports=g):h.Fraction=g})(o)}));var R=Tt(((o,c)=>{var h=u(((o=0)=>c=>`[${38+o};5;${c}m`),"wrapAnsi256"),b=u(((o=0)=>(c,h,b)=>`[${38+o};2;${c};${h};${b}m`),"wrapAnsi16m");function Dg(){let o=new Map,c={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};c.color.gray=c.color.blackBright,c.bgColor.bgGray=c.bgColor.bgBlackBright,c.color.grey=c.color.blackBright,c.bgColor.bgGrey=c.bgColor.bgBlackBright;for(let[h,b]of Object.entries(c)){for(let[h,S]of Object.entries(b))c[h]={open:`[${S[0]}m`,close:`[${S[1]}m`},b[h]=c[h],o.set(S[0],S[1]);Object.defineProperty(c,h,{value:b,enumerable:!1})}return Object.defineProperty(c,"codes",{value:o,enumerable:!1}),c.color.close="[39m",c.bgColor.close="[49m",c.color.ansi256=h(),c.color.ansi16m=b(),c.bgColor.ansi256=h(10),c.bgColor.ansi16m=b(10),Object.defineProperties(c,{rgbToAnsi256:{value:(o,c,h)=>o===c&&c===h?o<8?16:o>248?231:Math.round((o-8)/247*24)+232:16+36*Math.round(o/255*5)+6*Math.round(c/255*5)+Math.round(h/255*5),enumerable:!1},hexToRgb:{value:o=>{let c=new RegExp("(?<colorString>[a-f\\d]{6}|[a-f\\d]{3})","i").exec(o.toString(16));if(!c)return[0,0,0];let{colorString:h}=c.groups;h.length===3&&(h=h.split("").map((o=>o+o)).join(""));let b=Number.parseInt(h,16);return[b>>16&255,b>>8&255,b&255]},enumerable:!1},hexToAnsi256:{value:o=>c.rgbToAnsi256(...c.hexToRgb(o)),enumerable:!1}}),c}u(Dg,"assembleStyles");Object.defineProperty(c,"exports",{enumerable:!0,get:Dg})}));var D=Tt((o=>{Object.defineProperty(o,"__esModule",{value:!0});o.printIteratorEntries=Ng;o.printIteratorValues=_g;o.printListItems=Lg;o.printObjectProperties=Gg;var c=u(((o,c)=>{let h=Object.keys(o),b=c!==null?h.sort(c):h;return Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(o).forEach((c=>{Object.getOwnPropertyDescriptor(o,c).enumerable&&b.push(c)})),b}),"getKeysOfEnumerableProperties");function Ng(o,c,h,b,S,P,I=": "){let A="",z=0,R=o.next();if(!R.done){A+=c.spacingOuter;let D=h+c.indent;for(;!R.done;){if(A+=D,z++===c.maxWidth){A+="…";break}let h=P(R.value[0],c,D,b,S),L=P(R.value[1],c,D,b,S);A+=h+I+L,R=o.next(),R.done?c.min||(A+=","):A+=`,${c.spacingInner}`}A+=c.spacingOuter+h}return A}u(Ng,"printIteratorEntries");function _g(o,c,h,b,S,P){let I="",A=0,z=o.next();if(!z.done){I+=c.spacingOuter;let R=h+c.indent;for(;!z.done;){if(I+=R,A++===c.maxWidth){I+="…";break}I+=P(z.value,c,R,b,S),z=o.next(),z.done?c.min||(I+=","):I+=`,${c.spacingInner}`}I+=c.spacingOuter+h}return I}u(_g,"printIteratorValues");function Lg(o,c,h,b,S,P){let I="";if(o.length){I+=c.spacingOuter;let A=h+c.indent;for(let h=0;h<o.length;h++){if(I+=A,h===c.maxWidth){I+="…";break}h in o&&(I+=P(o[h],c,A,b,S)),h<o.length-1?I+=`,${c.spacingInner}`:c.min||(I+=",")}I+=c.spacingOuter+h}return I}u(Lg,"printListItems");function Gg(o,h,b,S,P,I){let A="",z=c(o,h.compareKeys);if(z.length){A+=h.spacingOuter;let c=b+h.indent;for(let b=0;b<z.length;b++){let R=z[b],D=I(R,h,c,S,P),L=I(o[R],h,c,S,P);A+=`${c+D}: ${L}`,b<z.length-1?A+=`,${h.spacingInner}`:h.min||(A+=",")}A+=h.spacingOuter+b}return A}u(Gg,"printObjectProperties")}));var L=Tt((o=>{Object.defineProperty(o,"__esModule",{value:!0});o.test=o.serialize=o.default=void 0;var c=D(),h=globalThis["jest-symbol-do-not-touch"]||globalThis.Symbol,b=typeof h=="function"&&h.for?h.for("jest.asymmetricMatcher"):1267621,S=" ",P=u(((o,h,b,P,I,A)=>{let z=o.toString();if(z==="ArrayContaining"||z==="ArrayNotContaining")return++P>h.maxDepth?`[${z}]`:`${z+S}[${(0,c.printListItems)(o.sample,h,b,P,I,A)}]`;if(z==="ObjectContaining"||z==="ObjectNotContaining")return++P>h.maxDepth?`[${z}]`:`${z+S}{${(0,c.printObjectProperties)(o.sample,h,b,P,I,A)}}`;if(z==="StringMatching"||z==="StringNotMatching"||z==="StringContaining"||z==="StringNotContaining")return z+S+A(o.sample,h,b,P,I);if(typeof o.toAsymmetricMatcher!="function")throw new Error(`Asymmetric matcher ${o.constructor.name} does not implement toAsymmetricMatcher()`);return o.toAsymmetricMatcher()}),"serialize");o.serialize=P;var I=u((o=>o&&o.$$typeof===b),"test");o.test=I;var A={serialize:P,test:I},z=A;o.default=z}));var G=Tt((o=>{Object.defineProperty(o,"__esModule",{value:!0});o.test=o.serialize=o.default=void 0;var c=D(),h=" ",b=["DOMStringMap","NamedNodeMap"],S=/^(HTML\w*Collection|NodeList)$/,P=u((o=>b.indexOf(o)!==-1||S.test(o)),"testName"),I=u((o=>o&&o.constructor&&!!o.constructor.name&&P(o.constructor.name)),"test");o.test=I;var A=u((o=>o.constructor.name==="NamedNodeMap"),"isNamedNodeMap"),z=u(((o,S,P,I,z,R)=>{let D=o.constructor.name;return++I>S.maxDepth?`[${D}]`:(S.min?"":D+h)+(b.indexOf(D)!==-1?`{${(0,c.printObjectProperties)(A(o)?Array.from(o).reduce(((o,c)=>(o[c.name]=c.value,o)),{}):Cp({},o),S,P,I,z,R)}}`:`[${(0,c.printListItems)(Array.from(o),S,P,I,z,R)}]`)}),"serialize");o.serialize=z;var R={serialize:z,test:I},L=R;o.default=L}));var $=Tt((o=>{Object.defineProperty(o,"__esModule",{value:!0});o.default=Yg;function Yg(o){return o.replace(/</g,"&lt;").replace(/>/g,"&gt;")}u(Yg,"escapeHTML")}));var B=Tt((o=>{Object.defineProperty(o,"__esModule",{value:!0});o.printText=o.printProps=o.printElementAsLeaf=o.printElement=o.printComment=o.printChildren=void 0;var c=Xg($());function Xg(o){return o&&o.__esModule?o:{default:o}}u(Xg,"_interopRequireDefault");var h=u(((o,c,h,b,S,P,I)=>{let A=b+h.indent,z=h.colors;return o.map((o=>{let R=c[o],D=I(R,h,A,S,P);return typeof R!="string"&&(D.indexOf("\n")!==-1&&(D=h.spacingOuter+A+D+h.spacingOuter+b),D=`{${D}}`),`${h.spacingInner+b+z.prop.open+o+z.prop.close}=${z.value.open}${D}${z.value.close}`})).join("")}),"printProps");o.printProps=h;var b=u(((o,c,h,b,P,I)=>o.map((o=>c.spacingOuter+h+(typeof o=="string"?S(o,c):I(o,c,h,b,P)))).join("")),"printChildren");o.printChildren=b;var S=u(((o,h)=>{let b=h.colors.content;return b.open+(0,c.default)(o)+b.close}),"printText");o.printText=S;var P=u(((o,h)=>{let b=h.colors.comment;return`${b.open}\x3c!--${(0,c.default)(o)}--\x3e${b.close}`}),"printComment");o.printComment=P;var I=u(((o,c,h,b,S)=>{let P=b.colors.tag;return`${P.open}<${o}${c&&P.close+c+b.spacingOuter+S+P.open}${h?`>${P.close}${h}${b.spacingOuter}${S}${P.open}</${o}`:(c&&!b.min?"":" ")+"/"}>${P.close}`}),"printElement");o.printElement=I;var A=u(((o,c)=>{let h=c.colors.tag;return`${h.open}<${o}${h.close} …${h.open} />${h.close}`}),"printElementAsLeaf");o.printElementAsLeaf=A}));var F=Tt((o=>{Object.defineProperty(o,"__esModule",{value:!0});o.test=o.serialize=o.default=void 0;var c=B(),h=1,b=3,S=8,P=11,I=/^((HTML|SVG)\w*)?Element$/,A=u((o=>{try{return typeof o.hasAttribute=="function"&&o.hasAttribute("is")}catch(o){return!1}}),"testHasAttribute"),z=u((o=>{let c=o.constructor.name,{nodeType:z,tagName:R}=o,D=typeof R=="string"&&R.includes("-")||A(o);return z===h&&(I.test(c)||D)||z===b&&c==="Text"||z===S&&c==="Comment"||z===P&&c==="DocumentFragment"}),"testNode"),R=u((o=>{var c;return((c=o==null?void 0:o.constructor)==null?void 0:c.name)&&z(o)}),"test");o.test=R;function ob(o){return o.nodeType===b}u(ob,"nodeIsText");function ab(o){return o.nodeType===S}u(ab,"nodeIsComment");function _u(o){return o.nodeType===P}u(_u,"nodeIsFragment");var D=u(((o,h,b,S,P,I)=>{if(ob(o))return(0,c.printText)(o.data,h);if(ab(o))return(0,c.printComment)(o.data,h);let A=_u(o)?"DocumentFragment":o.tagName.toLowerCase();return++S>h.maxDepth?(0,c.printElementAsLeaf)(A,h):(0,c.printElement)(A,(0,c.printProps)(_u(o)?[]:Array.from(o.attributes).map((o=>o.name)).sort(),_u(o)?{}:Array.from(o.attributes).reduce(((o,c)=>(o[c.name]=c.value,o)),{}),h,b+h.indent,S,P,I),(0,c.printChildren)(Array.prototype.slice.call(o.childNodes||o.children),h,b+h.indent,S,P,I),h,b)}),"serialize");o.serialize=D;var L={serialize:D,test:R},G=L;o.default=G}));var V=Tt((o=>{Object.defineProperty(o,"__esModule",{value:!0});o.test=o.serialize=o.default=void 0;var c=D(),h="@@__IMMUTABLE_ITERABLE__@@",b="@@__IMMUTABLE_LIST__@@",S="@@__IMMUTABLE_KEYED__@@",P="@@__IMMUTABLE_MAP__@@",I="@@__IMMUTABLE_ORDERED__@@",A="@@__IMMUTABLE_RECORD__@@",z="@@__IMMUTABLE_SEQ__@@",R="@@__IMMUTABLE_SET__@@",L="@@__IMMUTABLE_STACK__@@",G=u((o=>`Immutable.${o}`),"getImmutableName"),$=u((o=>`[${o}]`),"printAsLeaf"),B=" ",F="…",V=u(((o,h,b,S,P,I,A)=>++S>h.maxDepth?$(G(A)):`${G(A)+B}{${(0,c.printIteratorEntries)(o.entries(),h,b,S,P,I)}}`),"printImmutableEntries");function bb(o){let c=0;return{next(){if(c<o._keys.length){let h=o._keys[c++];return{done:!1,value:[h,o.get(h)]}}return{done:!0,value:void 0}}}}u(bb,"getRecordEntries");var W=u(((o,h,b,S,P,I)=>{let A=G(o._name||"Record");return++S>h.maxDepth?$(A):`${A+B}{${(0,c.printIteratorEntries)(bb(o),h,b,S,P,I)}}`}),"printImmutableRecord"),Z=u(((o,h,b,P,I,A)=>{let z=G("Seq");return++P>h.maxDepth?$(z):o[S]?`${z+B}{${o._iter||o._object?(0,c.printIteratorEntries)(o.entries(),h,b,P,I,A):F}}`:`${z+B}[${o._iter||o._array||o._collection||o._iterable?(0,c.printIteratorValues)(o.values(),h,b,P,I,A):F}]`}),"printImmutableSeq"),Q=u(((o,h,b,S,P,I,A)=>++S>h.maxDepth?$(G(A)):`${G(A)+B}[${(0,c.printIteratorValues)(o.values(),h,b,S,P,I)}]`),"printImmutableValues"),et=u(((o,c,h,S,A,D)=>o[P]?V(o,c,h,S,A,D,o[I]?"OrderedMap":"Map"):o[b]?Q(o,c,h,S,A,D,"List"):o[R]?Q(o,c,h,S,A,D,o[I]?"OrderedSet":"Set"):o[L]?Q(o,c,h,S,A,D,"Stack"):o[z]?Z(o,c,h,S,A,D):W(o,c,h,S,A,D)),"serialize");o.serialize=et;var nt=u((o=>o&&(o[h]===!0||o[A]===!0)),"test");o.test=nt;var it={serialize:et,test:nt},at=it;o.default=at}));var W=Tt((o=>{var c,h=Symbol.for("react.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),z=Symbol.for("react.context"),R=Symbol.for("react.server_context"),D=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen");c=Symbol.for("react.module.reference");function xr(o){if(typeof o=="object"&&o!==null){var c=o.$$typeof;switch(c){case h:switch(o=o.type,o){case S:case I:case P:case L:case G:return o;default:switch(o=o&&o.$$typeof,o){case R:case z:case D:case B:case $:case A:return o;default:return c}}case b:return c}}}u(xr,"v");o.ContextConsumer=z;o.ContextProvider=A;o.Element=h;o.ForwardRef=D;o.Fragment=S;o.Lazy=B;o.Memo=$;o.Portal=b;o.Profiler=I;o.StrictMode=P;o.Suspense=L;o.SuspenseList=G;o.isAsyncMode=function(){return!1};o.isConcurrentMode=function(){return!1};o.isContextConsumer=function(o){return xr(o)===z};o.isContextProvider=function(o){return xr(o)===A};o.isElement=function(o){return typeof o=="object"&&o!==null&&o.$$typeof===h};o.isForwardRef=function(o){return xr(o)===D};o.isFragment=function(o){return xr(o)===S};o.isLazy=function(o){return xr(o)===B};o.isMemo=function(o){return xr(o)===$};o.isPortal=function(o){return xr(o)===b};o.isProfiler=function(o){return xr(o)===I};o.isStrictMode=function(o){return xr(o)===P};o.isSuspense=function(o){return xr(o)===L};o.isSuspenseList=function(o){return xr(o)===G};o.isValidElementType=function(o){return typeof o=="string"||typeof o=="function"||o===S||o===I||o===P||o===L||o===G||o===F||typeof o=="object"&&o!==null&&(o.$$typeof===B||o.$$typeof===$||o.$$typeof===A||o.$$typeof===z||o.$$typeof===D||o.$$typeof===c||o.getModuleId!==void 0)};o.typeOf=xr}));var Z=Tt(((o,c)=>{c.exports=W()}));var Q=Tt((o=>{Object.defineProperty(o,"__esModule",{value:!0});o.test=o.serialize=o.default=void 0;var c=Cb(Z()),h=B();function ff(o){if(typeof WeakMap!="function")return null;var c=new WeakMap,h=new WeakMap;return(ff=u((function(o){return o?h:c}),"_getRequireWildcardCache"))(o)}u(ff,"_getRequireWildcardCache");function Cb(o,c){if(!c&&o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var h=ff(c);if(h&&h.has(o))return h.get(o);var b={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in o)if(P!=="default"&&Object.prototype.hasOwnProperty.call(o,P)){var I=S?Object.getOwnPropertyDescriptor(o,P):null;I&&(I.get||I.set)?Object.defineProperty(b,P,I):b[P]=o[P]}return b.default=o,h&&h.set(o,b),b}u(Cb,"_interopRequireWildcard");var b=u(((o,c=[])=>(Array.isArray(o)?o.forEach((o=>{b(o,c)})):o!=null&&o!==!1&&c.push(o),c)),"getChildren"),S=u((o=>{let h=o.type;if(typeof h=="string")return h;if(typeof h=="function")return h.displayName||h.name||"Unknown";if(c.isFragment(o))return"React.Fragment";if(c.isSuspense(o))return"React.Suspense";if(typeof h=="object"&&h!==null){if(c.isContextProvider(o))return"Context.Provider";if(c.isContextConsumer(o))return"Context.Consumer";if(c.isForwardRef(o)){if(h.displayName)return h.displayName;let o=h.render.displayName||h.render.name||"";return o!==""?`ForwardRef(${o})`:"ForwardRef"}if(c.isMemo(o)){let o=h.displayName||h.type.displayName||h.type.name||"";return o!==""?`Memo(${o})`:"Memo"}}return"UNDEFINED"}),"getType"),P=u((o=>{let{props:c}=o;return Object.keys(c).filter((o=>o!=="children"&&c[o]!==void 0)).sort()}),"getPropKeys"),I=u(((o,c,I,A,z,R)=>++A>c.maxDepth?(0,h.printElementAsLeaf)(S(o),c):(0,h.printElement)(S(o),(0,h.printProps)(P(o),o.props,c,I+c.indent,A,z,R),(0,h.printChildren)(b(o.props.children),c,I+c.indent,A,z,R),c,I)),"serialize");o.serialize=I;var A=u((o=>o!=null&&c.isElement(o)),"test");o.test=A;var z={serialize:I,test:A},R=z;o.default=R}));var et=Tt((o=>{Object.defineProperty(o,"__esModule",{value:!0});o.test=o.serialize=o.default=void 0;var c=B(),h=globalThis["jest-symbol-do-not-touch"]||globalThis.Symbol,b=typeof h=="function"&&h.for?h.for("react.test.json"):245830487,S=u((o=>{let{props:c}=o;return c?Object.keys(c).filter((o=>c[o]!==void 0)).sort():[]}),"getPropKeys"),P=u(((o,h,b,P,I,A)=>++P>h.maxDepth?(0,c.printElementAsLeaf)(o.type,h):(0,c.printElement)(o.type,o.props?(0,c.printProps)(S(o),o.props,h,b+h.indent,P,I,A):"",o.children?(0,c.printChildren)(o.children,h,b+h.indent,P,I,A):"",h,b)),"serialize");o.serialize=P;var I=u((o=>o&&o.$$typeof===b),"test");o.test=I;var A={serialize:P,test:I},z=A;o.default=z}));var nt=Tt((o=>{Object.defineProperty(o,"__esModule",{value:!0});o.default=o.DEFAULT_OPTIONS=void 0;o.format=Nf;o.plugins=void 0;var c=ai(R()),h=D(),b=ai(L()),S=ai(G()),P=ai(F()),I=ai(V()),A=ai(Q()),z=ai(et());function ai(o){return o&&o.__esModule?o:{default:o}}u(ai,"_interopRequireDefault");var $=Object.prototype.toString,B=Date.prototype.toISOString,W=Error.prototype.toString,Z=RegExp.prototype.toString,nt=u((o=>typeof o.constructor=="function"&&o.constructor.name||"Object"),"getConstructorName"),it=u((o=>typeof window!="undefined"&&o===window),"isWindow"),at=/^Symbol\((.*)\)(.*)$/,lt=/\n/gi,ct=class qu extends Error{constructor(o,c){super(o),this.stack=c,this.name=this.constructor.name}};u(ct,"PrettyFormatPluginError");var pt=ct;function Ub(o){return o==="[object Array]"||o==="[object ArrayBuffer]"||o==="[object DataView]"||o==="[object Float32Array]"||o==="[object Float64Array]"||o==="[object Int8Array]"||o==="[object Int16Array]"||o==="[object Int32Array]"||o==="[object Uint8Array]"||o==="[object Uint8ClampedArray]"||o==="[object Uint16Array]"||o==="[object Uint32Array]"}u(Ub,"isToStringedArrayType");function Wb(o){return Object.is(o,-0)?"-0":String(o)}u(Wb,"printNumber");function Vb(o){return`${o}n`}u(Vb,"printBigInt");function Ef(o,c){return c?`[Function ${o.name||"anonymous"}]`:"[Function]"}u(Ef,"printFunction");function Sf(o){return String(o).replace(at,"Symbol($1)")}u(Sf,"printSymbol");function Tf(o){return`[${W.call(o)}]`}u(Tf,"printError");function Mf(o,c,h,b){if(o===!0||o===!1)return`${o}`;if(o===void 0)return"undefined";if(o===null)return"null";let S=typeof o;if(S==="number")return Wb(o);if(S==="bigint")return Vb(o);if(S==="string")return b?`"${o.replace(/"|\\/g,"\\$&")}"`:`"${o}"`;if(S==="function")return Ef(o,c);if(S==="symbol")return Sf(o);let P=$.call(o);return P==="[object WeakMap]"?"WeakMap {}":P==="[object WeakSet]"?"WeakSet {}":P==="[object Function]"||P==="[object GeneratorFunction]"?Ef(o,c):P==="[object Symbol]"?Sf(o):P==="[object Date]"?isNaN(+o)?"Date { NaN }":B.call(o):P==="[object Error]"?Tf(o):P==="[object RegExp]"?h?Z.call(o).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&"):Z.call(o):o instanceof Error?Tf(o):null}u(Mf,"printBasicValue");function If(o,c,b,S,P,I){if(P.indexOf(o)!==-1)return"[Circular]";P=P.slice(),P.push(o);let A=++S>c.maxDepth,z=c.min;if(c.callToJSON&&!A&&o.toJSON&&typeof o.toJSON=="function"&&!I)return zn(o.toJSON(),c,b,S,P,!0);let R=$.call(o);return R==="[object Arguments]"?A?"[Arguments]":`${z?"":"Arguments "}[${(0,h.printListItems)(o,c,b,S,P,zn)}]`:Ub(R)?A?`[${o.constructor.name}]`:`${z||!c.printBasicPrototype&&o.constructor.name==="Array"?"":`${o.constructor.name} `}[${(0,h.printListItems)(o,c,b,S,P,zn)}]`:R==="[object Map]"?A?"[Map]":`Map {${(0,h.printIteratorEntries)(o.entries(),c,b,S,P,zn," => ")}}`:R==="[object Set]"?A?"[Set]":`Set {${(0,h.printIteratorValues)(o.values(),c,b,S,P,zn)}}`:A||it(o)?`[${nt(o)}]`:`${z||!c.printBasicPrototype&&nt(o)==="Object"?"":`${nt(o)} `}{${(0,h.printObjectProperties)(o,c,b,S,P,zn)}}`}u(If,"printComplexValue");function Yb(o){return o.serialize!=null}u(Yb,"isNewPlugin");function Af(o,c,h,b,S,P){let I;try{I=Yb(o)?o.serialize(c,h,b,S,P,zn):o.print(c,(o=>zn(o,h,b,S,P)),(o=>{let c=b+h.indent;return c+o.replace(lt,`\n${c}`)}),{edgeSpacing:h.spacingOuter,min:h.min,spacing:h.spacingInner},h.colors)}catch(o){throw new pt(o.message,o.stack)}if(typeof I!="string")throw new Error(`pretty-format: Plugin must return type "string" but instead returned "${typeof I}".`);return I}u(Af,"printPlugin");function Pf(o,c){for(let h=0;h<o.length;h++)try{if(o[h].test(c))return o[h]}catch(o){throw new pt(o.message,o.stack)}return null}u(Pf,"findPlugin");function zn(o,c,h,b,S,P){let I=Pf(c.plugins,o);if(I!==null)return Af(I,o,c,h,b,S);let A=Mf(o,c.printFunctionName,c.escapeRegex,c.escapeString);return A!==null?A:If(o,c,h,b,S,P)}u(zn,"printer");var dt={comment:"gray",content:"reset",prop:"yellow",tag:"cyan",value:"green"},mt=Object.keys(dt),wt=u((o=>o),"toOptionsSubtype"),Et=wt({callToJSON:!0,compareKeys:void 0,escapeRegex:!1,escapeString:!0,highlight:!1,indent:2,maxDepth:1/0,maxWidth:1/0,min:!1,plugins:[],printBasicPrototype:!0,printFunctionName:!0,theme:dt});o.DEFAULT_OPTIONS=Et;function Zb(o){if(Object.keys(o).forEach((o=>{if(!Object.prototype.hasOwnProperty.call(Et,o))throw new Error(`pretty-format: Unknown option "${o}".`)})),o.min&&o.indent!==void 0&&o.indent!==0)throw new Error('pretty-format: Options "min" and "indent" cannot be used together.');if(o.theme!==void 0){if(o.theme===null)throw new Error('pretty-format: Option "theme" must not be null.');if(typeof o.theme!="object")throw new Error(`pretty-format: Option "theme" must be of type "object" but instead received "${typeof o.theme}".`)}}u(Zb,"validateOptions");var kt=u((o=>mt.reduce(((h,b)=>{let S=o.theme&&o.theme[b]!==void 0?o.theme[b]:dt[b],P=S&&c.default[S];if(!P||typeof P.close!="string"||typeof P.open!="string")throw new Error(`pretty-format: Option "theme" has a key "${b}" whose value "${S}" is undefined in ansi-styles.`);h[b]=P;return h}),Object.create(null))),"getColorsHighlight"),Pt=u((()=>mt.reduce(((o,c)=>(o[c]={close:"",open:""},o)),Object.create(null))),"getColorsEmpty"),It=u((o=>{var c;return(c=o==null?void 0:o.printFunctionName)!=null?c:Et.printFunctionName}),"getPrintFunctionName"),At=u((o=>{var c;return(c=o==null?void 0:o.escapeRegex)!=null?c:Et.escapeRegex}),"getEscapeRegex"),zt=u((o=>{var c;return(c=o==null?void 0:o.escapeString)!=null?c:Et.escapeString}),"getEscapeString"),Rt=u((o=>{var c,h,b,S,P,I,A;return{callToJSON:(c=o==null?void 0:o.callToJSON)!=null?c:Et.callToJSON,colors:o!=null&&o.highlight?kt(o):Pt(),compareKeys:typeof(o==null?void 0:o.compareKeys)=="function"||(o==null?void 0:o.compareKeys)===null?o.compareKeys:Et.compareKeys,escapeRegex:At(o),escapeString:zt(o),indent:o!=null&&o.min?"":Qb((h=o==null?void 0:o.indent)!=null?h:Et.indent),maxDepth:(b=o==null?void 0:o.maxDepth)!=null?b:Et.maxDepth,maxWidth:(S=o==null?void 0:o.maxWidth)!=null?S:Et.maxWidth,min:(P=o==null?void 0:o.min)!=null?P:Et.min,plugins:(I=o==null?void 0:o.plugins)!=null?I:Et.plugins,printBasicPrototype:(A=o==null?void 0:o.printBasicPrototype)==null||A,printFunctionName:It(o),spacingInner:o!=null&&o.min?" ":"\n",spacingOuter:o!=null&&o.min?"":"\n"}}),"getConfig");function Qb(o){return new Array(o+1).join(" ")}u(Qb,"createIndent");function Nf(o,c){if(c&&(Zb(c),c.plugins)){let h=Pf(c.plugins,o);if(h!==null)return Af(h,o,Rt(c),"",0,[])}let h=Mf(o,It(c),At(c),zt(c));return h!==null?h:If(o,Rt(c),"",0,[])}u(Nf,"format");var Dt={AsymmetricMatcher:b.default,DOMCollection:S.default,DOMElement:P.default,Immutable:I.default,ReactElement:A.default,ReactTestComponent:z.default};o.plugins=Dt;var jt=Nf;o.default=jt}));var it=Tt(((o,c)=>{(function(h){typeof o=="object"&&typeof c!="undefined"?c.exports=h():typeof define=="function"&&define.amd?define([],h):(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this).interact=h()})((function(){var o={};Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,o.default=function(o){return!(!o||!o.Window)&&o instanceof o.Window};var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.getWindow=function(c){return(0,o.default)(c)?c:(c.ownerDocument||c).defaultView||b.window},c.init=s,c.window=c.realWindow=void 0;var h=void 0;c.realWindow=h;var b=void 0;function s(o){c.realWindow=h=o;var S=o.document.createTextNode("");S.ownerDocument!==o.document&&typeof o.wrap=="function"&&o.wrap(S)===S&&(o=o.wrap(o)),c.window=b=o}u(s,"o"),c.window=b,typeof window!="undefined"&&window&&s(window);var S={};function p(o){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},p(o)}u(p,"a"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var P=u((function(o){return!!o&&p(o)==="object"}),"s"),I=u((function(o){return typeof o=="function"}),"l"),A={window:function(h){return h===c.window||(0,o.default)(h)},docFrag:function(o){return P(o)&&o.nodeType===11},object:P,func:I,number:function(o){return typeof o=="number"},bool:function(o){return typeof o=="boolean"},string:function(o){return typeof o=="string"},element:function(o){if(!o||p(o)!=="object")return!1;var h=c.getWindow(o)||c.window;return/object|function/.test(typeof Element=="undefined"?"undefined":p(Element))?o instanceof Element||o instanceof h.Element:o.nodeType===1&&typeof o.nodeName=="string"},plainObject:function(o){return P(o)&&!!o.constructor&&/function Object\b/.test(o.constructor.toString())},array:function(o){return P(o)&&o.length!==void 0&&I(o.splice)}};S.default=A;var z={};function g(o){var c=o.interaction;if(c.prepared.name==="drag"){var h=c.prepared.axis;h==="x"?(c.coords.cur.page.y=c.coords.start.page.y,c.coords.cur.client.y=c.coords.start.client.y,c.coords.velocity.client.y=0,c.coords.velocity.page.y=0):h==="y"&&(c.coords.cur.page.x=c.coords.start.page.x,c.coords.cur.client.x=c.coords.start.client.x,c.coords.velocity.client.x=0,c.coords.velocity.page.x=0)}}u(g,"f");function w(o){var c=o.iEvent,h=o.interaction;if(h.prepared.name==="drag"){var b=h.prepared.axis;if(b==="x"||b==="y"){var S=b==="x"?"y":"x";c.page[S]=h.coords.start.page[S],c.client[S]=h.coords.start.client[S],c.delta[S]=0}}}u(w,"d"),Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var R={id:"actions/drag",install:function(o){var c=o.actions,h=o.Interactable,b=o.defaults;h.prototype.draggable=R.draggable,c.map.drag=R,c.methodDict.drag="draggable",b.actions.drag=R.defaults},listeners:{"interactions:before-action-move":g,"interactions:action-resume":g,"interactions:action-move":w,"auto-start:check":function(o){var c=o.interaction,h=o.interactable,b=o.buttons,S=h.options.drag;if(S&&S.enabled&&(!c.pointerIsDown||!/mouse|pointer/.test(c.pointerType)||b&h.options.drag.mouseButtons))return o.action={name:"drag",axis:S.lockAxis==="start"?S.startAxis:S.lockAxis},!1}},draggable:function(o){return S.default.object(o)?(this.options.drag.enabled=o.enabled!==!1,this.setPerAction("drag",o),this.setOnEvents("drag",o),/^(xy|x|y|start)$/.test(o.lockAxis)&&(this.options.drag.lockAxis=o.lockAxis),/^(xy|x|y)$/.test(o.startAxis)&&(this.options.drag.startAxis=o.startAxis),this):S.default.bool(o)?(this.options.drag.enabled=o,this):this.options.drag},beforeMove:g,move:w,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},D=R;z.default=D;var L={};Object.defineProperty(L,"__esModule",{value:!0}),L.default=void 0;var G={init:function(o){var c=o;G.document=c.document,G.DocumentFragment=c.DocumentFragment||_,G.SVGElement=c.SVGElement||_,G.SVGSVGElement=c.SVGSVGElement||_,G.SVGElementInstance=c.SVGElementInstance||_,G.Element=c.Element||_,G.HTMLElement=c.HTMLElement||G.Element,G.Event=c.Event,G.Touch=c.Touch||_,G.PointerEvent=c.PointerEvent||c.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function _(){}u(_,"y");var $=G;L.default=$;var B={};Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var F={init:function(o){var c=L.default.Element,h=o.navigator||{};F.supportsTouch="ontouchstart"in o||S.default.func(o.DocumentTouch)&&L.default.document instanceof o.DocumentTouch,F.supportsPointerEvent=h.pointerEnabled!==!1&&!!L.default.PointerEvent,F.isIOS=/iP(hone|od|ad)/.test(h.platform),F.isIOS7=/iP(hone|od|ad)/.test(h.platform)&&/OS 7[^\d]/.test(h.appVersion),F.isIe9=/MSIE 9/.test(h.userAgent),F.isOperaMobile=h.appName==="Opera"&&F.supportsTouch&&/Presto/.test(h.userAgent),F.prefixedMatchesSelector="matches"in c.prototype?"matches":"webkitMatchesSelector"in c.prototype?"webkitMatchesSelector":"mozMatchesSelector"in c.prototype?"mozMatchesSelector":"oMatchesSelector"in c.prototype?"oMatchesSelector":"msMatchesSelector",F.pEventTypes=F.supportsPointerEvent?L.default.PointerEvent===o.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,F.wheelEvent=L.default.document&&"onmousewheel"in L.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},V=F;B.default=V;var W={};function H(o){var c=o.parentNode;if(S.default.docFrag(c)){for(;(c=c.host)&&S.default.docFrag(c););return c}return c}u(H,"P");function te(o,h){return c.window!==c.realWindow&&(h=h.replace(/\/deep\//g," ")),o[B.default.prefixedMatchesSelector](h)}u(te,"O"),Object.defineProperty(W,"__esModule",{value:!0}),W.closest=function(o,c){for(;S.default.element(o);){if(te(o,c))return o;o=H(o)}return null},W.getActualElement=function(o){return o.correspondingUseElement||o},W.getElementClientRect=ie,W.getElementRect=function(o){var h=ie(o);if(!B.default.isIOS7&&h){var b=K(c.getWindow(o));h.left+=b.x,h.right+=b.x,h.top+=b.y,h.bottom+=b.y}return h},W.getPath=function(o){for(var c=[];o;)c.push(o),o=H(o);return c},W.getScrollXY=K,W.indexOfDeepestElement=function(o){for(var h,b=[],S=0;S<o.length;S++){var P=o[S],I=o[h];if(P&&S!==h)if(I){var A=Z(P),z=Z(I);if(A!==P.ownerDocument)if(z!==P.ownerDocument)if(A!==z){b=b.length?b:ue(I);var R=void 0;if(I instanceof L.default.HTMLElement&&P instanceof L.default.SVGElement&&!(P instanceof L.default.SVGSVGElement)){if(P===z)continue;R=P.ownerSVGElement}else R=P;for(var D=ue(R,I.ownerDocument),G=0;D[G]&&D[G]===b[G];)G++;var $=[D[G-1],D[G],b[G]];if($[0])for(var B=$[0].lastChild;B;){if(B===$[1]){h=S,b=D;break}if(B===$[2])break;B=B.previousSibling}}else F=P,V=I,(parseInt(c.getWindow(F).getComputedStyle(F).zIndex,10)||0)>=(parseInt(c.getWindow(V).getComputedStyle(V).zIndex,10)||0)&&(h=S);else h=S}else h=S}var F,V;return h},W.matchesSelector=te,W.matchesUpTo=function(o,c,h){for(;S.default.element(o);){if(te(o,c))return!0;if((o=H(o))===h)return te(o,c)}return!1},W.nodeContains=function(o,c){if(o.contains)return o.contains(c);for(;c;){if(c===o)return!0;c=c.parentNode}return!1},W.parentNode=H,W.trySelector=function(o){return!!S.default.string(o)&&(L.default.document.querySelector(o),!0)};var Z=u((function(o){return o.parentNode||o.host}),"E");function ue(o,c){for(var h,b=[],S=o;(h=Z(S))&&S!==c&&h!==S.ownerDocument;)b.unshift(S),S=h;return b}u(ue,"S");function K(o){return{x:(o=o||c.window).scrollX||o.document.documentElement.scrollLeft,y:o.scrollY||o.document.documentElement.scrollTop}}u(K,"T");function ie(o){var c=o instanceof L.default.SVGElement?o.getBoundingClientRect():o.getClientRects()[0];return c&&{left:c.left,right:c.right,top:c.top,bottom:c.bottom,width:c.width||c.right-c.left,height:c.height||c.bottom-c.top}}u(ie,"j");var Q={};Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=function(o,c){for(var h in c)o[h]=c[h];return o};var et={};function tt(o,c){(c==null||c>o.length)&&(c=o.length);for(var h=0,b=Array(c);h<c;h++)b[h]=o[h];return b}u(tt,"I");function Ze(o,c,h){return o==="parent"?(0,W.parentNode)(h):o==="self"?c.getRect(h):(0,W.closest)(h,o)}u(Ze,"D"),Object.defineProperty(et,"__esModule",{value:!0}),et.addEdges=function(o,c,h){o.left&&(c.left+=h.x),o.right&&(c.right+=h.x),o.top&&(c.top+=h.y),o.bottom&&(c.bottom+=h.y),c.width=c.right-c.left,c.height=c.bottom-c.top},et.getStringOptionResult=Ze,et.rectToXY=function(o){return o&&{x:"x"in o?o.x:o.left,y:"y"in o?o.y:o.top}},et.resolveRectLike=function(o,c,h,b){var P,I=o;return S.default.string(I)?I=Ze(I,c,h):S.default.func(I)&&(I=I.apply(void 0,function(o){if(Array.isArray(o))return tt(o)}(P=b)||function(o){if(typeof Symbol!="undefined"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}(P)||function(o,c){if(o){if(typeof o=="string")return tt(o,c);var h=Object.prototype.toString.call(o).slice(8,-1);return h==="Object"&&o.constructor&&(h=o.constructor.name),h==="Map"||h==="Set"?Array.from(o):h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?tt(o,c):void 0}}(P)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),S.default.element(I)&&(I=(0,W.getElementRect)(I)),I},et.tlbrToXywh=function(o){return!o||"x"in o&&"y"in o||((o=(0,Q.default)({},o)).x=o.left||0,o.y=o.top||0,o.width=o.width||(o.right||0)-o.x,o.height=o.height||(o.bottom||0)-o.y),o},et.xywhToTlbr=function(o){return!o||"left"in o&&"top"in o||((o=(0,Q.default)({},o)).left=o.x||0,o.top=o.y||0,o.right=o.right||o.left+o.width,o.bottom=o.bottom||o.top+o.height),o};var nt={};Object.defineProperty(nt,"__esModule",{value:!0}),nt.default=function(o,c,h){var b=o.options[h],S=b&&b.origin||o.options.origin,P=(0,et.resolveRectLike)(S,o,c,[o&&c]);return(0,et.rectToXY)(P)||{x:0,y:0}};var it={};function We(o){return o.trim().split(/ +/)}u(We,"C"),Object.defineProperty(it,"__esModule",{value:!0}),it.default=u((function i(o,c,h){if(h=h||{},S.default.string(o)&&o.search(" ")!==-1&&(o=We(o)),S.default.array(o))return o.reduce((function(o,b){return(0,Q.default)(o,i(b,c,h))}),h);if(S.default.object(o)&&(c=o,o=""),S.default.func(c))h[o]=h[o]||[],h[o].push(c);else if(S.default.array(c))for(var b=0;b<c.length;b++){var P;P=c[b],i(o,P,h)}else if(S.default.object(c))for(var I in c){var A=We(I).map((function(c){return"".concat(o).concat(c)}));i(A,c[I],h)}return h}),"t");var at={};Object.defineProperty(at,"__esModule",{value:!0}),at.default=void 0,at.default=function(o,c){return Math.sqrt(o*o+c*c)};var lt={};Object.defineProperty(lt,"__esModule",{value:!0}),lt.default=function(o,c){o.__set||(o.__set={});var h=u((function(h){typeof o[h]!="function"&&h!=="__set"&&Object.defineProperty(o,h,{get:function(){return h in o.__set?o.__set[h]:o.__set[h]=c[h]},set:function(c){o.__set[h]=c},configurable:!0})}),"n");for(var b in c)h(b);return o};var ct={};function or(o){return o instanceof L.default.Event||o instanceof L.default.Touch}u(or,"B");function je(o,c,h){return o=o||"page",(h=h||{}).x=c[o+"X"],h.y=c[o+"Y"],h}u(je,"Y");function rt(o,c){return c=c||{x:0,y:0},B.default.isOperaMobile&&or(o)?(je("screen",o,c),c.x+=window.scrollX,c.y+=window.scrollY):je("page",o,c),c}u(rt,"W");function mr(o,c){return c=c||{},B.default.isOperaMobile&&or(o)?je("screen",o,c):je("client",o,c),c}u(mr,"L");function Mr(o){var c=[];return S.default.array(o)?(c[0]=o[0],c[1]=o[1]):o.type==="touchend"?o.touches.length===1?(c[0]=o.touches[0],c[1]=o.changedTouches[0]):o.touches.length===0&&(c[0]=o.changedTouches[0],c[1]=o.changedTouches[1]):(c[0]=o.touches[0],c[1]=o.touches[1]),c}u(Mr,"U");function vr(o){for(var c={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},h=0;h<o.length;h++){var b=o[h];for(var S in c)c[S]+=b[S]}for(var P in c)c[P]/=o.length;return c}u(vr,"V"),Object.defineProperty(ct,"__esModule",{value:!0}),ct.coordsToEvent=function(o){return{coords:o,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},ct.copyCoords=function(o,c){o.page=o.page||{},o.page.x=c.page.x,o.page.y=c.page.y,o.client=o.client||{},o.client.x=c.client.x,o.client.y=c.client.y,o.timeStamp=c.timeStamp},ct.getClientXY=mr,ct.getEventTargets=function(o){var c=S.default.func(o.composedPath)?o.composedPath():o.path;return[W.getActualElement(c?c[0]:o.target),W.getActualElement(o.currentTarget)]},ct.getPageXY=rt,ct.getPointerId=function(o){return S.default.number(o.pointerId)?o.pointerId:o.identifier},ct.getPointerType=function(o){return S.default.string(o.pointerType)?o.pointerType:S.default.number(o.pointerType)?[void 0,void 0,"touch","pen","mouse"][o.pointerType]:/touch/.test(o.type||"")||o instanceof L.default.Touch?"touch":"mouse"},ct.getTouchPair=Mr,ct.getXY=je,ct.isNativePointer=or,ct.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},ct.pointerAverage=vr,Object.defineProperty(ct,"pointerExtend",{enumerable:!0,get:function(){return lt.default}}),ct.setCoordDeltas=function(o,c,h){o.page.x=h.page.x-c.page.x,o.page.y=h.page.y-c.page.y,o.client.x=h.client.x-c.client.x,o.client.y=h.client.y-c.client.y,o.timeStamp=h.timeStamp-c.timeStamp},ct.setCoordVelocity=function(o,c){var h=Math.max(c.timeStamp/1e3,.001);o.page.x=c.page.x/h,o.page.y=c.page.y/h,o.client.x=c.client.x/h,o.client.y=c.client.y/h,o.timeStamp=h},ct.setCoords=function(o,c,h){var b=c.length>1?vr(c):c[0];rt(b,o.page),mr(b,o.client),o.timeStamp=h},ct.setZeroCoords=function(o){o.page.x=0,o.page.y=0,o.client.x=0,o.client.y=0},ct.touchAngle=function(o,c){var h=c+"X",b=c+"Y",S=Mr(o),P=S[1][h]-S[0][h],I=S[1][b]-S[0][b];return 180*Math.atan2(I,P)/Math.PI},ct.touchBBox=function(o){if(!o.length)return null;var c=Mr(o),h=Math.min(c[0].pageX,c[1].pageX),b=Math.min(c[0].pageY,c[1].pageY),S=Math.max(c[0].pageX,c[1].pageX),P=Math.max(c[0].pageY,c[1].pageY);return{x:h,y:b,left:h,top:b,right:S,bottom:P,width:S-h,height:P-b}},ct.touchDistance=function(o,c){var h=c+"X",b=c+"Y",S=Mr(o),P=S[0][h]-S[1][h],I=S[0][b]-S[1][b];return(0,at.default)(P,I)};var pt={};function Nr(o,c){for(var h=0;h<c.length;h++){var b=c[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(o,b.key,b)}}u(Nr,"q");function Vr(o,c,h){return c in o?Object.defineProperty(o,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):o[c]=h,o}u(Vr,"G"),Object.defineProperty(pt,"__esModule",{value:!0}),pt.BaseEvent=void 0;var dt=function(){function i(o){(function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),Vr(this,"immediatePropagationStopped",!1),Vr(this,"propagationStopped",!1),this._interaction=o}u(i,"t");var o,c;return o=i,(c=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&Nr(o.prototype,c),Object.defineProperty(o,"prototype",{writable:!1}),i}();pt.BaseEvent=dt,Object.defineProperty(dt.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var mt={};Object.defineProperty(mt,"__esModule",{value:!0}),mt.remove=mt.merge=mt.from=mt.findIndex=mt.find=mt.contains=void 0,mt.contains=function(o,c){return o.indexOf(c)!==-1},mt.remove=function(o,c){return o.splice(o.indexOf(c),1)};var wt=u((function(o,c){for(var h=0;h<c.length;h++){var b=c[h];o.push(b)}return o}),"K");mt.merge=wt,mt.from=function(o){return wt([],o)};var Et=u((function(o,c){for(var h=0;h<o.length;h++)if(c(o[h],h,o))return h;return-1}),"Z");mt.findIndex=Et,mt.find=function(o,c){return o[Et(o,c)]};var kt={};function Yr(o){return Yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Yr(o)}u(Yr,"Q");function wi(o,c){for(var h=0;h<c.length;h++){var b=c[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(o,b.key,b)}}u(wi,"tt");function fn(o,c){return fn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,c){return o.__proto__=c,o},fn(o,c)}u(fn,"et");function Ir(o,c){if(c&&(Yr(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mt(o)}u(Ir,"nt");function Mt(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}u(Mt,"rt");function _r(o){return _r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},_r(o)}u(_r,"ot");function Jt(o,c,h){return c in o?Object.defineProperty(o,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):o[c]=h,o}u(Jt,"it"),Object.defineProperty(kt,"__esModule",{value:!0}),kt.DropEvent=void 0;var Pt=function(o){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),c&&fn(o,c)})(E,o);var c,h,b,S,P=(b=E,S=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(o){return!1}}(),function(){var o,c=_r(b);if(S){var h=_r(this).constructor;o=Reflect.construct(c,arguments,h)}else o=c.apply(this,arguments);return Ir(this,o)});function E(o,c,h){var b;(function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")})(this,E),Jt(Mt(b=P.call(this,c._interaction)),"dropzone",void 0),Jt(Mt(b),"dragEvent",void 0),Jt(Mt(b),"relatedTarget",void 0),Jt(Mt(b),"draggable",void 0),Jt(Mt(b),"propagationStopped",!1),Jt(Mt(b),"immediatePropagationStopped",!1);var S=h==="dragleave"?o.prev:o.cur,I=S.element,A=S.dropzone;return b.type=h,b.target=I,b.currentTarget=I,b.dropzone=A,b.dragEvent=c,b.relatedTarget=c.target,b.draggable=c.interactable,b.timeStamp=c.timeStamp,b}return u(E,"a"),c=E,(h=[{key:"reject",value:function(){var o=this,c=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&c.cur.dropzone===this.dropzone&&c.cur.element===this.target)if(c.prev.dropzone=this.dropzone,c.prev.element=this.target,c.rejected=!0,c.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var h=c.activeDrops,b=mt.findIndex(h,(function(c){var h=c.dropzone,b=c.element;return h===o.dropzone&&b===o.target}));c.activeDrops.splice(b,1);var S=new E(c,this.dragEvent,"dropdeactivate");S.dropzone=this.dropzone,S.target=this.target,this.dropzone.fire(S)}else this.dropzone.fire(new E(c,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&wi(c.prototype,h),Object.defineProperty(c,"prototype",{writable:!1}),E}(pt.BaseEvent);kt.DropEvent=Pt;var It={};function Hn(o,c){for(var h=0;h<o.slice().length;h++){var b=o.slice()[h],S=b.dropzone,P=b.element;c.dropzone=S,c.target=P,S.fire(c),c.propagationStopped=c.immediatePropagationStopped=!1}}u(Hn,"lt");function hn(o,c){for(var h=function(o,c){for(var h=o.interactables,b=[],P=0;P<h.list.length;P++){var I=h.list[P];if(I.options.drop.enabled){var A=I.options.drop.accept;if(!(S.default.element(A)&&A!==c||S.default.string(A)&&!W.matchesSelector(c,A)||S.default.func(A)&&!A({dropzone:I,draggableElement:c})))for(var z=S.default.string(I.target)?I._context.querySelectorAll(I.target):S.default.array(I.target)?I.target:[I.target],R=0;R<z.length;R++){var D=z[R];D!==c&&b.push({dropzone:I,element:D,rect:I.getRect(D)})}}}return b}(o,c),b=0;b<h.length;b++){var P=h[b];P.rect=P.dropzone.getRect(P.element)}return h}u(hn,"ut");function $n(o,c,h){for(var b=o.dropState,S=o.interactable,P=o.element,I=[],A=0;A<b.activeDrops.length;A++){var z=b.activeDrops[A],R=z.dropzone,D=z.element,L=z.rect;I.push(R.dropCheck(c,h,S,P,D,L)?D:null)}var G=W.indexOfDeepestElement(I);return b.activeDrops[G]||null}u($n,"ct");function oo(o,c,h){var b=o.dropState,S={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return h.type==="dragstart"&&(S.activate=new kt.DropEvent(b,h,"dropactivate"),S.activate.target=null,S.activate.dropzone=null),h.type==="dragend"&&(S.deactivate=new kt.DropEvent(b,h,"dropdeactivate"),S.deactivate.target=null,S.deactivate.dropzone=null),b.rejected||(b.cur.element!==b.prev.element&&(b.prev.dropzone&&(S.leave=new kt.DropEvent(b,h,"dragleave"),h.dragLeave=S.leave.target=b.prev.element,h.prevDropzone=S.leave.dropzone=b.prev.dropzone),b.cur.dropzone&&(S.enter=new kt.DropEvent(b,h,"dragenter"),h.dragEnter=b.cur.element,h.dropzone=b.cur.dropzone)),h.type==="dragend"&&b.cur.dropzone&&(S.drop=new kt.DropEvent(b,h,"drop"),h.dropzone=b.cur.dropzone,h.relatedTarget=b.cur.element),h.type==="dragmove"&&b.cur.dropzone&&(S.move=new kt.DropEvent(b,h,"dropmove"),S.move.dragmove=h,h.dropzone=b.cur.dropzone)),S}u(oo,"ft");function ao(o,c){var h=o.dropState,b=h.activeDrops,S=h.cur,P=h.prev;c.leave&&P.dropzone.fire(c.leave),c.enter&&S.dropzone.fire(c.enter),c.move&&S.dropzone.fire(c.move),c.drop&&S.dropzone.fire(c.drop),c.deactivate&&Hn(b,c.deactivate),h.prev.dropzone=S.dropzone,h.prev.element=S.element}u(ao,"dt");function ga(o,c){var h=o.interaction,b=o.iEvent,S=o.event;if(b.type==="dragmove"||b.type==="dragend"){var P=h.dropState;c.dynamicDrop&&(P.activeDrops=hn(c,h.element));var I=b,A=$n(h,I,S);P.rejected=P.rejected&&!!A&&A.dropzone===P.cur.dropzone&&A.element===P.cur.element,P.cur.dropzone=A&&A.dropzone,P.cur.element=A&&A.element,P.events=oo(h,0,I)}}u(ga,"pt"),Object.defineProperty(It,"__esModule",{value:!0}),It.default=void 0;var At={id:"actions/drop",install:function(o){var c=o.actions,h=o.interactStatic,b=o.Interactable,P=o.defaults;o.usePlugin(z.default),b.prototype.dropzone=function(o){return function(o,c){if(S.default.object(c)){if(o.options.drop.enabled=c.enabled!==!1,c.listeners){var h=(0,it.default)(c.listeners),b=Object.keys(h).reduce((function(o,c){return o[/^(enter|leave)/.test(c)?"drag".concat(c):/^(activate|deactivate|move)/.test(c)?"drop".concat(c):c]=h[c],o}),{});o.off(o.options.drop.listeners),o.on(b),o.options.drop.listeners=b}return S.default.func(c.ondrop)&&o.on("drop",c.ondrop),S.default.func(c.ondropactivate)&&o.on("dropactivate",c.ondropactivate),S.default.func(c.ondropdeactivate)&&o.on("dropdeactivate",c.ondropdeactivate),S.default.func(c.ondragenter)&&o.on("dragenter",c.ondragenter),S.default.func(c.ondragleave)&&o.on("dragleave",c.ondragleave),S.default.func(c.ondropmove)&&o.on("dropmove",c.ondropmove),/^(pointer|center)$/.test(c.overlap)?o.options.drop.overlap=c.overlap:S.default.number(c.overlap)&&(o.options.drop.overlap=Math.max(Math.min(1,c.overlap),0)),"accept"in c&&(o.options.drop.accept=c.accept),"checker"in c&&(o.options.drop.checker=c.checker),o}return S.default.bool(c)?(o.options.drop.enabled=c,o):o.options.drop}(this,o)},b.prototype.dropCheck=function(o,c,h,b,P,I){return function(o,c,h,b,P,I,A){var z=!1;if(!(A=A||o.getRect(I)))return!!o.options.drop.checker&&o.options.drop.checker(c,h,z,o,I,b,P);var R=o.options.drop.overlap;if(R==="pointer"){var D=(0,nt.default)(b,P,"drag"),L=ct.getPageXY(c);L.x+=D.x,L.y+=D.y;var G=L.x>A.left&&L.x<A.right,$=L.y>A.top&&L.y<A.bottom;z=G&&$}var B=b.getRect(P);if(B&&R==="center"){var F=B.left+B.width/2,V=B.top+B.height/2;z=F>=A.left&&F<=A.right&&V>=A.top&&V<=A.bottom}return B&&S.default.number(R)&&(z=Math.max(0,Math.min(A.right,B.right)-Math.max(A.left,B.left))*Math.max(0,Math.min(A.bottom,B.bottom)-Math.max(A.top,B.top))/(B.width*B.height)>=R),o.options.drop.checker&&(z=o.options.drop.checker(c,h,z,o,I,b,P)),z}(this,o,c,h,b,P,I)},h.dynamicDrop=function(c){return S.default.bool(c)?(o.dynamicDrop=c,h):o.dynamicDrop},(0,Q.default)(c.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),c.methodDict.drop="dropzone",o.dynamicDrop=!1,P.actions.drop=At.defaults},listeners:{"interactions:before-action-start":function(o){var c=o.interaction;c.prepared.name==="drag"&&(c.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(o,c){var h=o.interaction,b=(o.event,o.iEvent);if(h.prepared.name==="drag"){var S=h.dropState;S.activeDrops=null,S.events=null,S.activeDrops=hn(c,h.element),S.events=oo(h,0,b),S.events.activate&&(Hn(S.activeDrops,S.events.activate),c.fire("actions/drop:start",{interaction:h,dragEvent:b}))}},"interactions:action-move":ga,"interactions:after-action-move":function(o,c){var h=o.interaction,b=o.iEvent;h.prepared.name==="drag"&&(ao(h,h.dropState.events),c.fire("actions/drop:move",{interaction:h,dragEvent:b}),h.dropState.events={})},"interactions:action-end":function(o,c){if(o.interaction.prepared.name==="drag"){var h=o.interaction,b=o.iEvent;ga(o,c),ao(h,h.dropState.events),c.fire("actions/drop:end",{interaction:h,dragEvent:b})}},"interactions:stop":function(o){var c=o.interaction;if(c.prepared.name==="drag"){var h=c.dropState;h&&(h.activeDrops=null,h.events=null,h.cur.dropzone=null,h.cur.element=null,h.prev.dropzone=null,h.prev.element=null,h.rejected=!1)}}},getActiveDrops:hn,getDrop:$n,getDropEvents:oo,fireDropEvents:ao,defaults:{enabled:!1,accept:null,overlap:"pointer"}},zt=At;It.default=zt;var Rt={};function re(o){var c=o.interaction,h=o.iEvent,b=o.phase;if(c.prepared.name==="gesture"){var P=c.pointers.map((function(o){return o.pointer})),I=b==="start",A=b==="end",z=c.interactable.options.deltaSource;if(h.touches=[P[0],P[1]],I)h.distance=ct.touchDistance(P,z),h.box=ct.touchBBox(P),h.scale=1,h.ds=0,h.angle=ct.touchAngle(P,z),h.da=0,c.gesture.startDistance=h.distance,c.gesture.startAngle=h.angle;else if(A){var R=c.prevEvent;h.distance=R.distance,h.box=R.box,h.scale=R.scale,h.ds=0,h.angle=R.angle,h.da=0}else h.distance=ct.touchDistance(P,z),h.box=ct.touchBBox(P),h.scale=h.distance/c.gesture.startDistance,h.angle=ct.touchAngle(P,z),h.ds=h.scale-c.gesture.scale,h.da=h.angle-c.gesture.angle;c.gesture.distance=h.distance,c.gesture.angle=h.angle,S.default.number(h.scale)&&h.scale!==1/0&&!isNaN(h.scale)&&(c.gesture.scale=h.scale)}}u(re,"yt"),Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.default=void 0;var Dt={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(o){var c=o.actions,h=o.Interactable,b=o.defaults;h.prototype.gesturable=function(o){return S.default.object(o)?(this.options.gesture.enabled=o.enabled!==!1,this.setPerAction("gesture",o),this.setOnEvents("gesture",o),this):S.default.bool(o)?(this.options.gesture.enabled=o,this):this.options.gesture},c.map.gesture=Dt,c.methodDict.gesture="gesturable",b.actions.gesture=Dt.defaults},listeners:{"interactions:action-start":re,"interactions:action-move":re,"interactions:action-end":re,"interactions:new":function(o){o.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(o){if(!(o.interaction.pointers.length<2)){var c=o.interactable.options.gesture;if(c&&c.enabled)return o.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},jt=Dt;Rt.default=jt;var Lt={};function xt(o,c,h,b,P,I,A){if(!c)return!1;if(c===!0){var z=S.default.number(I.width)?I.width:I.right-I.left,R=S.default.number(I.height)?I.height:I.bottom-I.top;if(A=Math.min(A,Math.abs((o==="left"||o==="right"?z:R)/2)),z<0&&(o==="left"?o="right":o==="right"&&(o="left")),R<0&&(o==="top"?o="bottom":o==="bottom"&&(o="top")),o==="left"){var D=z>=0?I.left:I.right;return h.x<D+A}if(o==="top"){var L=R>=0?I.top:I.bottom;return h.y<L+A}if(o==="right")return h.x>(z>=0?I.right:I.left)-A;if(o==="bottom")return h.y>(R>=0?I.bottom:I.top)-A}return!!S.default.element(b)&&(S.default.element(c)?c===b:W.matchesUpTo(b,c,P))}u(xt,"wt");function _t(o){var c=o.iEvent,h=o.interaction;if(h.prepared.name==="resize"&&h.resizeAxes){var b=c;h.interactable.options.resize.square?(h.resizeAxes==="y"?b.delta.x=b.delta.y:b.delta.y=b.delta.x,b.axes="xy"):(b.axes=h.resizeAxes,h.resizeAxes==="x"?b.delta.y=0:h.resizeAxes==="y"&&(b.delta.x=0))}}u(_t,"_t"),Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.default=void 0;var $t={id:"actions/resize",before:["actions/drag"],install:function(o){var c=o.actions,h=o.browser,b=o.Interactable,P=o.defaults;$t.cursors=function(o){return o.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(h),$t.defaultMargin=h.supportsTouch||h.supportsPointerEvent?20:10,b.prototype.resizable=function(c){return function(o,c,h){return S.default.object(c)?(o.options.resize.enabled=c.enabled!==!1,o.setPerAction("resize",c),o.setOnEvents("resize",c),S.default.string(c.axis)&&/^x$|^y$|^xy$/.test(c.axis)?o.options.resize.axis=c.axis:c.axis===null&&(o.options.resize.axis=h.defaults.actions.resize.axis),S.default.bool(c.preserveAspectRatio)?o.options.resize.preserveAspectRatio=c.preserveAspectRatio:S.default.bool(c.square)&&(o.options.resize.square=c.square),o):S.default.bool(c)?(o.options.resize.enabled=c,o):o.options.resize}(this,c,o)},c.map.resize=$t,c.methodDict.resize="resizable",P.actions.resize=$t.defaults},listeners:{"interactions:new":function(o){o.interaction.resizeAxes="xy"},"interactions:action-start":function(o){(function(o){var c=o.iEvent,h=o.interaction;if(h.prepared.name==="resize"&&h.prepared.edges){var b=c,S=h.rect;h._rects={start:(0,Q.default)({},S),corrected:(0,Q.default)({},S),previous:(0,Q.default)({},S),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},b.edges=h.prepared.edges,b.rect=h._rects.corrected,b.deltaRect=h._rects.delta}})(o),_t(o)},"interactions:action-move":function(o){(function(o){var c=o.iEvent,h=o.interaction;if(h.prepared.name==="resize"&&h.prepared.edges){var b=c,S=h.interactable.options.resize.invert,P=S==="reposition"||S==="negate",I=h.rect,A=h._rects,z=A.start,R=A.corrected,D=A.delta,L=A.previous;if((0,Q.default)(L,R),P){if((0,Q.default)(R,I),S==="reposition"){if(R.top>R.bottom){var G=R.top;R.top=R.bottom,R.bottom=G}if(R.left>R.right){var $=R.left;R.left=R.right,R.right=$}}}else R.top=Math.min(I.top,z.bottom),R.bottom=Math.max(I.bottom,z.top),R.left=Math.min(I.left,z.right),R.right=Math.max(I.right,z.left);for(var B in R.width=R.right-R.left,R.height=R.bottom-R.top,R)D[B]=R[B]-L[B];b.edges=h.prepared.edges,b.rect=R,b.deltaRect=D}})(o),_t(o)},"interactions:action-end":function(o){var c=o.iEvent,h=o.interaction;if(h.prepared.name==="resize"&&h.prepared.edges){var b=c;b.edges=h.prepared.edges,b.rect=h._rects.corrected,b.deltaRect=h._rects.delta}},"auto-start:check":function(o){var c=o.interaction,h=o.interactable,b=o.element,P=o.rect,I=o.buttons;if(P){var A=(0,Q.default)({},c.coords.cur.page),z=h.options.resize;if(z&&z.enabled&&(!c.pointerIsDown||!/mouse|pointer/.test(c.pointerType)||I&z.mouseButtons)){if(S.default.object(z.edges)){var R={left:!1,right:!1,top:!1,bottom:!1};for(var D in R)R[D]=xt(D,z.edges[D],A,c._latestPointer.eventTarget,b,P,z.margin||$t.defaultMargin);R.left=R.left&&!R.right,R.top=R.top&&!R.bottom,(R.left||R.right||R.top||R.bottom)&&(o.action={name:"resize",edges:R})}else{var L=z.axis!=="y"&&A.x>P.right-$t.defaultMargin,G=z.axis!=="x"&&A.y>P.bottom-$t.defaultMargin;(L||G)&&(o.action={name:"resize",axes:(L?"x":"")+(G?"y":"")})}return!o.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(o){var c=o.edges,h=o.axis,b=o.name,S=$t.cursors,P=null;if(h)P=S[b+h];else if(c){for(var I="",A=["top","bottom","left","right"],z=0;z<A.length;z++){var R=A[z];c[R]&&(I+=R)}P=S[I]}return P},defaultMargin:null},Ht=$t;Lt.default=Ht;var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.default=void 0;var qt={id:"actions",install:function(o){o.usePlugin(Rt.default),o.usePlugin(Lt.default),o.usePlugin(z.default),o.usePlugin(It.default)}};Bt.default=qt;var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.default=void 0;var Ut,Vt,Wt=0,Yt={request:function(o){return Ut(o)},cancel:function(o){return Vt(o)},init:function(o){if(Ut=o.requestAnimationFrame,Vt=o.cancelAnimationFrame,!Ut)for(var c=["ms","moz","webkit","o"],h=0;h<c.length;h++){var b=c[h];Ut=o["".concat(b,"RequestAnimationFrame")],Vt=o["".concat(b,"CancelAnimationFrame")]||o["".concat(b,"CancelRequestAnimationFrame")]}Ut=Ut&&Ut.bind(o),Vt=Vt&&Vt.bind(o),Ut||(Ut=u((function(c){var h=Date.now(),b=Math.max(0,16-(h-Wt)),S=o.setTimeout((function(){c(h+b)}),b);return Wt=h+b,S}),"jt"),Vt=u((function(o){return clearTimeout(o)}),"Mt"))}};Ft.default=Yt;var Xt={};Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.default=void 0,Xt.getContainer=wa,Xt.getScroll=lo,Xt.getScrollSize=function(o){return S.default.window(o)&&(o=window.document.body),{x:o.scrollWidth,y:o.scrollHeight}},Xt.getScrollSizeDelta=function(o,c){var h=o.interaction,b=o.element,S=h&&h.interactable.options[h.prepared.name].autoScroll;if(!S||!S.enabled)return c(),{x:0,y:0};var P=wa(S.container,h.interactable,b),I=lo(P);c();var A=lo(P);return{x:A.x-I.x,y:A.y-I.y}};var Kt={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(o){Kt.isScrolling=!0,Ft.default.cancel(Kt.i),o.autoScroll=Kt,Kt.interaction=o,Kt.prevTime=Kt.now(),Kt.i=Ft.default.request(Kt.scroll)},stop:function(){Kt.isScrolling=!1,Kt.interaction&&(Kt.interaction.autoScroll=null),Ft.default.cancel(Kt.i)},scroll:function(){var o=Kt.interaction,c=o.interactable,h=o.element,b=o.prepared.name,P=c.options[b].autoScroll,I=wa(P.container,c,h),A=Kt.now(),z=(A-Kt.prevTime)/1e3,R=P.speed*z;if(R>=1){var D={x:Kt.x*R,y:Kt.y*R};if(D.x||D.y){var L=lo(I);S.default.window(I)?I.scrollBy(D.x,D.y):I&&(I.scrollLeft+=D.x,I.scrollTop+=D.y);var G=lo(I),$={x:G.x-L.x,y:G.y-L.y};($.x||$.y)&&c.fire({type:"autoscroll",target:h,interactable:c,delta:$,interaction:o,container:I})}Kt.prevTime=A}Kt.isScrolling&&(Ft.default.cancel(Kt.i),Kt.i=Ft.default.request(Kt.scroll))},check:function(o,c){var h;return(h=o.options[c].autoScroll)==null?void 0:h.enabled},onInteractionMove:function(o){var c=o.interaction,h=o.pointer;if(c.interacting()&&Kt.check(c.interactable,c.prepared.name))if(c.simulation)Kt.x=Kt.y=0;else{var b,P,I,A,z=c.interactable,R=c.element,D=c.prepared.name,L=z.options[D].autoScroll,G=wa(L.container,z,R);if(S.default.window(G))A=h.clientX<Kt.margin,b=h.clientY<Kt.margin,P=h.clientX>G.innerWidth-Kt.margin,I=h.clientY>G.innerHeight-Kt.margin;else{var $=W.getElementClientRect(G);A=h.clientX<$.left+Kt.margin,b=h.clientY<$.top+Kt.margin,P=h.clientX>$.right-Kt.margin,I=h.clientY>$.bottom-Kt.margin}Kt.x=P?1:A?-1:0,Kt.y=I?1:b?-1:0,Kt.isScrolling||(Kt.margin=L.margin,Kt.speed=L.speed,Kt.start(c))}}};function wa(o,h,b){return(S.default.string(o)?(0,et.getStringOptionResult)(o,h,b):o)||(0,c.getWindow)(b)}u(wa,"zt");function lo(o){return S.default.window(o)&&(o=window.document.body),{x:o.scrollLeft,y:o.scrollTop}}u(lo,"Ct");var Zt={id:"auto-scroll",install:function(o){var c=o.defaults,h=o.actions;o.autoScroll=Kt,Kt.now=function(){return o.now()},h.phaselessTypes.autoscroll=!0,c.perAction.autoScroll=Kt.defaults},listeners:{"interactions:new":function(o){o.interaction.autoScroll=null},"interactions:destroy":function(o){o.interaction.autoScroll=null,Kt.stop(),Kt.interaction&&(Kt.interaction=null)},"interactions:stop":Kt.stop,"interactions:action-move":function(o){return Kt.onInteractionMove(o)}}},Qt=Zt;Xt.default=Qt;var ee={};Object.defineProperty(ee,"__esModule",{value:!0}),ee.copyAction=function(o,c){return o.name=c.name,o.axis=c.axis,o.edges=c.edges,o},ee.sign=void 0,ee.warnOnce=function(o,h){var b=!1;return function(){return b||(c.window.console.warn(h),b=!0),o.apply(this,arguments)}},ee.sign=function(o){return o>=0?1:-1};var ne={};function Mm(o){return S.default.bool(o)?(this.options.styleCursor=o,this):o===null?(delete this.options.styleCursor,this):this.options.styleCursor}u(Mm,"Yt");function Im(o){return S.default.func(o)?(this.options.actionChecker=o,this):o===null?(delete this.options.actionChecker,this):this.options.actionChecker}u(Im,"Wt"),Object.defineProperty(ne,"__esModule",{value:!0}),ne.default=void 0;var ae={id:"auto-start/interactableMethods",install:function(o){var c=o.Interactable;c.prototype.getAction=function(c,h,b,S){var P=function(o,c,h,b,S){var P=o.getRect(b),I={action:null,interactable:o,interaction:h,element:b,rect:P,buttons:c.buttons||{0:1,1:4,3:8,4:16}[c.button]};return S.fire("auto-start:check",I),I.action}(this,h,b,S,o);return this.options.actionChecker?this.options.actionChecker(c,h,P,this,S,b):P},c.prototype.ignoreFrom=(0,ee.warnOnce)((function(o){return this._backCompatOption("ignoreFrom",o)}),"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),c.prototype.allowFrom=(0,ee.warnOnce)((function(o){return this._backCompatOption("allowFrom",o)}),"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),c.prototype.actionChecker=Im,c.prototype.styleCursor=Mm}};ne.default=ae;var se={};function Mc(o,c,h,b,S){return c.testIgnoreAllow(c.options[o.name],h,b)&&c.options[o.name].enabled&&Ea(c,h,o,S)?o:null}u(Mc,"Vt");function Pm(o,c,h,b,S,P,I){for(var A=0,z=b.length;A<z;A++){var R=b[A],D=S[A],L=R.getAction(c,h,o,D);if(L){var G=Mc(L,R,D,P,I);if(G)return{action:G,interactable:R,element:D}}}return{action:null,interactable:null,element:null}}u(Pm,"Nt");function Ic(o,c,h,b,P){var I=[],A=[],z=b;function x(o){I.push(o),A.push(z)}for(u(x,"u");S.default.element(z);){I=[],A=[],P.interactables.forEachMatch(z,x);var R=Pm(o,c,h,I,A,b,P);if(R.action&&!R.interactable.options[R.action.name].manualStart)return R;z=W.parentNode(z)}return{action:null,interactable:null,element:null}}u(Ic,"qt");function Ac(o,c,h){var b=c.action,S=c.interactable,P=c.element;b=b||{name:null},o.interactable=S,o.element=P,(0,ee.copyAction)(o.prepared,b),o.rect=S&&b.name?S.getRect(P):null,zc(o,h),h.fire("autoStart:prepared",{interaction:o})}u(Ac,"Gt");function Ea(o,c,h,b){var S=o.options,P=S[h.name].max,I=S[h.name].maxPerElement,A=b.autoStart.maxInteractions,z=0,R=0,D=0;if(!(P&&I&&A))return!1;for(var L=0;L<b.interactions.list.length;L++){var G=b.interactions.list[L],$=G.prepared.name;if(G.interacting()&&(++z>=A||G.interactable===o&&((R+=$===h.name?1:0)>=P||G.element===c&&(D++,$===h.name&&D>=I))))return!1}return A>0}u(Ea,"$t");function Pc(o,c){return S.default.number(o)?(c.autoStart.maxInteractions=o,this):c.autoStart.maxInteractions}u(Pc,"Ht");function bl(o,c,h){var b=h.autoStart.cursorElement;b&&b!==o&&(b.style.cursor=""),o.ownerDocument.documentElement.style.cursor=c,o.style.cursor=c,h.autoStart.cursorElement=c?o:null}u(bl,"Kt");function zc(o,c){var h=o.interactable,b=o.element,P=o.prepared;if(o.pointerType==="mouse"&&h&&h.options.styleCursor){var I="";if(P.name){var A=h.options[P.name].cursorChecker;I=S.default.func(A)?A(P,h,b,o._interacting):c.actions.map[P.name].getCursor(P)}bl(o.element,I||"",c)}else c.autoStart.cursorElement&&bl(c.autoStart.cursorElement,"",c)}u(zc,"Zt"),Object.defineProperty(se,"__esModule",{value:!0}),se.default=void 0;var le={id:"auto-start/base",before:["actions"],install:function(o){var c=o.interactStatic,h=o.defaults;o.usePlugin(ne.default),h.base.actionChecker=null,h.base.styleCursor=!0,(0,Q.default)(h.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),c.maxInteractions=function(c){return Pc(c,o)},o.autoStart={maxInteractions:1/0,withinInteractionLimit:Ea,cursorElement:null}},listeners:{"interactions:down":function(o,c){var h=o.interaction,b=o.pointer,S=o.event,P=o.eventTarget;h.interacting()||Ac(h,Ic(h,b,S,P,c),c)},"interactions:move":function(o,c){(function(o,c){var h=o.interaction,b=o.pointer,S=o.event,P=o.eventTarget;h.pointerType!=="mouse"||h.pointerIsDown||h.interacting()||Ac(h,Ic(h,b,S,P,c),c)})(o,c),function(o,c){var h=o.interaction;if(h.pointerIsDown&&!h.interacting()&&h.pointerWasMoved&&h.prepared.name){c.fire("autoStart:before-start",o);var b=h.interactable,S=h.prepared.name;S&&b&&(b.options[S].manualStart||!Ea(b,h.element,h.prepared,c)?h.stop():(h.start(h.prepared,b,h.element),zc(h,c)))}}(o,c)},"interactions:stop":function(o,c){var h=o.interaction,b=h.interactable;b&&b.options.styleCursor&&bl(h.element,"",c)}},maxInteractions:Pc,withinInteractionLimit:Ea,validateAction:Mc},ce=le;se.default=ce;var de={};Object.defineProperty(de,"__esModule",{value:!0}),de.default=void 0;var ye={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(o,c){var h=o.interaction,b=o.eventTarget,P=o.dx,I=o.dy;if(h.prepared.name==="drag"){var A=Math.abs(P),z=Math.abs(I),R=h.interactable.options.drag,D=R.startAxis,L=A>z?"x":A<z?"y":"xy";if(h.prepared.axis=R.lockAxis==="start"?L[0]:R.lockAxis,L!=="xy"&&D!=="xy"&&D!==L){h.prepared.name=null;for(var G=b,N=function(o){if(o!==h.interactable){var S=h.interactable.options.drag;if(!S.manualStart&&o.testIgnoreAllow(S,G,b)){var P=o.getAction(h.downPointer,h.downEvent,h,G);if(P&&P.name==="drag"&&function(o,c){if(!c)return!1;var h=c.options.drag.startAxis;return o==="xy"||h==="xy"||h===o}(L,o)&&se.default.validateAction(P,o,G,b,c))return o}}};S.default.element(G);){var $=c.interactables.forEachMatch(G,N);if($){h.prepared.name="drag",h.interactable=$,h.element=G;break}G=(0,W.parentNode)(G)}}}}}};de.default=ye;var xe={};function yl(o){var c=o.prepared&&o.prepared.name;if(!c)return null;var h=o.interactable.options;return h[c].hold||h[c].delay}u(yl,"re"),Object.defineProperty(xe,"__esModule",{value:!0}),xe.default=void 0;var Se={id:"auto-start/hold",install:function(o){var c=o.defaults;o.usePlugin(se.default),c.perAction.hold=0,c.perAction.delay=0},listeners:{"interactions:new":function(o){o.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(o){var c=o.interaction,h=yl(c);h>0&&(c.autoStartHoldTimer=setTimeout((function(){c.start(c.prepared,c.interactable,c.element)}),h))},"interactions:move":function(o){var c=o.interaction,h=o.duplicate;c.autoStartHoldTimer&&c.pointerWasMoved&&!h&&(clearTimeout(c.autoStartHoldTimer),c.autoStartHoldTimer=null)},"autoStart:before-start":function(o){var c=o.interaction;yl(c)>0&&(c.prepared.name=null)}},getHoldDuration:yl},Ce=Se;xe.default=Ce;var _e={};Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var Ne={id:"auto-start",install:function(o){o.usePlugin(se.default),o.usePlugin(xe.default),o.usePlugin(de.default)}};_e.default=Ne;var De={};function Lm(o){return/^(always|never|auto)$/.test(o)?(this.options.preventDefault=o,this):S.default.bool(o)?(this.options.preventDefault=o?"always":"never",this):this.options.preventDefault}u(Lm,"ue");function Gm(o){var c=o.interaction,h=o.event;c.interactable&&c.interactable.checkAndPreventDefault(h)}u(Gm,"ce");function Rc(o){var h=o.Interactable;h.prototype.preventDefault=Lm,h.prototype.checkAndPreventDefault=function(h){return function(o,h,b){var P=o.options.preventDefault;if(P!=="never")if(P!=="always"){if(h.events.supportsPassive&&/^touch(start|move)$/.test(b.type)){var I=(0,c.getWindow)(b.target).document,A=h.getDocOptions(I);if(!A||!A.events||A.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(b.type)||S.default.element(b.target)&&(0,W.matchesSelector)(b.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||b.preventDefault()}else b.preventDefault()}(this,o,h)},o.interactions.docEvents.push({type:"dragstart",listener:function(c){for(var h=0;h<o.interactions.list.length;h++){var b=o.interactions.list[h];if(b.element&&(b.element===c.target||(0,W.nodeContains)(b.element,c.target)))return void b.interactable.checkAndPreventDefault(c)}}})}u(Rc,"fe"),Object.defineProperty(De,"__esModule",{value:!0}),De.default=void 0,De.install=Rc;var Ge={id:"core/interactablePreventDefault",install:Rc,listeners:["down","move","up","cancel"].reduce((function(o,c){return o["interactions:".concat(c)]=Gm,o}),{})};De.default=Ge;var $e={};Object.defineProperty($e,"__esModule",{value:!0}),$e.default=void 0,$e.default={};var qe,Fe={};Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.default=void 0,function(o){o.touchAction="touchAction",o.boxSizing="boxSizing",o.noListeners="noListeners"}(qe||(qe={})),qe.touchAction,qe.boxSizing,qe.noListeners;var Xe={id:"dev-tools",install:function(){}};Fe.default=Xe;var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.default=u((function i(o){var c={};for(var h in o){var b=o[h];S.default.plainObject(b)?c[h]=i(b):S.default.array(b)?c[h]=mt.from(b):c[h]=b}return c}),"t");var tn={};function Dc(o,c){return function(o){if(Array.isArray(o))return o}(o)||function(o,c){var h=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(h!=null){var b,S,P=[],I=!0,A=!1;try{for(h=h.call(o);!(I=(b=h.next()).done)&&(P.push(b.value),!c||P.length!==c);I=!0);}catch(o){A=!0,S=o}finally{try{I||h.return==null||h.return()}finally{if(A)throw S}}return P}}(o,c)||function(o,c){if(o){if(typeof o=="string")return kc(o,c);var h=Object.prototype.toString.call(o).slice(8,-1);return h==="Object"&&o.constructor&&(h=o.constructor.name),h==="Map"||h==="Set"?Array.from(o):h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?kc(o,c):void 0}}(o,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}u(Dc,"be");function kc(o,c){(c==null||c>o.length)&&(c=o.length);for(var h=0,b=Array(c);h<c;h++)b[h]=o[h];return b}u(kc,"xe");function $m(o,c){for(var h=0;h<c.length;h++){var b=c[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(o,b.key,b)}}u($m,"we");function Fn(o,c,h){return c in o?Object.defineProperty(o,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):o[c]=h,o}u(Fn,"_e"),Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=void 0,tn.getRectOffset=Nc;var en=function(){function i(o){(function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),Fn(this,"states",[]),Fn(this,"startOffset",{left:0,right:0,top:0,bottom:0}),Fn(this,"startDelta",void 0),Fn(this,"result",void 0),Fn(this,"endResult",void 0),Fn(this,"edges",void 0),Fn(this,"interaction",void 0),this.interaction=o,this.result=Oa()}u(i,"t");var o,c;return o=i,(c=[{key:"start",value:function(o,c){var h=o.phase,b=this.interaction,S=function(o){var c=o.interactable.options[o.prepared.name],h=c.modifiers;return h&&h.length?h:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map((function(o){var h=c[o];return h&&h.enabled&&{options:h,methods:h._methods}})).filter((function(o){return!!o}))}(b);this.prepareStates(S),this.edges=(0,Q.default)({},b.edges),this.startOffset=Nc(b.rect,c),this.startDelta={x:0,y:0};var P=this.fillArg({phase:h,pageCoords:c,preEnd:!1});return this.result=Oa(),this.startAll(P),this.result=this.setAll(P)}},{key:"fillArg",value:function(o){var c=this.interaction;return o.interaction=c,o.interactable=c.interactable,o.element=c.element,o.rect=o.rect||c.rect,o.edges=this.edges,o.startOffset=this.startOffset,o}},{key:"startAll",value:function(o){for(var c=0;c<this.states.length;c++){var h=this.states[c];h.methods.start&&(o.state=h,h.methods.start(o))}}},{key:"setAll",value:function(o){var c=o.phase,h=o.preEnd,b=o.skipModifiers,S=o.rect;o.coords=(0,Q.default)({},o.pageCoords),o.rect=(0,Q.default)({},S);for(var P=b?this.states.slice(b):this.states,I=Oa(o.coords,o.rect),A=0;A<P.length;A++){var z,R=P[A],D=R.options,L=(0,Q.default)({},o.coords),G=null;(z=R.methods)!=null&&z.set&&this.shouldDo(D,h,c)&&(o.state=R,G=R.methods.set(o),et.addEdges(this.interaction.edges,o.rect,{x:o.coords.x-L.x,y:o.coords.y-L.y})),I.eventProps.push(G)}I.delta.x=o.coords.x-o.pageCoords.x,I.delta.y=o.coords.y-o.pageCoords.y,I.rectDelta.left=o.rect.left-S.left,I.rectDelta.right=o.rect.right-S.right,I.rectDelta.top=o.rect.top-S.top,I.rectDelta.bottom=o.rect.bottom-S.bottom;var $=this.result.coords,B=this.result.rect;if($&&B){var F=I.rect.left!==B.left||I.rect.right!==B.right||I.rect.top!==B.top||I.rect.bottom!==B.bottom;I.changed=F||$.x!==I.coords.x||$.y!==I.coords.y}return I}},{key:"applyToInteraction",value:function(o){var c=this.interaction,h=o.phase,b=c.coords.cur,S=c.coords.start,P=this.result,I=this.startDelta,A=P.delta;h==="start"&&(0,Q.default)(this.startDelta,P.delta);for(var z=0;z<2;z++){var R=Dc([[S,I],[b,A]][z],2),D=R[0],L=R[1];D.page.x+=L.x,D.page.y+=L.y,D.client.x+=L.x,D.client.y+=L.y}var G=this.result.rectDelta,$=o.rect||c.rect;$.left+=G.left,$.right+=G.right,$.top+=G.top,$.bottom+=G.bottom,$.width=$.right-$.left,$.height=$.bottom-$.top}},{key:"setAndApply",value:function(o){var c=this.interaction,h=o.phase,b=o.preEnd,S=o.skipModifiers,P=this.setAll(this.fillArg({preEnd:b,phase:h,pageCoords:o.modifiedCoords||c.coords.cur.page}));if(this.result=P,!P.changed&&(!S||S<this.states.length)&&c.interacting())return!1;if(o.modifiedCoords){var I=c.coords.cur.page,A={x:o.modifiedCoords.x-I.x,y:o.modifiedCoords.y-I.y};P.coords.x+=A.x,P.coords.y+=A.y,P.delta.x+=A.x,P.delta.y+=A.y}this.applyToInteraction(o)}},{key:"beforeEnd",value:function(o){var c=o.interaction,h=o.event,b=this.states;if(b&&b.length){for(var S=!1,P=0;P<b.length;P++){var I=b[P];o.state=I;var A=I.options,z=I.methods,R=z.beforeEnd&&z.beforeEnd(o);if(R)return this.endResult=R,!1;S=S||!S&&this.shouldDo(A,!0,o.phase,!0)}S&&c.move({event:h,preEnd:!0})}}},{key:"stop",value:function(o){var c=o.interaction;if(this.states&&this.states.length){var h=(0,Q.default)({states:this.states,interactable:c.interactable,element:c.element,rect:null},o);this.fillArg(h);for(var b=0;b<this.states.length;b++){var S=this.states[b];h.state=S,S.methods.stop&&S.methods.stop(h)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(o){this.states=[];for(var c=0;c<o.length;c++){var h=o[c],b=h.options,S=h.methods,P=h.name;this.states.push({options:b,methods:S,index:c,name:P})}return this.states}},{key:"restoreInteractionCoords",value:function(o){var c=o.interaction,h=c.coords,b=c.rect,S=c.modification;if(S.result){for(var P=S.startDelta,I=S.result,A=I.delta,z=I.rectDelta,R=[[h.start,P],[h.cur,A]],D=0;D<R.length;D++){var L=Dc(R[D],2),G=L[0],$=L[1];G.page.x-=$.x,G.page.y-=$.y,G.client.x-=$.x,G.client.y-=$.y}b.left-=z.left,b.right-=z.right,b.top-=z.top,b.bottom-=z.bottom}}},{key:"shouldDo",value:function(o,c,h,b){return!(!o||o.enabled===!1||b&&!o.endOnly||o.endOnly&&!c||h==="start"&&!o.setStart)}},{key:"copyFrom",value:function(o){this.startOffset=o.startOffset,this.startDelta=o.startDelta,this.edges=o.edges,this.states=o.states.map((function(o){return(0,Qe.default)(o)})),this.result=Oa((0,Q.default)({},o.result.coords),(0,Q.default)({},o.result.rect))}},{key:"destroy",value:function(){for(var o in this)this[o]=null}}])&&$m(o.prototype,c),Object.defineProperty(o,"prototype",{writable:!1}),i}();function Oa(o,c){return{rect:c,coords:o,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}u(Oa,"Oe");function Nc(o,c){return o?{left:c.x-o.left,top:c.y-o.top,right:o.right-c.x,bottom:o.bottom-c.y}:{left:0,top:0,right:0,bottom:0}}u(Nc,"Ee"),tn.default=en;var rn={};function Ma(o){var c=o.iEvent,h=o.interaction.modification.result;h&&(c.modifiers=h.eventProps)}u(Ma,"Te"),Object.defineProperty(rn,"__esModule",{value:!0}),rn.addEventModifiers=Ma,rn.default=void 0,rn.makeModifier=function(o,c){var h=o.defaults,b={start:o.start,set:o.set,beforeEnd:o.beforeEnd,stop:o.stop},S=u((function(o){var S=o||{};for(var P in S.enabled=S.enabled!==!1,h)P in S||(S[P]=h[P]);var I={options:S,methods:b,name:c,enable:function(){return S.enabled=!0,I},disable:function(){return S.enabled=!1,I}};return I}),"o");return c&&typeof c=="string"&&(S._defaults=h,S._methods=b),S};var on={id:"modifiers/base",before:["actions"],install:function(o){o.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(o){var c=o.interaction;c.modification=new tn.default(c)},"interactions:before-action-start":function(o){var c=o.interaction.modification;c.start(o,o.interaction.coords.start.page),o.interaction.edges=c.edges,c.applyToInteraction(o)},"interactions:before-action-move":function(o){return o.interaction.modification.setAndApply(o)},"interactions:before-action-end":function(o){return o.interaction.modification.beforeEnd(o)},"interactions:action-start":Ma,"interactions:action-move":Ma,"interactions:action-end":Ma,"interactions:after-action-start":function(o){return o.interaction.modification.restoreInteractionCoords(o)},"interactions:after-action-move":function(o){return o.interaction.modification.restoreInteractionCoords(o)},"interactions:stop":function(o){return o.interaction.modification.stop(o)}}},an=on;rn.default=an;var sn={};Object.defineProperty(sn,"__esModule",{value:!0}),sn.defaults=void 0,sn.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var ln={};function El(o){return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},El(o)}u(El,"De");function Um(o,c){for(var h=0;h<c.length;h++){var b=c[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(o,b.key,b)}}u(Um,"Ae");function Sl(o,c){return Sl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,c){return o.__proto__=c,o},Sl(o,c)}u(Sl,"ze");function Wm(o,c){if(c&&(El(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return He(o)}u(Wm,"Ce");function He(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}u(He,"Re");function Ia(o){return Ia=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},Ia(o)}u(Ia,"Fe");function Ve(o,c,h){return c in o?Object.defineProperty(o,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):o[c]=h,o}u(Ve,"Xe"),Object.defineProperty(ln,"__esModule",{value:!0}),ln.InteractEvent=void 0;var cn=function(o){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),c&&Sl(o,c)})(E,o);var c,h,b,S,P=(b=E,S=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(o){return!1}}(),function(){var o,c=Ia(b);if(S){var h=Ia(this).constructor;o=Reflect.construct(c,arguments,h)}else o=c.apply(this,arguments);return Wm(this,o)});function E(o,c,h,b,S,I,A){var z;(function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")})(this,E),Ve(He(z=P.call(this,o)),"relatedTarget",null),Ve(He(z),"screenX",void 0),Ve(He(z),"screenY",void 0),Ve(He(z),"button",void 0),Ve(He(z),"buttons",void 0),Ve(He(z),"ctrlKey",void 0),Ve(He(z),"shiftKey",void 0),Ve(He(z),"altKey",void 0),Ve(He(z),"metaKey",void 0),Ve(He(z),"page",void 0),Ve(He(z),"client",void 0),Ve(He(z),"delta",void 0),Ve(He(z),"rect",void 0),Ve(He(z),"x0",void 0),Ve(He(z),"y0",void 0),Ve(He(z),"t0",void 0),Ve(He(z),"dt",void 0),Ve(He(z),"duration",void 0),Ve(He(z),"clientX0",void 0),Ve(He(z),"clientY0",void 0),Ve(He(z),"velocity",void 0),Ve(He(z),"speed",void 0),Ve(He(z),"swipe",void 0),Ve(He(z),"axes",void 0),Ve(He(z),"preEnd",void 0),S=S||o.element;var R=o.interactable,D=(R&&R.options||sn.defaults).deltaSource,L=(0,nt.default)(R,S,h),G=b==="start",$=b==="end",B=G?He(z):o.prevEvent,F=G?o.coords.start:$?{page:B.page,client:B.client,timeStamp:o.coords.cur.timeStamp}:o.coords.cur;return z.page=(0,Q.default)({},F.page),z.client=(0,Q.default)({},F.client),z.rect=(0,Q.default)({},o.rect),z.timeStamp=F.timeStamp,$||(z.page.x-=L.x,z.page.y-=L.y,z.client.x-=L.x,z.client.y-=L.y),z.ctrlKey=c.ctrlKey,z.altKey=c.altKey,z.shiftKey=c.shiftKey,z.metaKey=c.metaKey,z.button=c.button,z.buttons=c.buttons,z.target=S,z.currentTarget=S,z.preEnd=I,z.type=A||h+(b||""),z.interactable=R,z.t0=G?o.pointers[o.pointers.length-1].downTime:B.t0,z.x0=o.coords.start.page.x-L.x,z.y0=o.coords.start.page.y-L.y,z.clientX0=o.coords.start.client.x-L.x,z.clientY0=o.coords.start.client.y-L.y,z.delta=G||$?{x:0,y:0}:{x:z[D].x-B[D].x,y:z[D].y-B[D].y},z.dt=o.coords.delta.timeStamp,z.duration=z.timeStamp-z.t0,z.velocity=(0,Q.default)({},o.coords.velocity[D]),z.speed=(0,at.default)(z.velocity.x,z.velocity.y),z.swipe=$||b==="inertiastart"?z.getSwipe():null,z}return u(E,"a"),c=E,(h=[{key:"getSwipe",value:function(){var o=this._interaction;if(o.prevEvent.speed<600||this.timeStamp-o.prevEvent.timeStamp>150)return null;var c=180*Math.atan2(o.prevEvent.velocityY,o.prevEvent.velocityX)/Math.PI;c<0&&(c+=360);var h=112.5<=c&&c<247.5,b=202.5<=c&&c<337.5;return{up:b,down:!b&&22.5<=c&&c<157.5,left:h,right:!h&&(292.5<=c||c<67.5),angle:c,speed:o.prevEvent.speed,velocity:{x:o.prevEvent.velocityX,y:o.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&Um(c.prototype,h),Object.defineProperty(c,"prototype",{writable:!1}),E}(pt.BaseEvent);ln.InteractEvent=cn,Object.defineProperties(cn.prototype,{pageX:{get:function(){return this.page.x},set:function(o){this.page.x=o}},pageY:{get:function(){return this.page.y},set:function(o){this.page.y=o}},clientX:{get:function(){return this.client.x},set:function(o){this.client.x=o}},clientY:{get:function(){return this.client.y},set:function(o){this.client.y=o}},dx:{get:function(){return this.delta.x},set:function(o){this.delta.x=o}},dy:{get:function(){return this.delta.y},set:function(o){this.delta.y=o}},velocityX:{get:function(){return this.velocity.x},set:function(o){this.velocity.x=o}},velocityY:{get:function(){return this.velocity.y},set:function(o){this.velocity.y=o}}});var pn={};function Lc(o,c){for(var h=0;h<c.length;h++){var b=c[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(o,b.key,b)}}u(Lc,"We");function Vm(o,c,h){return c&&Lc(o.prototype,c),h&&Lc(o,h),Object.defineProperty(o,"prototype",{writable:!1}),o}u(Vm,"Le");function ho(o,c,h){return c in o?Object.defineProperty(o,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):o[c]=h,o}u(ho,"Ue"),Object.defineProperty(pn,"__esModule",{value:!0}),pn.PointerInfo=void 0;var dn=Vm(u((function i(o,c,h,b,S){(function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),ho(this,"id",void 0),ho(this,"pointer",void 0),ho(this,"event",void 0),ho(this,"downTime",void 0),ho(this,"downTarget",void 0),this.id=o,this.pointer=c,this.event=h,this.downTime=b,this.downTarget=S}),"t"));pn.PointerInfo=dn;var gn,mn,yn={};function Xm(o,c){for(var h=0;h<c.length;h++){var b=c[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(o,b.key,b)}}u(Xm,"$e");function Ke(o,c,h){return c in o?Object.defineProperty(o,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):o[c]=h,o}u(Ke,"He"),Object.defineProperty(yn,"__esModule",{value:!0}),yn.Interaction=void 0,Object.defineProperty(yn,"PointerInfo",{enumerable:!0,get:function(){return pn.PointerInfo}}),yn.default=yn._ProxyValues=yn._ProxyMethods=void 0,yn._ProxyValues=gn,function(o){o.interactable="",o.element="",o.prepared="",o.pointerIsDown="",o.pointerWasMoved="",o._proxy=""}(gn||(yn._ProxyValues=gn={})),yn._ProxyMethods=mn,function(o){o.start="",o.move="",o.end="",o.stop="",o.interacting=""}(mn||(yn._ProxyMethods=mn={}));var wn=0,Sn=function(){function i(o){var c=this,h=o.pointerType,b=o.scopeFire;(function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),Ke(this,"interactable",null),Ke(this,"element",null),Ke(this,"rect",null),Ke(this,"_rects",void 0),Ke(this,"edges",null),Ke(this,"_scopeFire",void 0),Ke(this,"prepared",{name:null,axis:null,edges:null}),Ke(this,"pointerType",void 0),Ke(this,"pointers",[]),Ke(this,"downEvent",null),Ke(this,"downPointer",{}),Ke(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),Ke(this,"prevEvent",null),Ke(this,"pointerIsDown",!1),Ke(this,"pointerWasMoved",!1),Ke(this,"_interacting",!1),Ke(this,"_ending",!1),Ke(this,"_stopped",!0),Ke(this,"_proxy",null),Ke(this,"simulation",null),Ke(this,"doMove",(0,ee.warnOnce)((function(o){this.move(o)}),"The interaction.doMove() method has been renamed to interaction.move()")),Ke(this,"coords",{start:ct.newCoords(),prev:ct.newCoords(),cur:ct.newCoords(),delta:ct.newCoords(),velocity:ct.newCoords()}),Ke(this,"_id",wn++),this._scopeFire=b,this.pointerType=h;var S=this;this._proxy={};var P=u((function(o){Object.defineProperty(c._proxy,o,{get:function(){return S[o]}})}),"a");for(var I in gn)P(I);var A=u((function(o){Object.defineProperty(c._proxy,o,{value:function(){return S[o].apply(S,arguments)}})}),"l");for(var z in mn)A(z);this._scopeFire("interactions:new",{interaction:this})}u(i,"t");var o,c;return o=i,c=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(o,c,h){var b=this.updatePointer(o,c,h,!0),S=this.pointers[b];this._scopeFire("interactions:down",{pointer:o,event:c,eventTarget:h,pointerIndex:b,pointerInfo:S,type:"down",interaction:this})}},{key:"start",value:function(o,c,h){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(o.name==="gesture"?2:1)||!c.options[o.name].enabled)&&((0,ee.copyAction)(this.prepared,o),this.interactable=c,this.element=h,this.rect=c.getRect(h),this.edges=this.prepared.edges?(0,Q.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(o,c,h){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(o,c,h,!1);var b,S,P=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(b=this.coords.cur.client.x-this.coords.start.client.x,S=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,at.default)(b,S)>this.pointerMoveTolerance);var I=this.getPointerIndex(o),A={pointer:o,pointerIndex:I,pointerInfo:this.pointers[I],event:c,type:"move",eventTarget:h,dx:b,dy:S,duplicate:P,interaction:this};P||ct.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",A),P||this.simulation||(this.interacting()&&(A.type=null,this.move(A)),this.pointerWasMoved&&ct.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(o){o&&o.event||ct.setZeroCoords(this.coords.delta),(o=(0,Q.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},o||{})).phase="move",this._doPhase(o)}},{key:"pointerUp",value:function(o,c,h,b){var S=this.getPointerIndex(o);S===-1&&(S=this.updatePointer(o,c,h,!1));var P=/cancel$/i.test(c.type)?"cancel":"up";this._scopeFire("interactions:".concat(P),{pointer:o,pointerIndex:S,pointerInfo:this.pointers[S],event:c,eventTarget:h,type:P,curEventTarget:b,interaction:this}),this.simulation||this.end(c),this.removePointer(o,c)}},{key:"documentBlur",value:function(o){this.end(o),this._scopeFire("interactions:blur",{event:o,type:"blur",interaction:this})}},{key:"end",value:function(o){var c;this._ending=!0,o=o||this._latestPointer.event,this.interacting()&&(c=this._doPhase({event:o,interaction:this,phase:"end"})),this._ending=!1,c===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(o){var c=ct.getPointerId(o);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:mt.findIndex(this.pointers,(function(o){return o.id===c}))}},{key:"getPointerInfo",value:function(o){return this.pointers[this.getPointerIndex(o)]}},{key:"updatePointer",value:function(o,c,h,b){var S=ct.getPointerId(o),P=this.getPointerIndex(o),I=this.pointers[P];return b=b!==!1&&(b||/(down|start)$/i.test(c.type)),I?I.pointer=o:(I=new pn.PointerInfo(S,o,c,null,null),P=this.pointers.length,this.pointers.push(I)),ct.setCoords(this.coords.cur,this.pointers.map((function(o){return o.pointer})),this._now()),ct.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),b&&(this.pointerIsDown=!0,I.downTime=this.coords.cur.timeStamp,I.downTarget=h,ct.pointerExtend(this.downPointer,o),this.interacting()||(ct.copyCoords(this.coords.start,this.coords.cur),ct.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=c,this.pointerWasMoved=!1)),this._updateLatestPointer(o,c,h),this._scopeFire("interactions:update-pointer",{pointer:o,event:c,eventTarget:h,down:b,pointerInfo:I,pointerIndex:P,interaction:this}),P}},{key:"removePointer",value:function(o,c){var h=this.getPointerIndex(o);if(h!==-1){var b=this.pointers[h];this._scopeFire("interactions:remove-pointer",{pointer:o,event:c,eventTarget:null,pointerIndex:h,pointerInfo:b,interaction:this}),this.pointers.splice(h,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(o,c,h){this._latestPointer.pointer=o,this._latestPointer.event=c,this._latestPointer.eventTarget=h}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(o,c,h,b){return new ln.InteractEvent(this,o,this.prepared.name,c,this.element,h,b)}},{key:"_fireEvent",value:function(o){var c;(c=this.interactable)==null||c.fire(o),(!this.prevEvent||o.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=o)}},{key:"_doPhase",value:function(o){var c=o.event,h=o.phase,b=o.preEnd,S=o.type,P=this.rect;if(P&&h==="move"&&(et.addEdges(this.edges,P,this.coords.delta[this.interactable.options.deltaSource]),P.width=P.right-P.left,P.height=P.bottom-P.top),this._scopeFire("interactions:before-action-".concat(h),o)===!1)return!1;var I=o.iEvent=this._createPreparedEvent(c,h,b,S);return this._scopeFire("interactions:action-".concat(h),o),h==="start"&&(this.prevEvent=I),this._fireEvent(I),this._scopeFire("interactions:after-action-".concat(h),o),!0}},{key:"_now",value:function(){return Date.now()}}],c&&Xm(o.prototype,c),Object.defineProperty(o,"prototype",{writable:!1}),i}();yn.Interaction=Sn;var Cn=Sn;yn.default=Cn;var On={};function jc(o){o.pointerIsDown&&(Cl(o.coords.cur,o.offset.total),o.offset.pending.x=0,o.offset.pending.y=0)}u(jc,"tn");function Hc(o){Tl(o.interaction)}u(Hc,"en");function Tl(o){if(!function(o){return!(!o.offset.pending.x&&!o.offset.pending.y)}(o))return!1;var c=o.offset.pending;return Cl(o.coords.cur,c),Cl(o.coords.delta,c),et.addEdges(o.edges,o.rect,c),c.x=0,c.y=0,!0}u(Tl,"nn");function Jm(o){var c=o.x,h=o.y;this.offset.pending.x+=c,this.offset.pending.y+=h,this.offset.total.x+=c,this.offset.total.y+=h}u(Jm,"rn");function Cl(o,c){var h=o.page,b=o.client,S=c.x,P=c.y;h.x+=S,h.y+=P,b.x+=S,b.y+=P}u(Cl,"on"),Object.defineProperty(On,"__esModule",{value:!0}),On.addTotal=jc,On.applyPending=Tl,On.default=void 0,yn._ProxyMethods.offsetBy="";var Tn={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(o){o.Interaction.prototype.offsetBy=Jm},listeners:{"interactions:new":function(o){o.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(o){return jc(o.interaction)},"interactions:before-action-start":Hc,"interactions:before-action-move":Hc,"interactions:before-action-end":function(o){var c=o.interaction;if(Tl(c))return c.move({offset:!0}),c.end(),!1},"interactions:stop":function(o){var c=o.interaction;c.offset.total.x=0,c.offset.total.y=0,c.offset.pending.x=0,c.offset.pending.y=0}}},Pn=Tn;On.default=Pn;var Mn={};function tv(o,c){for(var h=0;h<c.length;h++){var b=c[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(o,b.key,b)}}u(tv,"un");function gt(o,c,h){return c in o?Object.defineProperty(o,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):o[c]=h,o}u(gt,"cn"),Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.default=Mn.InertiaState=void 0;var In=function(){function i(o){(function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),gt(this,"active",!1),gt(this,"isModified",!1),gt(this,"smoothEnd",!1),gt(this,"allowResume",!1),gt(this,"modification",void 0),gt(this,"modifierCount",0),gt(this,"modifierArg",void 0),gt(this,"startCoords",void 0),gt(this,"t0",0),gt(this,"v0",0),gt(this,"te",0),gt(this,"targetOffset",void 0),gt(this,"modifiedOffset",void 0),gt(this,"currentOffset",void 0),gt(this,"lambda_v0",0),gt(this,"one_ve_v0",0),gt(this,"timeout",void 0),gt(this,"interaction",void 0),this.interaction=o}u(i,"t");var o,c;return o=i,(c=[{key:"start",value:function(o){var c=this.interaction,h=za(c);if(!h||!h.enabled)return!1;var b=c.coords.velocity.client,S=(0,at.default)(b.x,b.y),P=this.modification||(this.modification=new tn.default(c));if(P.copyFrom(c.modification),this.t0=c._now(),this.allowResume=h.allowResume,this.v0=S,this.currentOffset={x:0,y:0},this.startCoords=c.coords.cur.page,this.modifierArg=P.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-c.coords.cur.timeStamp<50&&S>h.minSpeed&&S>h.endSpeed)this.startInertia();else{if(P.result=P.setAll(this.modifierArg),!P.result.changed)return!1;this.startSmoothEnd()}return c.modification.result.rect=null,c.offsetBy(this.targetOffset),c._doPhase({interaction:c,event:o,phase:"inertiastart"}),c.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),c.modification.result.rect=null,this.active=!0,c.simulation=this,!0}},{key:"startInertia",value:function(){var o=this,c=this.interaction.coords.velocity.client,h=za(this.interaction),b=h.resistance,S=-Math.log(h.endSpeed/this.v0)/b;this.targetOffset={x:(c.x-S)/b,y:(c.y-S)/b},this.te=S,this.lambda_v0=b/this.v0,this.one_ve_v0=1-h.endSpeed/this.v0;var P=this.modification,I=this.modifierArg;I.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},P.result=P.setAll(I),P.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+P.result.delta.x,y:this.targetOffset.y+P.result.delta.y}),this.onNextFrame((function(){return o.inertiaTick()}))}},{key:"startSmoothEnd",value:function(){var o=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame((function(){return o.smoothEndTick()}))}},{key:"onNextFrame",value:function(o){var c=this;this.timeout=Ft.default.request((function(){c.active&&o()}))}},{key:"inertiaTick",value:function(){var o,c,h,b,S,P=this,I=this.interaction,A=za(I).resistance,z=(I._now()-this.t0)/1e3;if(z<this.te){var R,D=1-(Math.exp(-A*z)-this.lambda_v0)/this.one_ve_v0;this.isModified?(o=this.targetOffset.x,c=this.targetOffset.y,h=this.modifiedOffset.x,b=this.modifiedOffset.y,R={x:Bc(S=D,0,o,h),y:Bc(S,0,c,b)}):R={x:this.targetOffset.x*D,y:this.targetOffset.y*D};var L={x:R.x-this.currentOffset.x,y:R.y-this.currentOffset.y};this.currentOffset.x+=L.x,this.currentOffset.y+=L.y,I.offsetBy(L),I.move(),this.onNextFrame((function(){return P.inertiaTick()}))}else I.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var o=this,c=this.interaction,h=c._now()-this.t0,b=za(c).smoothEndDuration;if(h<b){var S={x:qc(h,0,this.targetOffset.x,b),y:qc(h,0,this.targetOffset.y,b)},P={x:S.x-this.currentOffset.x,y:S.y-this.currentOffset.y};this.currentOffset.x+=P.x,this.currentOffset.y+=P.y,c.offsetBy(P),c.move({skipModifiers:this.modifierCount}),this.onNextFrame((function(){return o.smoothEndTick()}))}else c.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(o){var c=o.pointer,h=o.event,b=o.eventTarget,S=this.interaction;S.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),S.updatePointer(c,h,b,!0),S._doPhase({interaction:S,event:h,phase:"resume"}),(0,ct.copyCoords)(S.coords.prev,S.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Ft.default.cancel(this.timeout)}}])&&tv(o.prototype,c),Object.defineProperty(o,"prototype",{writable:!1}),i}();function za(o){var c=o.interactable,h=o.prepared;return c&&c.options&&h.name&&c.options[h.name].inertia}u(za,"dn"),Mn.InertiaState=In;var An={id:"inertia",before:["modifiers","actions"],install:function(o){var c=o.defaults;o.usePlugin(On.default),o.usePlugin(rn.default),o.actions.phases.inertiastart=!0,o.actions.phases.resume=!0,c.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(o){var c=o.interaction;c.inertia=new In(c)},"interactions:before-action-end":function(o){var c=o.interaction,h=o.event;return(!c._interacting||c.simulation||!c.inertia.start(h))&&null},"interactions:down":function(o){var c=o.interaction,h=o.eventTarget,b=c.inertia;if(b.active)for(var P=h;S.default.element(P);){if(P===c.element){b.resume(o);break}P=W.parentNode(P)}},"interactions:stop":function(o){var c=o.interaction.inertia;c.active&&c.stop()},"interactions:before-action-resume":function(o){var c=o.interaction.modification;c.stop(o),c.start(o,o.interaction.coords.cur.page),c.applyToInteraction(o)},"interactions:before-action-inertiastart":function(o){return o.interaction.modification.setAndApply(o)},"interactions:action-resume":rn.addEventModifiers,"interactions:action-inertiastart":rn.addEventModifiers,"interactions:after-action-inertiastart":function(o){return o.interaction.modification.restoreInteractionCoords(o)},"interactions:after-action-resume":function(o){return o.interaction.modification.restoreInteractionCoords(o)}}};function Bc(o,c,h,b){var S=1-o;return S*S*c+2*S*o*h+o*o*b}u(Bc,"vn");function qc(o,c,h,b){return-h*(o/=b)*(o-2)+c}u(qc,"hn");var Nn=An;Mn.default=Nn;var Rn={};function iv(o,c){for(var h=0;h<c.length;h++){var b=c[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(o,b.key,b)}}u(iv,"mn");function vo(o,c,h){return c in o?Object.defineProperty(o,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):o[c]=h,o}u(vo,"bn");function Fc(o,c){for(var h=0;h<c.length;h++){var b=c[h];if(o.immediatePropagationStopped)break;b(o)}}u(Fc,"xn"),Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.Eventable=void 0;var Dn=function(){function i(o){(function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),vo(this,"options",void 0),vo(this,"types",{}),vo(this,"propagationStopped",!1),vo(this,"immediatePropagationStopped",!1),vo(this,"global",void 0),this.options=(0,Q.default)({},o||{})}u(i,"t");var o,c;return o=i,(c=[{key:"fire",value:function(o){var c,h=this.global;(c=this.types[o.type])&&Fc(o,c),!o.propagationStopped&&h&&(c=h[o.type])&&Fc(o,c)}},{key:"on",value:function(o,c){var h=(0,it.default)(o,c);for(o in h)this.types[o]=mt.merge(this.types[o]||[],h[o])}},{key:"off",value:function(o,c){var h=(0,it.default)(o,c);for(o in h){var b=this.types[o];if(b&&b.length)for(var S=0;S<h[o].length;S++){var P=h[o][S],I=b.indexOf(P);I!==-1&&b.splice(I,1)}}}},{key:"getRect",value:function(o){return null}}])&&iv(o.prototype,c),Object.defineProperty(o,"prototype",{writable:!1}),i}();Rn.Eventable=Dn;var Bn={};Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.default=function(o,c){if(c.phaselessTypes[o])return!0;for(var h in c.map)if(o.indexOf(h)===0&&o.substr(h.length)in c.phases)return!0;return!1};var qn={};Object.defineProperty(qn,"__esModule",{value:!0}),qn.createInteractStatic=function(o){var c=u((function l(c,h){var b=o.interactables.get(c,h);return b||((b=o.interactables.new(c,h)).events.global=l.globalEvents),b}),"e");return c.getPointerAverage=ct.pointerAverage,c.getTouchBBox=ct.touchBBox,c.getTouchDistance=ct.touchDistance,c.getTouchAngle=ct.touchAngle,c.getElementRect=W.getElementRect,c.getElementClientRect=W.getElementClientRect,c.matchesSelector=W.matchesSelector,c.closest=W.closest,c.globalEvents={},c.version="1.10.14",c.scope=o,c.use=function(o,c){return this.scope.usePlugin(o,c),this},c.isSet=function(o,c){return!!this.scope.interactables.get(o,c&&c.context)},c.on=(0,ee.warnOnce)((function(o,c,h){if(S.default.string(o)&&o.search(" ")!==-1&&(o=o.trim().split(/ +/)),S.default.array(o)){for(var b=0;b<o.length;b++){var P=o[b];this.on(P,c,h)}return this}if(S.default.object(o)){for(var I in o)this.on(I,o[I],c);return this}return(0,Bn.default)(o,this.scope.actions)?this.globalEvents[o]?this.globalEvents[o].push(c):this.globalEvents[o]=[c]:this.scope.events.add(this.scope.document,o,c,{options:h}),this}),"The interact.on() method is being deprecated"),c.off=(0,ee.warnOnce)((function(o,c,h){if(S.default.string(o)&&o.search(" ")!==-1&&(o=o.trim().split(/ +/)),S.default.array(o)){for(var b=0;b<o.length;b++){var P=o[b];this.off(P,c,h)}return this}if(S.default.object(o)){for(var I in o)this.off(I,o[I],c);return this}var A;return(0,Bn.default)(o,this.scope.actions)?o in this.globalEvents&&(A=this.globalEvents[o].indexOf(c))!==-1&&this.globalEvents[o].splice(A,1):this.scope.events.remove(this.scope.document,o,c,h),this}),"The interact.off() method is being deprecated"),c.debug=function(){return this.scope},c.supportsTouch=function(){return B.default.supportsTouch},c.supportsPointerEvent=function(){return B.default.supportsPointerEvent},c.stop=function(){for(var o=0;o<this.scope.interactions.list.length;o++)this.scope.interactions.list[o].stop();return this},c.pointerMoveTolerance=function(o){return S.default.number(o)?(this.scope.interactions.pointerMoveTolerance=o,this):this.scope.interactions.pointerMoveTolerance},c.addDocument=function(o,c){this.scope.addDocument(o,c)},c.removeDocument=function(o){this.scope.removeDocument(o)},c};var Un={};function av(o,c){for(var h=0;h<c.length;h++){var b=c[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(o,b.key,b)}}u(av,"En");function Kr(o,c,h){return c in o?Object.defineProperty(o,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):o[c]=h,o}u(Kr,"Sn"),Object.defineProperty(Un,"__esModule",{value:!0}),Un.Interactable=void 0;var Vn=function(){function i(o,h,b,S){(function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),Kr(this,"options",void 0),Kr(this,"_actions",void 0),Kr(this,"target",void 0),Kr(this,"events",new Rn.Eventable),Kr(this,"_context",void 0),Kr(this,"_win",void 0),Kr(this,"_doc",void 0),Kr(this,"_scopeEvents",void 0),Kr(this,"_rectChecker",void 0),this._actions=h.actions,this.target=o,this._context=h.context||b,this._win=(0,c.getWindow)((0,W.trySelector)(o)?this._context:o),this._doc=this._win.document,this._scopeEvents=S,this.set(h)}u(i,"t");var o,h;return o=i,(h=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(o,c){return S.default.func(c.onstart)&&this.on("".concat(o,"start"),c.onstart),S.default.func(c.onmove)&&this.on("".concat(o,"move"),c.onmove),S.default.func(c.onend)&&this.on("".concat(o,"end"),c.onend),S.default.func(c.oninertiastart)&&this.on("".concat(o,"inertiastart"),c.oninertiastart),this}},{key:"updatePerActionListeners",value:function(o,c,h){(S.default.array(c)||S.default.object(c))&&this.off(o,c),(S.default.array(h)||S.default.object(h))&&this.on(o,h)}},{key:"setPerAction",value:function(o,c){var h=this._defaults;for(var b in c){var P=b,I=this.options[o],A=c[P];P==="listeners"&&this.updatePerActionListeners(o,I.listeners,A),S.default.array(A)?I[P]=mt.from(A):S.default.plainObject(A)?(I[P]=(0,Q.default)(I[P]||{},(0,Qe.default)(A)),S.default.object(h.perAction[P])&&"enabled"in h.perAction[P]&&(I[P].enabled=A.enabled!==!1)):S.default.bool(A)&&S.default.object(h.perAction[P])?I[P].enabled=A:I[P]=A}}},{key:"getRect",value:function(o){return o=o||(S.default.element(this.target)?this.target:null),S.default.string(this.target)&&(o=o||this._context.querySelector(this.target)),(0,W.getElementRect)(o)}},{key:"rectChecker",value:function(o){var c=this;return S.default.func(o)?(this._rectChecker=o,this.getRect=function(o){var h=(0,Q.default)({},c._rectChecker(o));return"width"in h||(h.width=h.right-h.left,h.height=h.bottom-h.top),h},this):o===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(o,c){if((0,W.trySelector)(c)||S.default.object(c)){for(var h in this.options[o]=c,this._actions.map)this.options[h][o]=c;return this}return this.options[o]}},{key:"origin",value:function(o){return this._backCompatOption("origin",o)}},{key:"deltaSource",value:function(o){return o==="page"||o==="client"?(this.options.deltaSource=o,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(o){return this._context===o.ownerDocument||(0,W.nodeContains)(this._context,o)}},{key:"testIgnoreAllow",value:function(o,c,h){return!this.testIgnore(o.ignoreFrom,c,h)&&this.testAllow(o.allowFrom,c,h)}},{key:"testAllow",value:function(o,c,h){return!o||!!S.default.element(h)&&(S.default.string(o)?(0,W.matchesUpTo)(h,o,c):!!S.default.element(o)&&(0,W.nodeContains)(o,h))}},{key:"testIgnore",value:function(o,c,h){return!(!o||!S.default.element(h))&&(S.default.string(o)?(0,W.matchesUpTo)(h,o,c):!!S.default.element(o)&&(0,W.nodeContains)(o,h))}},{key:"fire",value:function(o){return this.events.fire(o),this}},{key:"_onOff",value:function(o,c,h,b){S.default.object(c)&&!S.default.array(c)&&(b=h,h=null);var P=o==="on"?"add":"remove",I=(0,it.default)(c,h);for(var A in I){A==="wheel"&&(A=B.default.wheelEvent);for(var z=0;z<I[A].length;z++){var R=I[A][z];(0,Bn.default)(A,this._actions)?this.events[o](A,R):S.default.string(this.target)?this._scopeEvents["".concat(P,"Delegate")](this.target,this._context,A,R,b):this._scopeEvents[P](this.target,A,R,b)}}return this}},{key:"on",value:function(o,c,h){return this._onOff("on",o,c,h)}},{key:"off",value:function(o,c,h){return this._onOff("off",o,c,h)}},{key:"set",value:function(o){var c=this._defaults;for(var h in S.default.object(o)||(o={}),this.options=(0,Qe.default)(c.base),this._actions.methodDict){var b=h,P=this._actions.methodDict[b];this.options[b]={},this.setPerAction(b,(0,Q.default)((0,Q.default)({},c.perAction),c.actions[b])),this[P](o[b])}for(var I in o)S.default.func(this[I])&&this[I](o[I]);return this}},{key:"unset",value:function(){if(S.default.string(this.target))for(var o in this._scopeEvents.delegatedEvents)for(var c=this._scopeEvents.delegatedEvents[o],h=c.length-1;h>=0;h--){var b=c[h],P=b.selector,I=b.context,A=b.listeners;P===this.target&&I===this._context&&c.splice(h,1);for(var z=A.length-1;z>=0;z--)this._scopeEvents.removeDelegate(this.target,this._context,o,A[z][0],A[z][1])}else this._scopeEvents.remove(this.target,"all")}}])&&av(o.prototype,h),Object.defineProperty(o,"prototype",{writable:!1}),i}();Un.Interactable=Vn;var Wn={};function lv(o,c){for(var h=0;h<c.length;h++){var b=c[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(o,b.key,b)}}u(lv,"Mn");function Ml(o,c,h){return c in o?Object.defineProperty(o,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):o[c]=h,o}u(Ml,"kn"),Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.InteractableSet=void 0;var Yn=function(){function i(o){var c=this;(function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),Ml(this,"list",[]),Ml(this,"selectorMap",{}),Ml(this,"scope",void 0),this.scope=o,o.addListeners({"interactable:unset":function(o){var h=o.interactable,b=h.target,P=h._context,I=S.default.string(b)?c.selectorMap[b]:b[c.scope.id],A=mt.findIndex(I,(function(o){return o.context===P}));I[A]&&(I[A].context=null,I[A].interactable=null),I.splice(A,1)}})}u(i,"t");var o,c;return o=i,(c=[{key:"new",value:function(o,c){c=(0,Q.default)(c||{},{actions:this.scope.actions});var h=new this.scope.Interactable(o,c,this.scope.document,this.scope.events),b={context:h._context,interactable:h};return this.scope.addDocument(h._doc),this.list.push(h),S.default.string(o)?(this.selectorMap[o]||(this.selectorMap[o]=[]),this.selectorMap[o].push(b)):(h.target[this.scope.id]||Object.defineProperty(o,this.scope.id,{value:[],configurable:!0}),o[this.scope.id].push(b)),this.scope.fire("interactable:new",{target:o,options:c,interactable:h,win:this.scope._win}),h}},{key:"get",value:function(o,c){var h=c&&c.context||this.scope.document,b=S.default.string(o),P=b?this.selectorMap[o]:o[this.scope.id];if(!P)return null;var I=mt.find(P,(function(c){return c.context===h&&(b||c.interactable.inContext(o))}));return I&&I.interactable}},{key:"forEachMatch",value:function(o,c){for(var h=0;h<this.list.length;h++){var b=this.list[h],P=void 0;if((S.default.string(b.target)?S.default.element(o)&&W.matchesSelector(o,b.target):o===b.target)&&b.inContext(o)&&(P=c(b)),P!==void 0)return P}}}])&&lv(o.prototype,c),Object.defineProperty(o,"prototype",{writable:!1}),i}();Wn.InteractableSet=Yn;var Xn={};function cv(o,c){for(var h=0;h<c.length;h++){var b=c[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(o,b.key,b)}}u(cv,"An");function Il(o,c,h){return c in o?Object.defineProperty(o,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):o[c]=h,o}u(Il,"zn");function Al(o,c){return function(o){if(Array.isArray(o))return o}(o)||function(o,c){var h=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(h!=null){var b,S,P=[],I=!0,A=!1;try{for(h=h.call(o);!(I=(b=h.next()).done)&&(P.push(b.value),!c||P.length!==c);I=!0);}catch(o){A=!0,S=o}finally{try{I||h.return==null||h.return()}finally{if(A)throw S}}return P}}(o,c)||function(o,c){if(o){if(typeof o=="string")return Uc(o,c);var h=Object.prototype.toString.call(o).slice(8,-1);return h==="Object"&&o.constructor&&(h=o.constructor.name),h==="Map"||h==="Set"?Array.from(o):h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?Uc(o,c):void 0}}(o,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}u(Al,"Cn");function Uc(o,c){(c==null||c>o.length)&&(c=o.length);for(var h=0,b=Array(c);h<c;h++)b[h]=o[h];return b}u(Uc,"Rn"),Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.default=void 0;var Zn=function(){function i(o){(function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i),Il(this,"currentTarget",void 0),Il(this,"originalEvent",void 0),Il(this,"type",void 0),this.originalEvent=o,(0,lt.default)(this,o)}u(i,"t");var o,c;return o=i,(c=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&cv(o.prototype,c),Object.defineProperty(o,"prototype",{writable:!1}),i}();function bo(o){if(!S.default.object(o))return{capture:!!o,passive:!1};var c=(0,Q.default)({},o);return c.capture=!!o.capture,c.passive=!!o.passive,c}u(bo,"Xn");var Jn={id:"events",install:function(o){var c,h=[],b={},P=[],I={add:E,remove:y,addDelegate:function(o,c,h,S,I){var A=bo(I);if(!b[h]){b[h]=[];for(var z=0;z<P.length;z++){var R=P[z];E(R,h,x),E(R,h,O,!0)}}var D=b[h],L=mt.find(D,(function(h){return h.selector===o&&h.context===c}));L||(L={selector:o,context:c,listeners:[]},D.push(L)),L.listeners.push([S,A])},removeDelegate:function(o,c,h,S,P){var I,A=bo(P),z=b[h],R=!1;if(z)for(I=z.length-1;I>=0;I--){var D=z[I];if(D.selector===o&&D.context===c){for(var L=D.listeners,G=L.length-1;G>=0;G--){var $=Al(L[G],2),B=$[0],F=$[1],V=F.capture,W=F.passive;if(B===S&&V===A.capture&&W===A.passive){L.splice(G,1),L.length||(z.splice(I,1),y(c,h,x),y(c,h,O,!0)),R=!0;break}}if(R)break}}},delegateListener:x,delegateUseCapture:O,delegatedEvents:b,documents:P,targets:h,supportsOptions:!1,supportsPassive:!1};function E(o,c,b,S){var P=bo(S),A=mt.find(h,(function(c){return c.eventTarget===o}));A||(A={eventTarget:o,events:{}},h.push(A)),A.events[c]||(A.events[c]=[]),o.addEventListener&&!mt.contains(A.events[c],b)&&(o.addEventListener(c,b,I.supportsOptions?P:P.capture),A.events[c].push(b))}u(E,"s");function y(o,c,b,S){var P=bo(S),A=mt.findIndex(h,(function(c){return c.eventTarget===o})),z=h[A];if(z&&z.events)if(c!=="all"){var R=!1,D=z.events[c];if(D){if(b==="all"){for(var L=D.length-1;L>=0;L--)y(o,c,D[L],P);return}for(var G=0;G<D.length;G++)if(D[G]===b){o.removeEventListener(c,b,I.supportsOptions?P:P.capture),D.splice(G,1),D.length===0&&(delete z.events[c],R=!0);break}}R&&!Object.keys(z.events).length&&h.splice(A,1)}else for(c in z.events)z.events.hasOwnProperty(c)&&y(o,c,"all")}u(y,"l");function x(o,c){for(var h=bo(c),P=new Zn(o),I=b[o.type],A=Al(ct.getEventTargets(o),1)[0],z=A;S.default.element(z);){for(var R=0;R<I.length;R++){var D=I[R],L=D.selector,G=D.context;if(W.matchesSelector(z,L)&&W.nodeContains(G,A)&&W.nodeContains(G,z)){var $=D.listeners;P.currentTarget=z;for(var B=0;B<$.length;B++){var F=Al($[B],2),V=F[0],Z=F[1],Q=Z.capture,et=Z.passive;Q===h.capture&&et===h.passive&&V(P)}}}z=W.parentNode(z)}}u(x,"u");function O(o){return x(o,!0)}return u(O,"c"),(c=o.document)==null||c.createElement("div").addEventListener("test",null,{get capture(){return I.supportsOptions=!0},get passive(){return I.supportsPassive=!0}}),o.events=I,I}};Xn.default=Jn;var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.default=void 0;var ti={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(o){for(var c=0;c<ti.methodOrder.length;c++){var h;h=ti.methodOrder[c];var b=ti[h](o);if(b)return b}return null},simulationResume:function(o){var c=o.pointerType,h=o.eventType,b=o.eventTarget,S=o.scope;if(!/down|start/i.test(h))return null;for(var P=0;P<S.interactions.list.length;P++){var I=S.interactions.list[P],A=b;if(I.simulation&&I.simulation.allowResume&&I.pointerType===c)for(;A;){if(A===I.element)return I;A=W.parentNode(A)}}return null},mouseOrPen:function(o){var c,h=o.pointerId,b=o.pointerType,S=o.eventType,P=o.scope;if(b!=="mouse"&&b!=="pen")return null;for(var I=0;I<P.interactions.list.length;I++){var A=P.interactions.list[I];if(A.pointerType===b){if(A.simulation&&!Wc(A,h))continue;if(A.interacting())return A;c||(c=A)}}if(c)return c;for(var z=0;z<P.interactions.list.length;z++){var R=P.interactions.list[z];if(!(R.pointerType!==b||/down/i.test(S)&&R.simulation))return R}return null},hasPointer:function(o){for(var c=o.pointerId,h=o.scope,b=0;b<h.interactions.list.length;b++){var S=h.interactions.list[b];if(Wc(S,c))return S}return null},idle:function(o){for(var c=o.pointerType,h=o.scope,b=0;b<h.interactions.list.length;b++){var S=h.interactions.list[b];if(S.pointers.length===1){var P=S.interactable;if(P&&(!P.options.gesture||!P.options.gesture.enabled))continue}else if(S.pointers.length>=2)continue;if(!S.interacting()&&c===S.pointerType)return S}return null}};function Wc(o,c){return o.pointers.some((function(o){return o.id===c}))}u(Wc,"Ln");var ei=ti;Qn.default=ei;var oi={};function Pl(o){return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Pl(o)}u(Pl,"Nn");function Vc(o,c){return function(o){if(Array.isArray(o))return o}(o)||function(o,c){var h=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(h!=null){var b,S,P=[],I=!0,A=!1;try{for(h=h.call(o);!(I=(b=h.next()).done)&&(P.push(b.value),!c||P.length!==c);I=!0);}catch(o){A=!0,S=o}finally{try{I||h.return==null||h.return()}finally{if(A)throw S}}return P}}(o,c)||function(o,c){if(o){if(typeof o=="string")return Yc(o,c);var h=Object.prototype.toString.call(o).slice(8,-1);return h==="Object"&&o.constructor&&(h=o.constructor.name),h==="Map"||h==="Set"?Array.from(o):h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?Yc(o,c):void 0}}(o,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}u(Vc,"qn");function Yc(o,c){(c==null||c>o.length)&&(c=o.length);for(var h=0,b=Array(c);h<c;h++)b[h]=o[h];return b}u(Yc,"Gn");function hv(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}u(hv,"$n");function mv(o,c){for(var h=0;h<c.length;h++){var b=c[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(o,b.key,b)}}u(mv,"Hn");function zl(o,c){return zl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,c){return o.__proto__=c,o},zl(o,c)}u(zl,"Kn");function vv(o,c){if(c&&(Pl(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(o)}u(vv,"Zn");function Ga(o){return Ga=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},Ga(o)}u(Ga,"Jn"),Object.defineProperty(oi,"__esModule",{value:!0}),oi.default=void 0;var si=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Xc(o,c){return function(h){var b=c.interactions.list,S=ct.getPointerType(h),P=Vc(ct.getEventTargets(h),2),I=P[0],A=P[1],z=[];if(/^touch/.test(h.type)){c.prevTouchTime=c.now();for(var R=0;R<h.changedTouches.length;R++){var D=h.changedTouches[R],L={pointer:D,pointerId:ct.getPointerId(D),pointerType:S,eventType:h.type,eventTarget:I,curEventTarget:A,scope:c},G=Zc(L);z.push([L.pointer,L.eventTarget,L.curEventTarget,G])}}else{var $=!1;if(!B.default.supportsPointerEvent&&/mouse/.test(h.type)){for(var F=0;F<b.length&&!$;F++)$=b[F].pointerType!=="mouse"&&b[F].pointerIsDown;$=$||c.now()-c.prevTouchTime<500||h.timeStamp===0}if(!$){var V={pointer:h,pointerId:ct.getPointerId(h),pointerType:S,eventType:h.type,curEventTarget:A,eventTarget:I,scope:c},W=Zc(V);z.push([V.pointer,V.eventTarget,V.curEventTarget,W])}}for(var Z=0;Z<z.length;Z++){var Q=Vc(z[Z],4),et=Q[0],nt=Q[1],it=Q[2];Q[3][o](et,h,nt,it)}}}u(Xc,"tr");function Zc(o){var c=o.pointerType,h=o.scope,b={interaction:Qn.default.search(o),searchDetails:o};return h.fire("interactions:find",b),b.interaction||h.interactions.new({pointerType:c})}u(Zc,"er");function Dl(o,c){var h=o.doc,b=o.scope,S=o.options,P=b.interactions.docEvents,I=b.events,A=I[c];for(var z in b.browser.isIOS&&!S.events&&(S.events={passive:!1}),I.delegatedEvents)A(h,z,I.delegateListener),A(h,z,I.delegateUseCapture,!0);for(var R=S&&S.events,D=0;D<P.length;D++){var L=P[D];A(h,L.type,L.listener,R)}}u(Dl,"nr");var li={id:"core/interactions",install:function(o){for(var c={},h=0;h<si.length;h++){var b=si[h];c[b]=Xc(b,o)}var S,P=B.default.pEventTypes;function E(){for(var c=0;c<o.interactions.list.length;c++){var h=o.interactions.list[c];if(h.pointerIsDown&&h.pointerType==="touch"&&!h._interacting)for(var O=function(){var c=h.pointers[b];o.documents.some((function(o){var h=o.doc;return(0,W.nodeContains)(h,c.downTarget)}))||h.removePointer(c.pointer,c.event)},b=0;b<h.pointers.length;b++)O()}}u(E,"a"),(S=L.default.PointerEvent?[{type:P.down,listener:E},{type:P.down,listener:c.pointerDown},{type:P.move,listener:c.pointerMove},{type:P.up,listener:c.pointerUp},{type:P.cancel,listener:c.pointerUp}]:[{type:"mousedown",listener:c.pointerDown},{type:"mousemove",listener:c.pointerMove},{type:"mouseup",listener:c.pointerUp},{type:"touchstart",listener:E},{type:"touchstart",listener:c.pointerDown},{type:"touchmove",listener:c.pointerMove},{type:"touchend",listener:c.pointerUp},{type:"touchcancel",listener:c.pointerUp}]).push({type:"blur",listener:function(c){for(var h=0;h<o.interactions.list.length;h++)o.interactions.list[h].documentBlur(c)}}),o.prevTouchTime=0,o.Interaction=function(c){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),c&&zl(o,c)})(j,c);var h,b,S,P,I=(S=j,P=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(o){return!1}}(),function(){var o,c=Ga(S);if(P){var h=Ga(this).constructor;o=Reflect.construct(c,arguments,h)}else o=c.apply(this,arguments);return vv(this,o)});function j(){return hv(this,j),I.apply(this,arguments)}return u(j,"s"),h=j,(b=[{key:"pointerMoveTolerance",get:function(){return o.interactions.pointerMoveTolerance},set:function(c){o.interactions.pointerMoveTolerance=c}},{key:"_now",value:function(){return o.now()}}])&&mv(h.prototype,b),Object.defineProperty(h,"prototype",{writable:!1}),j}(yn.default),o.interactions={list:[],new:function(c){c.scopeFire=function(c,h){return o.fire(c,h)};var h=new o.Interaction(c);return o.interactions.list.push(h),h},listeners:c,docEvents:S,pointerMoveTolerance:1},o.usePlugin(De.default)},listeners:{"scope:add-document":function(o){return Dl(o,"add")},"scope:remove-document":function(o){return Dl(o,"remove")},"interactable:unset":function(o,c){for(var h=o.interactable,b=c.interactions.list.length-1;b>=0;b--){var S=c.interactions.list[b];S.interactable===h&&(S.stop(),c.fire("interactions:destroy",{interaction:S}),S.destroy(),c.interactions.list.length>2&&c.interactions.list.splice(b,1))}}},onDocSignal:Dl,doOnInteractions:Xc,methodNames:si},ui=li;oi.default=ui;var vi={};function kl(o){return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},kl(o)}u(kl,"ar");function wo(){return wo=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(o,c,h){var b=yv(o,c);if(b){var S=Object.getOwnPropertyDescriptor(b,c);return S.get?S.get.call(arguments.length<3?o:h):S.value}},wo.apply(this,arguments)}u(wo,"sr");function yv(o,c){for(;!Object.prototype.hasOwnProperty.call(o,c)&&(o=vn(o))!==null;);return o}u(yv,"lr");function Nl(o,c){return Nl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,c){return o.__proto__=c,o},Nl(o,c)}u(Nl,"ur");function wv(o,c){if(c&&(kl(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(o)}u(wv,"cr");function vn(o){return vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},vn(o)}u(vn,"fr");function Kc(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}u(Kc,"dr");function Jc(o,c){for(var h=0;h<c.length;h++){var b=c[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(o,b.key,b)}}u(Jc,"pr");function Qc(o,c,h){return c&&Jc(o.prototype,c),h&&Jc(o,h),Object.defineProperty(o,"prototype",{writable:!1}),o}u(Qc,"vr");function St(o,c,h){return c in o?Object.defineProperty(o,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):o[c]=h,o}u(St,"hr"),Object.defineProperty(vi,"__esModule",{value:!0}),vi.Scope=void 0,vi.initScope=ep;var gi=function(){function i(){var o=this;Kc(this,i),St(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),St(this,"isInitialized",!1),St(this,"listenerMaps",[]),St(this,"browser",B.default),St(this,"defaults",(0,Qe.default)(sn.defaults)),St(this,"Eventable",Rn.Eventable),St(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),St(this,"interactStatic",(0,qn.createInteractStatic)(this)),St(this,"InteractEvent",ln.InteractEvent),St(this,"Interactable",void 0),St(this,"interactables",new Wn.InteractableSet(this)),St(this,"_win",void 0),St(this,"document",void 0),St(this,"window",void 0),St(this,"documents",[]),St(this,"_plugins",{list:[],map:{}}),St(this,"onWindowUnload",(function(c){return o.removeDocument(c.target)}));var c=this;this.Interactable=function(o){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),c&&Nl(o,c)})(y,o);var h,b,S=(h=y,b=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(o){return!1}}(),function(){var o,c=vn(h);if(b){var S=vn(this).constructor;o=Reflect.construct(c,arguments,S)}else o=c.apply(this,arguments);return wv(this,o)});function y(){return Kc(this,y),S.apply(this,arguments)}return u(y,"i"),Qc(y,[{key:"_defaults",get:function(){return c.defaults}},{key:"set",value:function(o){return wo(vn(y.prototype),"set",this).call(this,o),c.fire("interactable:set",{options:o,interactable:this}),this}},{key:"unset",value:function(){wo(vn(y.prototype),"unset",this).call(this);var o=c.interactables.list.indexOf(this);o<0||(wo(vn(y.prototype),"unset",this).call(this),c.interactables.list.splice(o,1),c.fire("interactable:unset",{interactable:this}))}}]),y}(Un.Interactable)}return u(i,"t"),Qc(i,[{key:"addListeners",value:function(o,c){this.listenerMaps.push({id:c,map:o})}},{key:"fire",value:function(o,c){for(var h=0;h<this.listenerMaps.length;h++){var b=this.listenerMaps[h].map[o];if(b&&b(c,this,o)===!1)return!1}}},{key:"init",value:function(o){return this.isInitialized?this:ep(this,o)}},{key:"pluginIsInstalled",value:function(o){return this._plugins.map[o.id]||this._plugins.list.indexOf(o)!==-1}},{key:"usePlugin",value:function(o,c){if(!this.isInitialized)return this;if(this.pluginIsInstalled(o))return this;if(o.id&&(this._plugins.map[o.id]=o),this._plugins.list.push(o),o.install&&o.install(this,c),o.listeners&&o.before){for(var h=0,b=this.listenerMaps.length,S=o.before.reduce((function(o,c){return o[c]=!0,o[tp(c)]=!0,o}),{});h<b;h++){var P=this.listenerMaps[h].id;if(S[P]||S[tp(P)])break}this.listenerMaps.splice(h,0,{id:o.id,map:o.listeners})}else o.listeners&&this.listenerMaps.push({id:o.id,map:o.listeners});return this}},{key:"addDocument",value:function(o,h){if(this.getDocIndex(o)!==-1)return!1;var b=c.getWindow(o);h=h?(0,Q.default)({},h):{},this.documents.push({doc:o,options:h}),this.events.documents.push(o),o!==this.document&&this.events.add(b,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:o,window:b,scope:this,options:h})}},{key:"removeDocument",value:function(o){var h=this.getDocIndex(o),b=c.getWindow(o),S=this.documents[h].options;this.events.remove(b,"unload",this.onWindowUnload),this.documents.splice(h,1),this.events.documents.splice(h,1),this.fire("scope:remove-document",{doc:o,window:b,scope:this,options:S})}},{key:"getDocIndex",value:function(o){for(var c=0;c<this.documents.length;c++)if(this.documents[c].doc===o)return c;return-1}},{key:"getDocOptions",value:function(o){var c=this.getDocIndex(o);return c===-1?null:this.documents[c].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),i}();function ep(o,h){return o.isInitialized=!0,S.default.window(h)&&c.init(h),L.default.init(h),B.default.init(h),Ft.default.init(h),o.window=h,o.document=h.document,o.usePlugin(oi.default),o.usePlugin(Xn.default),o}u(ep,"yr");function tp(o){return o&&o.replace(/\/.*$/,"")}u(tp,"mr"),vi.Scope=gi;var bi={},yi={};Object.defineProperty(yi,"__esModule",{value:!0});var xi={};yi.default=void 0,Object.keys(bi).forEach((function(o){o!=="default"&&o!=="__esModule"&&(Object.prototype.hasOwnProperty.call(xi,o)||o in yi&&yi[o]===bi[o]||Object.defineProperty(yi,o,{enumerable:!0,get:function(){return bi[o]}}))}));var Ei=new vi.Scope,Si=Ei.interactStatic;yi.default=Si;var Ci=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:void 0;Ei.init(Ci);var Oi={};Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.default=void 0,Oi.default=function(){};var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.default=void 0,Ti.default=function(){};var ki={};function np(o,c){return function(o){if(Array.isArray(o))return o}(o)||function(o,c){var h=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(h!=null){var b,S,P=[],I=!0,A=!1;try{for(h=h.call(o);!(I=(b=h.next()).done)&&(P.push(b.value),!c||P.length!==c);I=!0);}catch(o){A=!0,S=o}finally{try{I||h.return==null||h.return()}finally{if(A)throw S}}return P}}(o,c)||function(o,c){if(o){if(typeof o=="string")return ip(o,c);var h=Object.prototype.toString.call(o).slice(8,-1);return h==="Object"&&o.constructor&&(h=o.constructor.name),h==="Map"||h==="Set"?Array.from(o):h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?ip(o,c):void 0}}(o,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}u(np,"jr");function ip(o,c){(c==null||c>o.length)&&(c=o.length);for(var h=0,b=Array(c);h<c;h++)b[h]=o[h];return b}u(ip,"Mr"),Object.defineProperty(ki,"__esModule",{value:!0}),ki.default=void 0,ki.default=function(o){var c=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter((function(c){var h=np(c,2),b=h[0],S=h[1];return b in o||S in o})),h=u((function(h,b){for(var S=o.range,P=o.limits,I=P===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:P,A=o.offset,z=A===void 0?{x:0,y:0}:A,R={range:S,grid:o,x:null,y:null},D=0;D<c.length;D++){var L=np(c[D],2),G=L[0],$=L[1],B=Math.round((h-z.x)/o[G]),F=Math.round((b-z.y)/o[$]);R[G]=Math.max(I.left,Math.min(I.right,B*o[G]+z.x)),R[$]=Math.max(I.top,Math.min(I.bottom,F*o[$]+z.y))}return R}),"n");return h.grid=o,h.coordFields=c,h};var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0}),Object.defineProperty(Pi,"edgeTarget",{enumerable:!0,get:function(){return Oi.default}}),Object.defineProperty(Pi,"elements",{enumerable:!0,get:function(){return Ti.default}}),Object.defineProperty(Pi,"grid",{enumerable:!0,get:function(){return ki.default}});var Mi={};Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.default=void 0;var Ii={id:"snappers",install:function(o){var c=o.interactStatic;c.snappers=(0,Q.default)(c.snappers||{},Pi),c.createSnapGrid=c.snappers.grid}},Ai=Ii;Mi.default=Ai;var zi={};function op(o,c){var h=Object.keys(o);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(o);c&&(b=b.filter((function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable}))),h.push.apply(h,b)}return h}u(op,"Cr");function Ll(o){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?op(Object(h),!0).forEach((function(c){Mv(o,c,h[c])})):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(h)):op(Object(h)).forEach((function(c){Object.defineProperty(o,c,Object.getOwnPropertyDescriptor(h,c))}))}return o}u(Ll,"Rr");function Mv(o,c,h){return c in o?Object.defineProperty(o,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):o[c]=h,o}u(Mv,"Fr"),Object.defineProperty(zi,"__esModule",{value:!0}),zi.default=zi.aspectRatio=void 0;var Ri={start:function(o){var c=o.state,h=o.rect,b=o.edges,S=o.pageCoords,P=c.options.ratio,I=c.options,A=I.equalDelta,z=I.modifiers;P==="preserve"&&(P=h.width/h.height),c.startCoords=(0,Q.default)({},S),c.startRect=(0,Q.default)({},h),c.ratio=P,c.equalDelta=A;var R=c.linkedEdges={top:b.top||b.left&&!b.bottom,left:b.left||b.top&&!b.right,bottom:b.bottom||b.right&&!b.top,right:b.right||b.bottom&&!b.left};if(c.xIsPrimaryAxis=!(!b.left&&!b.right),c.equalDelta){var D=(R.left?1:-1)*(R.top?1:-1);c.edgeSign={x:D,y:D}}else c.edgeSign={x:R.left?-1:1,y:R.top?-1:1};if((0,Q.default)(o.edges,R),z&&z.length){var L=new tn.default(o.interaction);L.copyFrom(o.interaction.modification),L.prepareStates(z),c.subModification=L,L.startAll(Ll({},o))}},set:function(o){var c=o.state,h=o.rect,b=o.coords,S=(0,Q.default)({},b),P=c.equalDelta?Iv:Av;if(P(c,c.xIsPrimaryAxis,b,h),!c.subModification)return null;var I=(0,Q.default)({},h);(0,et.addEdges)(c.linkedEdges,I,{x:b.x-S.x,y:b.y-S.y});var A=c.subModification.setAll(Ll(Ll({},o),{},{rect:I,edges:c.linkedEdges,pageCoords:b,prevCoords:b,prevRect:I})),z=A.delta;return A.changed&&(P(c,Math.abs(z.x)>Math.abs(z.y),A.coords,A.rect),(0,Q.default)(b,A.coords)),A.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Iv(o,c,h){var b=o.startCoords,S=o.edgeSign;c?h.y=b.y+(h.x-b.x)*S.y:h.x=b.x+(h.y-b.y)*S.x}u(Iv,"Br");function Av(o,c,h,b){var S=o.startRect,P=o.startCoords,I=o.ratio,A=o.edgeSign;if(c){var z=b.width/I;h.y=P.y+(z-S.height)*A.y}else{var R=b.height*I;h.x=P.x+(R-S.width)*A.x}}u(Av,"Yr"),zi.aspectRatio=Ri;var Ui=(0,rn.makeModifier)(Ri,"aspectRatio");zi.default=Ui;var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.default=void 0;var Wi=u((function(){}),"Ur");Wi._defaults={};var Yi=Wi;Vi.default=Yi;var Xi={};Object.defineProperty(Xi,"__esModule",{value:!0}),Object.defineProperty(Xi,"default",{enumerable:!0,get:function(){return Vi.default}});var Ki={};function jl(o,c,h){return S.default.func(o)?et.resolveRectLike(o,c.interactable,c.element,[h.x,h.y,c]):et.resolveRectLike(o,c.interactable,c.element)}u(jl,"Gr"),Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.default=void 0,Ki.getRestrictionRect=jl,Ki.restrict=void 0;var Zi={start:function(o){var c=o.rect,h=o.startOffset,b=o.state,S=o.interaction,P=o.pageCoords,I=b.options,A=I.elementRect,z=(0,Q.default)({left:0,top:0,right:0,bottom:0},I.offset||{});if(c&&A){var R=jl(I.restriction,S,P);if(R){var D=R.right-R.left-c.width,L=R.bottom-R.top-c.height;D<0&&(z.left+=D,z.right+=D),L<0&&(z.top+=L,z.bottom+=L)}z.left+=h.left-c.width*A.left,z.top+=h.top-c.height*A.top,z.right+=h.right-c.width*(1-A.right),z.bottom+=h.bottom-c.height*(1-A.bottom)}b.offset=z},set:function(o){var c=o.coords,h=o.interaction,b=o.state,S=b.options,P=b.offset,I=jl(S.restriction,h,c);if(I){var A=et.xywhToTlbr(I);c.x=Math.max(Math.min(A.right-P.right,c.x),A.left+P.left),c.y=Math.max(Math.min(A.bottom-P.bottom,c.y),A.top+P.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};Ki.restrict=Zi;var Ji=(0,rn.makeModifier)(Zi,"restrict");Ki.default=Ji;var tr={};Object.defineProperty(tr,"__esModule",{value:!0}),tr.restrictEdges=tr.default=void 0;var nr={top:1/0,left:1/0,bottom:-1/0,right:-1/0},ir={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function pp(o,c){for(var h=["top","left","bottom","right"],b=0;b<h.length;b++){var S=h[b];S in o||(o[S]=c[S])}return o}u(pp,"Qr");var rr={noInner:nr,noOuter:ir,start:function(o){var c,h=o.interaction,b=o.startOffset,S=o.state,P=S.options;if(P){var I=(0,Ki.getRestrictionRect)(P.offset,h,h.coords.start.page);c=et.rectToXY(I)}c=c||{x:0,y:0},S.offset={top:c.y+b.top,left:c.x+b.left,bottom:c.y-b.bottom,right:c.x-b.right}},set:function(o){var c=o.coords,h=o.edges,b=o.interaction,S=o.state,P=S.offset,I=S.options;if(h){var A=(0,Q.default)({},c),z=(0,Ki.getRestrictionRect)(I.inner,b,A)||{},R=(0,Ki.getRestrictionRect)(I.outer,b,A)||{};pp(z,nr),pp(R,ir),h.top?c.y=Math.min(Math.max(R.top+P.top,A.y),z.top+P.top):h.bottom&&(c.y=Math.max(Math.min(R.bottom+P.bottom,A.y),z.bottom+P.bottom)),h.left?c.x=Math.min(Math.max(R.left+P.left,A.x),z.left+P.left):h.right&&(c.x=Math.max(Math.min(R.right+P.right,A.x),z.right+P.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};tr.restrictEdges=rr;var sr=(0,rn.makeModifier)(rr,"restrictEdges");tr.default=sr;var lr={};Object.defineProperty(lr,"__esModule",{value:!0}),lr.restrictRect=lr.default=void 0;var cr=(0,Q.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(o){}},Ki.restrict.defaults),pr={start:Ki.restrict.start,set:Ki.restrict.set,defaults:cr};lr.restrictRect=pr;var dr=(0,rn.makeModifier)(pr,"restrictRect");lr.default=dr;var hr={};Object.defineProperty(hr,"__esModule",{value:!0}),hr.restrictSize=hr.default=void 0;var fr={width:-1/0,height:-1/0},gr={width:1/0,height:1/0},br={start:function(o){return tr.restrictEdges.start(o)},set:function(o){var c=o.interaction,h=o.state,b=o.rect,S=o.edges,P=h.options;if(S){var I=et.tlbrToXywh((0,Ki.getRestrictionRect)(P.min,c,o.coords))||fr,A=et.tlbrToXywh((0,Ki.getRestrictionRect)(P.max,c,o.coords))||gr;h.options={endOnly:P.endOnly,inner:(0,Q.default)({},tr.restrictEdges.noInner),outer:(0,Q.default)({},tr.restrictEdges.noOuter)},S.top?(h.options.inner.top=b.bottom-I.height,h.options.outer.top=b.bottom-A.height):S.bottom&&(h.options.inner.bottom=b.top+I.height,h.options.outer.bottom=b.top+A.height),S.left?(h.options.inner.left=b.right-I.width,h.options.outer.left=b.right-A.width):S.right&&(h.options.inner.right=b.left+I.width,h.options.outer.right=b.left+A.width),tr.restrictEdges.set(o),h.options=P}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};hr.restrictSize=br;var yr=(0,rn.makeModifier)(br,"restrictSize");hr.default=yr;var wr={};Object.defineProperty(wr,"__esModule",{value:!0}),Object.defineProperty(wr,"default",{enumerable:!0,get:function(){return Vi.default}});var Er={};Object.defineProperty(Er,"__esModule",{value:!0}),Er.snap=Er.default=void 0;var Cr={start:function(o){var c,h=o.interaction,b=o.interactable,S=o.element,P=o.rect,I=o.state,A=o.startOffset,z=I.options,R=z.offsetWithOrigin?function(o){var c=o.interaction.element;return(0,et.rectToXY)((0,et.resolveRectLike)(o.state.options.origin,null,null,[c]))||(0,nt.default)(o.interactable,c,o.interaction.prepared.name)}(o):{x:0,y:0};if(z.offset==="startCoords")c={x:h.coords.start.page.x,y:h.coords.start.page.y};else{var D=(0,et.resolveRectLike)(z.offset,b,S,[h]);(c=(0,et.rectToXY)(D)||{x:0,y:0}).x+=R.x,c.y+=R.y}var L=z.relativePoints;I.offsets=P&&L&&L.length?L.map((function(o,h){return{index:h,relativePoint:o,x:A.left-P.width*o.x+c.x,y:A.top-P.height*o.y+c.y}})):[{index:0,relativePoint:null,x:c.x,y:c.y}]},set:function(o){var c=o.interaction,h=o.coords,b=o.state,P=b.options,I=b.offsets,A=(0,nt.default)(c.interactable,c.element,c.prepared.name),z=(0,Q.default)({},h),R=[];P.offsetWithOrigin||(z.x-=A.x,z.y-=A.y);for(var D=0;D<I.length;D++)for(var L=I[D],G=z.x-L.x,$=z.y-L.y,B=0,F=P.targets.length;B<F;B++){var V,W=P.targets[B];(V=S.default.func(W)?W(G,$,c._proxy,L,B):W)&&R.push({x:(S.default.number(V.x)?V.x:G)+L.x,y:(S.default.number(V.y)?V.y:$)+L.y,range:S.default.number(V.range)?V.range:P.range,source:W,index:B,offset:L})}for(var Z={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},et=0;et<R.length;et++){var it=R[et],lt=it.range,ct=it.x-z.x,pt=it.y-z.y,dt=(0,at.default)(ct,pt),mt=dt<=lt;lt===1/0&&Z.inRange&&Z.range!==1/0&&(mt=!1),Z.target&&!(mt?Z.inRange&&lt!==1/0?dt/lt<Z.distance/Z.range:lt===1/0&&Z.range!==1/0||dt<Z.distance:!Z.inRange&&dt<Z.distance)||(Z.target=it,Z.distance=dt,Z.range=lt,Z.inRange=mt,Z.delta.x=ct,Z.delta.y=pt)}return Z.inRange&&(h.x=Z.target.x,h.y=Z.target.y),b.closest=Z,Z},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};Er.snap=Cr;var Or=(0,rn.makeModifier)(Cr,"snap");Er.default=Or;var kr={};function vp(o,c){(c==null||c>o.length)&&(c=o.length);for(var h=0,b=Array(c);h<c;h++)b[h]=o[h];return b}u(vp,"yo"),Object.defineProperty(kr,"__esModule",{value:!0}),kr.snapSize=kr.default=void 0;var Ar={start:function(o){var c=o.state,h=o.edges,b=c.options;if(!h)return null;o.state={options:{targets:null,relativePoints:[{x:h.left?0:1,y:h.top?0:1}],offset:b.offset||"self",origin:{x:0,y:0},range:b.range}},c.targetFields=c.targetFields||[["width","height"],["x","y"]],Er.snap.start(o),c.offsets=o.state.offsets,o.state=c},set:function(o){var c,h,b=o.interaction,P=o.state,I=o.coords,A=P.options,z=P.offsets,R={x:I.x-z[0].x,y:I.y-z[0].y};P.options=(0,Q.default)({},A),P.options.targets=[];for(var D=0;D<(A.targets||[]).length;D++){var L=(A.targets||[])[D],G=void 0;if(G=S.default.func(L)?L(R.x,R.y,b):L){for(var $=0;$<P.targetFields.length;$++){var B=(c=P.targetFields[$],h=2,function(o){if(Array.isArray(o))return o}(c)||function(o,c){var h=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(h!=null){var b,S,P=[],I=!0,A=!1;try{for(h=h.call(o);!(I=(b=h.next()).done)&&(P.push(b.value),!c||P.length!==c);I=!0);}catch(o){A=!0,S=o}finally{try{I||h.return==null||h.return()}finally{if(A)throw S}}return P}}(c,h)||function(o,c){if(o){if(typeof o=="string")return vp(o,c);var h=Object.prototype.toString.call(o).slice(8,-1);return h==="Object"&&o.constructor&&(h=o.constructor.name),h==="Map"||h==="Set"?Array.from(o):h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?vp(o,c):void 0}}(c,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),F=B[0],V=B[1];if(F in G||V in G){G.x=G[F],G.y=G[V];break}}P.options.targets.push(G)}}var W=Er.snap.set(o);return P.options=A,W},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};kr.snapSize=Ar;var Rr=(0,rn.makeModifier)(Ar,"snapSize");kr.default=Rr;var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.snapEdges=Dr.default=void 0;var Lr={start:function(o){var c=o.edges;return c?(o.state.targetFields=o.state.targetFields||[[c.left?"left":"right",c.top?"top":"bottom"]],kr.snapSize.start(o)):null},set:kr.snapSize.set,defaults:(0,Q.default)((0,Qe.default)(kr.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};Dr.snapEdges=Lr;var Gr=(0,rn.makeModifier)(Lr,"snapEdges");Dr.default=Gr;var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0}),Object.defineProperty(Hr,"default",{enumerable:!0,get:function(){return Vi.default}});var Br={};Object.defineProperty(Br,"__esModule",{value:!0}),Object.defineProperty(Br,"default",{enumerable:!0,get:function(){return Vi.default}});var qr={};Object.defineProperty(qr,"__esModule",{value:!0}),qr.default=void 0;var Fr={aspectRatio:zi.default,restrictEdges:tr.default,restrict:Ki.default,restrictRect:lr.default,restrictSize:hr.default,snapEdges:Dr.default,snap:Er.default,snapSize:kr.default,spring:Hr.default,avoid:Xi.default,transform:Br.default,rubberband:wr.default};qr.default=Fr;var Ur={};Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.default=void 0;var Wr={id:"modifiers",install:function(o){var c=o.interactStatic;for(var h in o.usePlugin(rn.default),o.usePlugin(Mi.default),c.modifiers=qr.default,qr.default){var b=qr.default[h],S=b._defaults,P=b._methods;S._methods=P,o.defaults.perAction[h]=S}}},Zr=Wr;Ur.default=Zr;var Jr={};function ql(o){return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ql(o)}u(ql,"Io");function Uv(o,c){for(var h=0;h<c.length;h++){var b=c[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(o,b.key,b)}}u(Uv,"Do");function Fl(o,c){return Fl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,c){return o.__proto__=c,o},Fl(o,c)}u(Fl,"Ao");function Wv(o,c){if(c&&(ql(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ul(o)}u(Wv,"zo");function Ul(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}u(Ul,"Co");function Fa(o){return Fa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},Fa(o)}u(Fa,"Ro"),Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.default=Jr.PointerEvent=void 0;var Qr=function(o){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),c&&Fl(o,c)})(E,o);var c,h,b,S,P=(b=E,S=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(o){return!1}}(),function(){var o,c=Fa(b);if(S){var h=Fa(this).constructor;o=Reflect.construct(c,arguments,h)}else o=c.apply(this,arguments);return Wv(this,o)});function E(o,c,h,b,S,I){var A;if(function(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}(this,E),A=P.call(this,S),ct.pointerExtend(Ul(A),h),h!==c&&ct.pointerExtend(Ul(A),c),A.timeStamp=I,A.originalEvent=h,A.type=o,A.pointerId=ct.getPointerId(c),A.pointerType=ct.getPointerType(c),A.target=b,A.currentTarget=null,o==="tap"){var z=S.getPointerIndex(c);A.dt=A.timeStamp-S.pointers[z].downTime;var R=A.timeStamp-S.tapTime;A.double=!!S.prevTap&&S.prevTap.type!=="doubletap"&&S.prevTap.target===A.target&&R<500}else o==="doubletap"&&(A.dt=c.timeStamp-S.tapTime,A.double=!0);return A}return u(E,"a"),c=E,(h=[{key:"_subtractOrigin",value:function(o){var c=o.x,h=o.y;return this.pageX-=c,this.pageY-=h,this.clientX-=c,this.clientY-=h,this}},{key:"_addOrigin",value:function(o){var c=o.x,h=o.y;return this.pageX+=c,this.pageY+=h,this.clientX+=c,this.clientY+=h,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&Uv(c.prototype,h),Object.defineProperty(c,"prototype",{writable:!1}),E}(pt.BaseEvent);Jr.PointerEvent=Jr.default=Qr;var no={};Object.defineProperty(no,"__esModule",{value:!0}),no.default=void 0;var io={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(o){o.pointerEvents=io,o.defaults.actions.pointerEvents=io.defaults,(0,Q.default)(o.actions.phaselessTypes,io.types)},listeners:{"interactions:new":function(o){var c=o.interaction;c.prevTap=null,c.tapTime=0},"interactions:update-pointer":function(o){var c=o.down,h=o.pointerInfo;!c&&h.hold||(h.hold={duration:1/0,timeout:null})},"interactions:move":function(o,c){var h=o.interaction,b=o.pointer,S=o.event,P=o.eventTarget;o.duplicate||h.pointerIsDown&&!h.pointerWasMoved||(h.pointerIsDown&&Wl(o),bn({interaction:h,pointer:b,event:S,eventTarget:P,type:"move"},c))},"interactions:down":function(o,c){(function(o,c){for(var h=o.interaction,b=o.pointer,S=o.event,P=o.eventTarget,I=o.pointerIndex,A=h.pointers[I].hold,z=W.getPath(P),R={interaction:h,pointer:b,event:S,eventTarget:P,type:"hold",targets:[],path:z,node:null},D=0;D<z.length;D++){var L=z[D];R.node=L,c.fire("pointerEvents:collect-targets",R)}if(R.targets.length){for(var G=1/0,$=0;$<R.targets.length;$++){var B=R.targets[$].eventable.options.holdDuration;B<G&&(G=B)}A.duration=G,A.timeout=setTimeout((function(){bn({interaction:h,eventTarget:P,pointer:b,event:S,type:"hold"},c)}),G)}})(o,c),bn(o,c)},"interactions:up":function(o,c){Wl(o),bn(o,c),function(o,c){var h=o.interaction,b=o.pointer,S=o.event,P=o.eventTarget;h.pointerWasMoved||bn({interaction:h,eventTarget:P,pointer:b,event:S,type:"tap"},c)}(o,c)},"interactions:cancel":function(o,c){Wl(o),bn(o,c)}},PointerEvent:Jr.PointerEvent,fire:bn,collectEventTargets:yp,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function bn(o,c){var h=o.interaction,b=o.pointer,S=o.event,P=o.eventTarget,I=o.type,A=o.targets,z=A===void 0?yp(o,c):A,R=new Jr.PointerEvent(I,b,S,P,h,c.now());c.fire("pointerEvents:new",{pointerEvent:R});for(var D={interaction:h,pointer:b,event:S,eventTarget:P,targets:z,type:I,pointerEvent:R},L=0;L<z.length;L++){var G=z[L];for(var $ in G.props||{})R[$]=G.props[$];var B=(0,nt.default)(G.eventable,G.node);if(R._subtractOrigin(B),R.eventable=G.eventable,R.currentTarget=G.node,G.eventable.fire(R),R._addOrigin(B),R.immediatePropagationStopped||R.propagationStopped&&L+1<z.length&&z[L+1].node!==R.currentTarget)break}if(c.fire("pointerEvents:fired",D),I==="tap"){var F=R.double?bn({interaction:h,pointer:b,event:S,eventTarget:P,type:"doubletap"},c):R;h.prevTap=F,h.tapTime=F.timeStamp}return R}u(bn,"Yo");function yp(o,c){var h=o.interaction,b=o.pointer,S=o.event,P=o.eventTarget,I=o.type,A=h.getPointerIndex(b),z=h.pointers[A];if(I==="tap"&&(h.pointerWasMoved||!z||z.downTarget!==P))return[];for(var R=W.getPath(P),D={interaction:h,pointer:b,event:S,eventTarget:P,type:I,path:R,targets:[],node:null},L=0;L<R.length;L++){var G=R[L];D.node=G,c.fire("pointerEvents:collect-targets",D)}return I==="hold"&&(D.targets=D.targets.filter((function(o){var c;return o.eventable.options.holdDuration===((c=h.pointers[A])==null?void 0:c.hold.duration)}))),D.targets}u(yp,"Wo");function Wl(o){var c=o.interaction,h=o.pointerIndex,b=c.pointers[h].hold;b&&b.timeout&&(clearTimeout(b.timeout),b.timeout=null)}u(Wl,"Lo");var ro=io;no.default=ro;var so={};function Xv(o){var c=o.interaction;c.holdIntervalHandle&&(clearInterval(c.holdIntervalHandle),c.holdIntervalHandle=null)}u(Xv,"No"),Object.defineProperty(so,"__esModule",{value:!0}),so.default=void 0;var co={id:"pointer-events/holdRepeat",install:function(o){o.usePlugin(no.default);var c=o.pointerEvents;c.defaults.holdRepeatInterval=0,c.types.holdrepeat=o.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce((function(o,c){return o["pointerEvents:".concat(c)]=Xv,o}),{"pointerEvents:new":function(o){var c=o.pointerEvent;c.type==="hold"&&(c.count=(c.count||0)+1)},"pointerEvents:fired":function(o,c){var h=o.interaction,b=o.pointerEvent,S=o.eventTarget,P=o.targets;if(b.type==="hold"&&P.length){var I=P[0].eventable.options.holdRepeatInterval;I<=0||(h.holdIntervalHandle=setTimeout((function(){c.pointerEvents.fire({interaction:h,eventTarget:S,type:"hold",pointer:b,event:b},c)}),I))}}})},uo=co;so.default=uo;var po={};function Jv(o){return(0,Q.default)(this.events.options,o),this}u(Jv,"Ho"),Object.defineProperty(po,"__esModule",{value:!0}),po.default=void 0;var fo={id:"pointer-events/interactableTargets",install:function(o){var c=o.Interactable;c.prototype.pointerEvents=Jv;var h=c.prototype._backCompatOption;c.prototype._backCompatOption=function(o,c){var b=h.call(this,o,c);return b===this&&(this.events.options[o]=c),b}},listeners:{"pointerEvents:collect-targets":function(o,c){var h=o.targets,b=o.node,S=o.type,P=o.eventTarget;c.interactables.forEachMatch(b,(function(o){var c=o.events,I=c.options;c.types[S]&&c.types[S].length&&o.testIgnoreAllow(I,b,P)&&h.push({node:b,eventable:c,props:{interactable:o}})}))},"interactable:new":function(o){var c=o.interactable;c.events.getRect=function(o){return c.getRect(o)}},"interactable:set":function(o,c){var h=o.interactable,b=o.options;(0,Q.default)(h.events.options,c.pointerEvents.defaults),(0,Q.default)(h.events.options,b.pointerEvents||{})}}},go=fo;po.default=go;var mo={};Object.defineProperty(mo,"__esModule",{value:!0}),mo.default=void 0;var yo={id:"pointer-events",install:function(o){o.usePlugin(no),o.usePlugin(so.default),o.usePlugin(po.default)}},xo=yo;mo.default=xo;var Eo={};function wp(o){var c=o.Interactable;o.actions.phases.reflow=!0,c.prototype.reflow=function(c){return function(o,c,h){for(var b=S.default.string(o.target)?mt.from(o._context.querySelectorAll(o.target)):[o.target],P=h.window.Promise,I=P?[]:null,O=function(){var S=b[A],z=o.getRect(S);if(!z)return"break";var R=mt.find(h.interactions.list,(function(h){return h.interacting()&&h.interactable===o&&h.element===S&&h.prepared.name===c.name})),D=void 0;if(R)R.move(),I&&(D=R._reflowPromise||new P((function(o){R._reflowResolve=o})));else{var L=(0,et.tlbrToXywh)(z),G={page:{x:L.x,y:L.y},client:{x:L.x,y:L.y},timeStamp:h.now()},$=ct.coordsToEvent(G);D=function(o,c,h,b,S){var P=o.interactions.new({pointerType:"reflow"}),I={interaction:P,event:S,pointer:S,eventTarget:h,phase:"reflow"};P.interactable=c,P.element=h,P.prevEvent=S,P.updatePointer(S,S,h,!0),ct.setZeroCoords(P.coords.delta),(0,ee.copyAction)(P.prepared,b),P._doPhase(I);var A=o.window.Promise,z=A?new A((function(o){P._reflowResolve=o})):void 0;return P._reflowPromise=z,P.start(b,c,h),P._interacting?(P.move(I),P.end(S)):(P.stop(),P._reflowResolve()),P.removePointer(S,S),z}(h,o,S,c,$)}I&&I.push(D)},A=0;A<b.length&&O()!=="break";A++);return I&&P.all(I).then((function(){return o}))}(this,c,o)}}u(wp,"ni"),Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.default=void 0,Eo.install=wp;var So={id:"reflow",install:wp,listeners:{"interactions:stop":function(o,c){var h=o.interaction;h.pointerType==="reflow"&&(h._reflowResolve&&h._reflowResolve(),mt.remove(c.interactions.list,h))}}},Co=So;Eo.default=Co;var Oo={exports:{}};function Vl(o){return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Vl(o)}u(Vl,"ai"),Object.defineProperty(Oo.exports,"__esModule",{value:!0}),Oo.exports.default=void 0,yi.default.use(De.default),yi.default.use(On.default),yi.default.use(mo.default),yi.default.use(Mn.default),yi.default.use(Ur.default),yi.default.use(_e.default),yi.default.use(Bt.default),yi.default.use(Xt.default),yi.default.use(Eo.default);var To=yi.default;if(Oo.exports.default=To,Vl(Oo)==="object"&&Oo)try{Oo.exports=yi.default}catch(o){}yi.default.default=yi.default,Oo=Oo.exports;var Po={exports:{}};function Yl(o){return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Yl(o)}u(Yl,"ui"),Object.defineProperty(Po.exports,"__esModule",{value:!0}),Po.exports.default=void 0;var Io=Oo.default;if(Po.exports.default=Io,Yl(Po)==="object"&&Po)try{Po.exports=Oo.default}catch(o){}return Oo.default.default=Oo.default,Po.exports}))}));var at=Tt(((o,c)=>{(function(o){var r=function(){},h=o.requestAnimationFrame||o.webkitRequestAnimationFrame||o.mozRequestAnimationFrame||o.msRequestAnimationFrame||function(o){return setTimeout(o,16)};function n(){var c=this;c.reads=[],c.writes=[],c.raf=h.bind(o),r("initialized",c)}u(n,"FastDom"),n.prototype={constructor:n,runTasks:function(o){r("run tasks");for(var c;c=o.shift();)c()},measure:function(o,c){r("measure");var h=c?o.bind(c):o;return this.reads.push(h),s(this),h},mutate:function(o,c){r("mutate");var h=c?o.bind(c):o;return this.writes.push(h),s(this),h},clear:function(o){return r("clear",o),p(this.reads,o)||p(this.writes,o)},extend:function(o){if(r("extend",o),typeof o!="object")throw new Error("expected object");var c=Object.create(this);return v(c,o),c.fastdom=this,c.initialize&&c.initialize(),c},catch:null};function s(o){o.scheduled||(o.scheduled=!0,o.raf(a.bind(null,o)),r("flush scheduled"))}u(s,"scheduleFlush");function a(o){r("flush");var c,h=o.writes,b=o.reads;try{r("flushing reads",b.length),o.runTasks(b),r("flushing writes",h.length),o.runTasks(h)}catch(o){c=o}if(o.scheduled=!1,(b.length||h.length)&&s(o),c){if(r("task errored",c.message),!o.catch)throw c;o.catch(c)}}u(a,"flush");function p(o,c){var h=o.indexOf(c);return!!~h&&!!o.splice(h,1)}u(p,"remove");function v(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])}u(v,"mixin");var b=o.fastdom=o.fastdom||new n;typeof define=="function"?define((function(){return b})):typeof c=="object"&&(c.exports=b)})(typeof window!="undefined"?window:o)}));var lt=Tt(((o,c)=>{(function(h){var b=Math.cosh||function(o){return Math.abs(o)<1e-9?1-o:(Math.exp(o)+Math.exp(-o))*.5},S=Math.sinh||function(o){return Math.abs(o)<1e-9?o:.5*(Math.exp(o)-Math.exp(-o))},P=u((function(o){var c=Math.PI/4;if(-c>o||o>c)return Math.cos(o)-1;var h=o*o;return h*(h*(h*(h*(h*(h*(h*(h/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}),"cosm1"),I=u((function(o,c){var h=Math.abs(o),b=Math.abs(c);return h<3e3&&b<3e3?Math.sqrt(h*h+b*b):(h<b?(h=b,b=o/c):b=c/o,h*Math.sqrt(1+b*b))}),"hypot"),A=u((function(){throw SyntaxError("Invalid Param")}),"parser_exit");function p(o,c){var h=Math.abs(o),b=Math.abs(c);return o===0?Math.log(b):c===0?Math.log(h):h<3e3&&b<3e3?Math.log(o*o+c*c)*.5:(o/=2,c/=2,.5*Math.log(o*o+c*c)+Math.LN2)}u(p,"logHypot");var z=u((function(o,c){var h={re:0,im:0};if(o==null)h.re=h.im=0;else if(c!==void 0)h.re=o,h.im=c;else switch(typeof o){case"object":if("im"in o&&"re"in o)h.re=o.re,h.im=o.im;else if("abs"in o&&"arg"in o){if(!Number.isFinite(o.abs)&&Number.isFinite(o.arg))return m.INFINITY;h.re=o.abs*Math.cos(o.arg),h.im=o.abs*Math.sin(o.arg)}else if("r"in o&&"phi"in o){if(!Number.isFinite(o.r)&&Number.isFinite(o.phi))return m.INFINITY;h.re=o.r*Math.cos(o.phi),h.im=o.r*Math.sin(o.phi)}else o.length===2?(h.re=o[0],h.im=o[1]):A();break;case"string":h.im=h.re=0;var b=o.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),S=1,P=0;b===null&&A();for(var I=0;I<b.length;I++){var z=b[I];z===" "||z==="\t"||z==="\n"||(z==="+"?S++:z==="-"?P++:z==="i"||z==="I"?(S+P===0&&A(),b[I+1]===" "||isNaN(b[I+1])?h.im+=parseFloat((P%2?"-":"")+"1"):(h.im+=parseFloat((P%2?"-":"")+b[I+1]),I++),S=P=0):((S+P===0||isNaN(z))&&A(),b[I+1]==="i"||b[I+1]==="I"?(h.im+=parseFloat((P%2?"-":"")+z),I++):h.re+=parseFloat((P%2?"-":"")+z),S=P=0))}S+P>0&&A();break;case"number":h.im=0,h.re=o;break;default:A()}return isNaN(h.re)||isNaN(h.im),h}),"parse");function m(o,c){if(!(this instanceof m))return new m(o,c);var h=z(o,c);this.re=h.re,this.im=h.im}u(m,"Complex"),m.prototype={re:0,im:0,sign:function(){var o=this.abs();return new m(this.re/o,this.im/o)},add:function(o,c){var h=new m(o,c);return this.isInfinite()&&h.isInfinite()?m.NAN:this.isInfinite()||h.isInfinite()?m.INFINITY:new m(this.re+h.re,this.im+h.im)},sub:function(o,c){var h=new m(o,c);return this.isInfinite()&&h.isInfinite()?m.NAN:this.isInfinite()||h.isInfinite()?m.INFINITY:new m(this.re-h.re,this.im-h.im)},mul:function(o,c){var h=new m(o,c);return this.isInfinite()&&h.isZero()||this.isZero()&&h.isInfinite()?m.NAN:this.isInfinite()||h.isInfinite()?m.INFINITY:h.im===0&&this.im===0?new m(this.re*h.re,0):new m(this.re*h.re-this.im*h.im,this.re*h.im+this.im*h.re)},div:function(o,c){var h=new m(o,c);if(this.isZero()&&h.isZero()||this.isInfinite()&&h.isInfinite())return m.NAN;if(this.isInfinite()||h.isZero())return m.INFINITY;if(this.isZero()||h.isInfinite())return m.ZERO;o=this.re,c=this.im;var b,S,P=h.re,I=h.im;return I===0?new m(o/P,c/P):Math.abs(P)<Math.abs(I)?(S=P/I,b=P*S+I,new m((o*S+c)/b,(c*S-o)/b)):(S=I/P,b=I*S+P,new m((o+c*S)/b,(c-o*S)/b))},pow:function(o,c){var h=new m(o,c);if(o=this.re,c=this.im,h.isZero())return m.ONE;if(h.im===0){if(c===0&&o>0)return new m(Math.pow(o,h.re),0);if(o===0)switch((h.re%4+4)%4){case 0:return new m(Math.pow(c,h.re),0);case 1:return new m(0,Math.pow(c,h.re));case 2:return new m(-Math.pow(c,h.re),0);case 3:return new m(0,-Math.pow(c,h.re))}}if(o===0&&c===0&&h.re>0&&h.im>=0)return m.ZERO;var b=Math.atan2(c,o),S=p(o,c);return o=Math.exp(h.re*S-h.im*b),c=h.im*S+h.re*b,new m(o*Math.cos(c),o*Math.sin(c))},sqrt:function(){var o,c,h=this.re,b=this.im,S=this.abs();if(h>=0){if(b===0)return new m(Math.sqrt(h),0);o=.5*Math.sqrt(2*(S+h))}else o=Math.abs(b)/Math.sqrt(2*(S-h));return c=h<=0?.5*Math.sqrt(2*(S-h)):Math.abs(b)/Math.sqrt(2*(S+h)),new m(o,b<0?-c:c)},exp:function(){var o=Math.exp(this.re);return this.im,new m(o*Math.cos(this.im),o*Math.sin(this.im))},expm1:function(){var o=this.re,c=this.im;return new m(Math.expm1(o)*Math.cos(c)+P(c),Math.exp(o)*Math.sin(c))},log:function(){var o=this.re,c=this.im;return c===0&&o>0,new m(p(o,c),Math.atan2(c,o))},abs:function(){return I(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var o=this.re,c=this.im;return new m(Math.sin(o)*b(c),Math.cos(o)*S(c))},cos:function(){var o=this.re,c=this.im;return new m(Math.cos(o)*b(c),-Math.sin(o)*S(c))},tan:function(){var o=2*this.re,c=2*this.im,h=Math.cos(o)+b(c);return new m(Math.sin(o)/h,S(c)/h)},cot:function(){var o=2*this.re,c=2*this.im,h=Math.cos(o)-b(c);return new m(-Math.sin(o)/h,S(c)/h)},sec:function(){var o=this.re,c=this.im,h=.5*b(2*c)+.5*Math.cos(2*o);return new m(Math.cos(o)*b(c)/h,Math.sin(o)*S(c)/h)},csc:function(){var o=this.re,c=this.im,h=.5*b(2*c)-.5*Math.cos(2*o);return new m(Math.sin(o)*b(c)/h,-Math.cos(o)*S(c)/h)},asin:function(){var o=this.re,c=this.im,h=new m(c*c-o*o+1,-2*o*c).sqrt(),b=new m(h.re-c,h.im+o).log();return new m(b.im,-b.re)},acos:function(){var o=this.re,c=this.im,h=new m(c*c-o*o+1,-2*o*c).sqrt(),b=new m(h.re-c,h.im+o).log();return new m(Math.PI/2-b.im,b.re)},atan:function(){var o=this.re,c=this.im;if(o===0){if(c===1)return new m(0,1/0);if(c===-1)return new m(0,-1/0)}var h=o*o+(1-c)*(1-c),b=new m((1-c*c-o*o)/h,-2*o/h).log();return new m(-.5*b.im,.5*b.re)},acot:function(){var o=this.re,c=this.im;if(c===0)return new m(Math.atan2(1,o),0);var h=o*o+c*c;return h!==0?new m(o/h,-c/h).atan():new m(o!==0?o/0:0,c!==0?-c/0:0).atan()},asec:function(){var o=this.re,c=this.im;if(o===0&&c===0)return new m(0,1/0);var h=o*o+c*c;return h!==0?new m(o/h,-c/h).acos():new m(o!==0?o/0:0,c!==0?-c/0:0).acos()},acsc:function(){var o=this.re,c=this.im;if(o===0&&c===0)return new m(Math.PI/2,1/0);var h=o*o+c*c;return h!==0?new m(o/h,-c/h).asin():new m(o!==0?o/0:0,c!==0?-c/0:0).asin()},sinh:function(){var o=this.re,c=this.im;return new m(S(o)*Math.cos(c),b(o)*Math.sin(c))},cosh:function(){var o=this.re,c=this.im;return new m(b(o)*Math.cos(c),S(o)*Math.sin(c))},tanh:function(){var o=2*this.re,c=2*this.im,h=b(o)+Math.cos(c);return new m(S(o)/h,Math.sin(c)/h)},coth:function(){var o=2*this.re,c=2*this.im,h=b(o)-Math.cos(c);return new m(S(o)/h,-Math.sin(c)/h)},csch:function(){var o=this.re,c=this.im,h=Math.cos(2*c)-b(2*o);return new m(-2*S(o)*Math.cos(c)/h,2*b(o)*Math.sin(c)/h)},sech:function(){var o=this.re,c=this.im,h=Math.cos(2*c)+b(2*o);return new m(2*b(o)*Math.cos(c)/h,-2*S(o)*Math.sin(c)/h)},asinh:function(){var o=this.im;this.im=-this.re,this.re=o;var c=this.asin();return this.re=-this.im,this.im=o,o=c.re,c.re=-c.im,c.im=o,c},acosh:function(){var o=this.acos();if(o.im<=0){var c=o.re;o.re=-o.im,o.im=c}else{c=o.im;o.im=-o.re,o.re=c}return o},atanh:function(){var o=this.re,c=this.im,h=o>1&&c===0,b=1-o,S=1+o,P=b*b+c*c,I=P!==0?new m((S*b-c*c)/P,(c*b+S*c)/P):new m(o!==-1?o/0:0,c!==0?c/0:0),A=I.re;return I.re=p(I.re,I.im)/2,I.im=Math.atan2(I.im,A)/2,h&&(I.im=-I.im),I},acoth:function(){var o=this.re,c=this.im;if(o===0&&c===0)return new m(0,Math.PI/2);var h=o*o+c*c;return h!==0?new m(o/h,-c/h).atanh():new m(o!==0?o/0:0,c!==0?-c/0:0).atanh()},acsch:function(){var o=this.re,c=this.im;if(c===0)return new m(o!==0?Math.log(o+Math.sqrt(o*o+1)):1/0,0);var h=o*o+c*c;return h!==0?new m(o/h,-c/h).asinh():new m(o!==0?o/0:0,c!==0?-c/0:0).asinh()},asech:function(){var o=this.re,c=this.im;if(this.isZero())return m.INFINITY;var h=o*o+c*c;return h!==0?new m(o/h,-c/h).acosh():new m(o!==0?o/0:0,c!==0?-c/0:0).acosh()},inverse:function(){if(this.isZero())return m.INFINITY;if(this.isInfinite())return m.ZERO;var o=this.re,c=this.im,h=o*o+c*c;return new m(o/h,-c/h)},conjugate:function(){return new m(this.re,-this.im)},neg:function(){return new m(-this.re,-this.im)},ceil:function(o){return o=Math.pow(10,o||0),new m(Math.ceil(this.re*o)/o,Math.ceil(this.im*o)/o)},floor:function(o){return o=Math.pow(10,o||0),new m(Math.floor(this.re*o)/o,Math.floor(this.im*o)/o)},round:function(o){return o=Math.pow(10,o||0),new m(Math.round(this.re*o)/o,Math.round(this.im*o)/o)},equals:function(o,c){var h=new m(o,c);return Math.abs(h.re-this.re)<=m.EPSILON&&Math.abs(h.im-this.im)<=m.EPSILON},clone:function(){return new m(this.re,this.im)},toString:function(){var o=this.re,c=this.im,h="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(o)<m.EPSILON&&(o=0),Math.abs(c)<m.EPSILON&&(c=0),c===0?h+o:(o!==0?(h+=o,h+=" ",c<0?(c=-c,h+="-"):h+="+",h+=" "):c<0&&(c=-c,h+="-"),c!==1&&(h+=c),h+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},m.ZERO=new m(0,0),m.ONE=new m(1,0),m.I=new m(0,1),m.PI=new m(Math.PI,0),m.E=new m(Math.E,0),m.INFINITY=new m(1/0,1/0),m.NAN=new m(NaN,NaN),m.EPSILON=1e-15,typeof define=="function"&&define.amd?define([],(function(){return m})):typeof o=="object"?(Object.defineProperty(m,"__esModule",{value:!0}),m.default=m,m.Complex=m,c.exports=m):h.Complex=m})(o)}));var ct=er(z());function Kl(o,c,h,b){function s(o){return o instanceof h?o:new h((function(c){c(o)}))}return u(s,"adopt"),new(h||(h=Promise))((function(h,S){function v(o){try{d(b.next(o))}catch(o){S(o)}}u(v,"fulfilled");function m(o){try{d(b.throw(o))}catch(o){S(o)}}u(m,"rejected");function d(o){o.done?h(o.value):s(o.value).then(v,m)}u(d,"step"),d((b=b.apply(o,c||[])).next())}))}u(Kl,"__awaiter");function Jl(o,c){var h,b,S,P,I={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]};return P={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(P[Symbol.iterator]=function(){return this}),P;function v(o){return function(c){return m([o,c])}}function m(P){if(h)throw new TypeError("Generator is already executing.");for(;I;)try{if(h=1,b&&(S=P[0]&2?b.return:P[0]?b.throw||((S=b.return)&&S.call(b),0):b.next)&&!(S=S.call(b,P[1])).done)return S;switch(b=0,S&&(P=[P[0]&2,S.value]),P[0]){case 0:case 1:S=P;break;case 4:return I.label++,{value:P[1],done:!1};case 5:I.label++,b=P[1],P=[0];continue;case 7:P=I.ops.pop(),I.trys.pop();continue;default:if(S=I.trys,!(S=S.length>0&&S[S.length-1])&&(P[0]===6||P[0]===2)){I=0;continue}if(P[0]===3&&(!S||P[1]>S[0]&&P[1]<S[3])){I.label=P[1];break}if(P[0]===6&&I.label<S[1]){I.label=S[1],S=P;break}if(S&&I.label<S[2]){I.label=S[2],I.ops.push(P);break}S[2]&&I.ops.pop(),I.trys.pop();continue}P=c.call(o,I)}catch(o){P=[6,o],b=0}finally{h=S=0}if(P[0]&5)throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}}u(Jl,"__generator");function Ja(o,c){var h=typeof Symbol=="function"&&o[Symbol.iterator];if(!h)return o;var b,S,P=h.call(o),I=[];try{for(;(c===void 0||c-- >0)&&!(b=P.next()).done;)I.push(b.value)}catch(o){S={error:o}}finally{try{b&&!b.done&&(h=P.return)&&h.call(P)}finally{if(S)throw S.error}}return I}u(Ja,"__read");function Kn(o,c,h){if(h||arguments.length===2)for(var b,S=0,P=c.length;S<P;S++)(b||!(S in c))&&(b||(b=Array.prototype.slice.call(c,0,S)),b[S]=c[S]);return o.concat(b||Array.prototype.slice.call(c))}u(Kn,"__spreadArray");var pt={withStackTrace:!1},dt=u((function(o,c,h){h===void 0&&(h=pt);var b=c.isOk()?{type:"Ok",value:c.value}:{type:"Err",value:c.error},S=h.withStackTrace?(new Error).stack:void 0;return{data:b,message:o,stack:S}}),"createNeverThrowError"),mt=function(){function t(o){this._promise=o}return u(t,"ResultAsync"),t.fromSafePromise=function(o){var c=o.then((function(o){return new jt(o)}));return new t(c)},t.fromPromise=function(o,c){var h=o.then((function(o){return new jt(o)})).catch((function(o){return new Lt(c(o))}));return new t(h)},t.combine=function(o){return It(o)},t.combineWithAllErrors=function(o){return zt(o)},t.prototype.map=function(o){var c=this;return new t(this._promise.then((function(h){return Kl(c,void 0,void 0,(function(){var c;return Jl(this,(function(b){switch(b.label){case 0:return h.isErr()?[2,new Lt(h.error)]:(c=jt.bind,[4,o(h.value)]);case 1:return[2,new(c.apply(jt,[void 0,b.sent()]))]}}))}))})))},t.prototype.mapErr=function(o){var c=this;return new t(this._promise.then((function(h){return Kl(c,void 0,void 0,(function(){var c;return Jl(this,(function(b){switch(b.label){case 0:return h.isOk()?[2,new jt(h.value)]:(c=Lt.bind,[4,o(h.error)]);case 1:return[2,new(c.apply(Lt,[void 0,b.sent()]))]}}))}))})))},t.prototype.andThen=function(o){return new t(this._promise.then((function(c){if(c.isErr())return new Lt(c.error);var h=o(c.value);return h instanceof t?h._promise:h})))},t.prototype.orElse=function(o){var c=this;return new t(this._promise.then((function(h){return Kl(c,void 0,void 0,(function(){return Jl(this,(function(c){return h.isErr()?[2,o(h.error)]:[2,new jt(h.value)]}))}))})))},t.prototype.match=function(o,c){return this._promise.then((function(h){return h.match(o,c)}))},t.prototype.unwrapOr=function(o){return this._promise.then((function(c){return c.unwrapOr(o)}))},t.prototype.then=function(o,c){return this._promise.then(o,c)},t}();var wt,Et=u((function(o){return new mt(Promise.resolve(new Lt(o)))}),"errAsync"),kt=(mt.fromPromise,mt.fromSafePromise,u((function(o){return function(c){return Kn(Kn([],Ja(c),!1),[o],!1)}}),"appendValueToEndOfList")),Pt=u((function(o){return o.reduce((function(o,c){return o.isOk()?c.isErr()?Dt(c.error):o.map(kt(c.value)):o}),Rt([]))}),"combineResultList"),It=u((function(o){return mt.fromSafePromise(Promise.all(o)).andThen(Pt)}),"combineResultAsyncList"),At=u((function(o){return o.reduce((function(o,c){return c.isErr()?o.isErr()?Dt(Kn(Kn([],Ja(o.error),!1),[c.error],!1)):Dt([c.error]):o.isErr()?o:Rt(Kn(Kn([],Ja(o.value),!1),[c.value],!1))}),Rt([]))}),"combineResultListWithAllErrors"),zt=u((function(o){return mt.fromSafePromise(Promise.all(o)).andThen(At)}),"combineResultAsyncListWithAllErrors");(function(o){function r(o,c){return function(){for(var h=[],b=0;b<arguments.length;b++)h[b]=arguments[b];try{var S=o.apply(void 0,Kn([],Ja(h),!1));return Rt(S)}catch(o){return Dt(c?c(o):o)}}}u(r,"fromThrowable"),o.fromThrowable=r;function e(o){return Pt(o)}u(e,"combine"),o.combine=e;function n(o){return At(o)}u(n,"combineWithAllErrors"),o.combineWithAllErrors=n})(wt||(wt={}));var Rt=u((function(o){return new jt(o)}),"ok"),Dt=u((function(o){return new Lt(o)}),"err"),jt=function(){function t(o){this.value=o}return u(t,"Ok"),t.prototype.isOk=function(){return!0},t.prototype.isErr=function(){return!this.isOk()},t.prototype.map=function(o){return Rt(o(this.value))},t.prototype.mapErr=function(o){return Rt(this.value)},t.prototype.andThen=function(o){return o(this.value)},t.prototype.orElse=function(o){return Rt(this.value)},t.prototype.asyncAndThen=function(o){return o(this.value)},t.prototype.asyncMap=function(o){return mt.fromSafePromise(o(this.value))},t.prototype.unwrapOr=function(o){return this.value},t.prototype.match=function(o,c){return o(this.value)},t.prototype._unsafeUnwrap=function(o){return this.value},t.prototype._unsafeUnwrapErr=function(o){throw dt("Called `_unsafeUnwrapErr` on an Ok",this,o)},t}(),Lt=function(){function t(o){this.error=o}return u(t,"Err"),t.prototype.isOk=function(){return!1},t.prototype.isErr=function(){return!this.isOk()},t.prototype.map=function(o){return Dt(this.error)},t.prototype.mapErr=function(o){return Dt(o(this.error))},t.prototype.andThen=function(o){return Dt(this.error)},t.prototype.orElse=function(o){return o(this.error)},t.prototype.asyncAndThen=function(o){return Et(this.error)},t.prototype.asyncMap=function(o){return Et(this.error)},t.prototype.unwrapOr=function(o){return o},t.prototype.match=function(o,c){return c(this.error)},t.prototype._unsafeUnwrap=function(o){throw dt("Called `_unsafeUnwrap` on an Err",this,o)},t.prototype._unsafeUnwrapErr=function(o){return this.error},t}();wt.fromThrowable;function kp(o){let c=xn(o);return new ct.default(c).valueOf()*Math.PI}u(kp,"C");function Mo(o){let c=xn(o).split("/");if(c.length===1)return 1;if(c.length===2)return parseInt(c[1]);throw new Error(`Failed to parse angle '${o}'`)}u(Mo,"w");function Np(o,c){return new ct.default(xn(o)).valueOf()<new ct.default(xn(c)).valueOf()}u(Np,"G");function _p(o,c){return new ct.default(xn(o)).valueOf()>new ct.default(xn(c)).valueOf()}u(_p,"E");function Lp(o){if(o==="0")return!0;if(!/π/.test(o))return!1;try{let c=xn(o);return new ct.default(c).valueOf(),!0}catch(o){return!1}}u(Lp,"R");function xn(o){return o.replace(/(\d+)π/g,"$1").replace(/π/g,"1")}u(xn,"l");function Gp(o){try{let c,h=xn(o),b=new ct.default(h).toFraction().split("/");return c=b[0]==="0"?"0":b[0]==="1"?"π":b[0]==="-1"?"-π":`${b[0]}π`,b.length===1?c:`${c}/${b[1]}`}catch(c){throw new Error(`Failed to parse angle '${o}'`)}}u(Gp,"F");var $t,Ht=[{character:"½",ref:"½",expanded:"1/2",value:.5},{character:"¼",ref:"¼",expanded:"1/4",value:.25},{character:"¾",ref:"¾",expanded:"3/4",value:.75},{character:"⅓",ref:"⅓",expanded:"1/3",value:.3333333333333333},{character:"⅔",ref:"⅔",expanded:"2/3",value:.6666666666666666},{character:"⅕",ref:"⅕",expanded:"1/5",value:.2},{character:"⅖",ref:"⅖",expanded:"2/5",value:.4},{character:"⅗",ref:"⅗",expanded:"3/5",value:.6},{character:"⅘",ref:"⅘",expanded:"4/5",value:.8},{character:"⅙",ref:"⅙",expanded:"1/6",value:.16666666666666666},{character:"⅚",ref:"⅚",expanded:"5/6",value:.8333333333333334},{character:"⅐",ref:"⅐",expanded:"1/7",value:.14285714285714285},{character:"⅛",ref:"⅛",expanded:"1/8",value:.125},{character:"⅜",ref:"⅜",expanded:"3/8",value:.375},{character:"⅝",ref:"⅝",expanded:"5/8",value:.625},{character:"⅞",ref:"⅞",expanded:"7/8",value:.875},{character:"⅑",ref:"⅑",expanded:"1/9",value:.1111111111111111},{character:"⅒",ref:"⅒",expanded:"1/10",value:.1}],Bt=($t=class{static parseFloat(o){if(o.length===0)throw new Error(`Not a number: '${o}'`);if(o[0]==="-")return-$t.parseFloat(o.substr(1));if(o[0]==="√")return Math.sqrt($t.parseFloat(o.substr(1)));let c=$t.matchUnicodeFraction((c=>c.character===o));if(c!==void 0)return c.value;let h=parseFloat(o);if(isNaN(h))throw new Error(`Not a number: '${o}'`);return h}static simplifyByRounding(o,c){if(o<0)return-$t.simplifyByRounding(-o,c);let h=o%1;if(h<=c||1-h<=c)return Math.round(o);let b=$t.matchUnicodeFraction((h=>Math.abs(h.value-o)<=c));if(b!==void 0)return b.value;let S=$t.matchUnicodeFraction((h=>Math.abs(Math.sqrt(h.value)-o)<=c));return S!==void 0?Math.sqrt(S.value):o}static matchUnicodeFraction(o){for(let c of Ht)if(o(c))return c}constructor(o,c,h,b){this.allowAbbreviation=o,this.maxAbbreviationError=c,this.fixedDigits=h,this.itemSeparator=b}formatFloat(o){return this.allowAbbreviation?this.abbreviateFloat(o,this.maxAbbreviationError,this.fixedDigits):this.fixedDigits!==void 0?o.toFixed(this.fixedDigits):String(o)}abbreviateFloat(o,c=0,h=void 0){if(Math.abs(o)<c)return"0";if(o<0)return`-${this.abbreviateFloat(-o,c,h)}`;let b=$t.matchUnicodeFraction((h=>Math.abs(h.value-o)<=c));if(b!==void 0)return b.character;let S=$t.matchUnicodeFraction((h=>Math.abs(Math.sqrt(h.value)-o)<=c));return S!==void 0?`√${S.character}`:o%1!==0&&h!==void 0?o.toFixed(h):o.toString()}},u($t,"o"),$t);Bt.CONSISTENT=new Bt(!1,0,2,", "),Bt.EXACT=new Bt(!0,0,void 0,", "),Bt.MINIFIED=new Bt(!0,0,void 0,","),Bt.SIMPLIFIED=new Bt(!0,5e-4,3,", ");var qt,Ft,Ut=(qt=class{static matchUnicodeFraction(o){for(let c of Ht)if(o(c))return c}constructor(o,c,h,b=", "){this.allowAbbreviation=o,this.maxAbbreviationError=c,this.fixedDigits=h,this.itemSeparator=b}format(o){return this.allowAbbreviation?this.abbreviateNumber(o,this.maxAbbreviationError,this.fixedDigits):this.fixedDigits!==void 0?o.toFixed(this.fixedDigits):String(o)}abbreviateNumber(o,c=0,h=void 0){if(Math.abs(o)<c)return"0";if(o<0)return`-${this.abbreviateNumber(-o,c,h)}`;let b=qt.matchUnicodeFraction((h=>Math.abs(h.value-o)<=c));if(b!==void 0)return b.character;let S=qt.matchUnicodeFraction((h=>Math.abs(Math.sqrt(h.value)-o)<=c));return S!==void 0?`√${S.character}`:o%1!==0&&h!==void 0?o.toFixed(h):o.toString()}},u(qt,"n"),qt),Vt={allowAbbreviation:!0,maxAbbreviationError:0,fixedDigits:void 0},Wt=(Ft=class{constructor(o,c){this.isEqualTo=this.eq.bind(this),this.isApproximatelyEqualTo=this.nearlyEq.bind(this),this.conj=this.conjugate.bind(this),this.plus=this.add.bind(this),this.subtract=this.sub.bind(this),this.minus=this.sub.bind(this),this.multiply=this.mult.bind(this),this.times=this.mult.bind(this),this.dividedBy=this.div.bind(this),this.magnitude=this.abs.bind(this),this.norm2=this.abs2.bind(this),this.angle=this.arg.bind(this),this.phase=this.arg.bind(this),this.real=o,this.imag=c,this.isApproximatelyEqualTo=this.nearlyEq,this.isEqualTo=this.eq,this.conj=this.conjugate,this.plus=this.add,this.subtract=this.sub,this.minus=this.sub,this.multiply=this.mult,this.times=this.mult,this.dividedBy=this.div,this.magnitude=this.abs,this.norm2=this.abs2,this.angle=this.arg,this.phase=this.arg}static from(o){return typeof o=="number"?new Ft(o,0):o}static real(o){return typeof o=="number"?o:o.real}static imag(o){return typeof o=="number"?0:o.imag}static polar(o,c){let[h,b]=this.cosAndSin(c);return new Ft(o*h,o*b)}static cosAndSin(o){let c=Math.PI/4,h=Math.round(o/c);if(h*c===o){let o=Math.sqrt(.5);return[[1,0],[o,o],[0,1],[-o,o],[-1,0],[-o,-o],[0,-1],[o,-o]][h&7]}return[Math.cos(o),Math.sin(o)]}eq(o){return typeof o=="number"?this.real===o&&this.imag===0:o instanceof Ft&&(this.real===o.real&&this.imag===o.imag)}nearlyEq(o,c){if(typeof o=="number"||o instanceof Ft){let h=this.sub(Ft.from(o));return Math.abs(h.real)<=c&&Math.abs(h.imag)<=c&&h.abs()<=c}return!1}conjugate(){return new Ft(this.real,-this.imag)}neg(){return new Ft(-this.real,-this.imag)}add(o){let c=Ft.from(o);return new Ft(this.real+c.real,this.imag+c.imag)}sub(o){let c=Ft.from(o);return new Ft(this.real-c.real,this.imag-c.imag)}mult(o){let c=Ft.from(o);return new Ft(this.real*c.real-this.imag*c.imag,this.real*c.imag+this.imag*c.real)}div(o){let c=Ft.from(o),h=c.abs2();if(h===0)return Dt(Error("Division by Zero"));let b=this.mult(c.conjugate());return Rt(new Ft(b.real/h,b.imag/h))}abs(){return Math.sqrt(this.abs2())}abs2(){return this.real*this.real+this.imag*this.imag}arg(){return Math.atan2(this.imag,this.real)}pow(o){return o===.5&&this.imag===0&&this.real>=0?new Ft(Math.sqrt(this.real),0):this.eq(Ft.ZERO)?Ft.ZERO:this.ln().mult(Ft.from(o)).exp()}exp(){return Ft.polar(Math.exp(this.real),this.imag)}format(o=Vt){let c=new Ut(o.allowAbbreviation===void 0?Vt.allowAbbreviation:o.allowAbbreviation,o.maxAbbreviationError||0,o.fixedDigits);return c.allowAbbreviation?this.toStringAllowSingleValue(c):this.toStringBothValues(c)}toString(){let o=new Ut(Vt.allowAbbreviation,Vt.maxAbbreviationError,Vt.fixedDigits);return this.toStringAllowSingleValue(o)}ln(){return new Ft(Math.log(this.abs()),this.arg())}toStringAllowSingleValue(o){if(this.canImagPartBeOmitted(o.maxAbbreviationError))return o.format(this.real);if(this.canRealPartBeOmitted(o.maxAbbreviationError)){let c;return c=this.isImagFactorCloseToOne(o.maxAbbreviationError)?"":this.isImagFactorMinusOne(o.maxAbbreviationError)?"-":o.format(this.imag),`${c}i`}return this.toStringBothValues(o)}toStringBothValues(o){let c=this.imag>=0?"+":"-",h=this.canImagFactorBeOmitted(o)?"":o.format(Math.abs(this.imag));return(o.allowAbbreviation||o.fixedDigits===void 0||this.real<0?"":"+")+o.format(this.real)+c+h+"i"}canRealPartBeOmitted(o){return Math.abs(this.real)<=o}canImagPartBeOmitted(o){return Math.abs(this.imag)<=o}isImagFactorCloseToOne(o){return Math.abs(this.imag-1)<=o}isImagFactorMinusOne(o){return Math.abs(this.imag+1)<=o}canImagFactorBeOmitted(o){return o.allowAbbreviation&&Math.abs(Math.abs(this.imag)-1)<=o.maxAbbreviationError}},u(Ft,"a"),Ft);Wt.ZERO=new Wt(0,0),Wt.ONE=new Wt(1,0),Wt.I=new Wt(0,1);var Yt=Wt,Xt={MAX_QUBIT_COUNT:16};function fe(o,c={},h=document){let b=new CustomEvent(o,{bubbles:!0,cancelable:!0,detail:c});return h.dispatchEvent(b)}u(fe,"$");var Kt,Zt=u((o=>typeof o=="number"&&1<=o&&o<=Xt.MAX_QUBIT_COUNT),"L"),Qt=u((()=>({message:"Parse Error"})),"z"),ee=(Kt=class{static need(o,c,h){if(o!==!0){let o=h===void 0?"(not provided)":`[${Array.prototype.slice.call(h).join(", ")}]`,b=`Precondition failed\n\nMessage: ${c===void 0?"(not provided)":c}\n\nArgs: ${o}`;throw new Error(b)}}static notNull(o){Kt.need(o!=null,"notNull")}static get urlJson(){let o=new URL(location.href,window.location.origin),c=decodeURIComponent(o.pathname),h=c.lastIndexOf("/");return c.substring(h+1)}},u(Kt,"b"),Kt);ee.safeJsonParse=wt.fromThrowable(JSON.parse,Qt);var ne=ee,ae="◦",se="Bloch",le="•",ce="H",de="Measure",ye="P",xe="QFT†",Se="QFT",Ce="X^½",_e="Rx",Ne="Ry",De="Rz",Ge="S†",$e="S",qe="…",Fe="Swap",Xe="T†",Qe="T",tn="|0>",en="|1>",rn="X",on="Y",an="Z";var sn=new WeakSet;function lu(o){sn.add(o),o.shadowRoot&&uu(o.shadowRoot),pu(o),cu(o.ownerDocument)}u(lu,"bind");function uu(o){pu(o),cu(o)}u(uu,"bindShadow");var ln=new WeakMap;function cu(o=document){if(ln.has(o))return ln.get(o);let c=!1,h=new MutationObserver((o=>{for(let c of o)if(c.type==="attributes"&&c.target instanceof Element)su(c.target);else if(c.type==="childList"&&c.addedNodes.length)for(let o of c.addedNodes)o instanceof Element&&pu(o)}));h.observe(o,{childList:!0,subtree:!0,attributeFilter:["data-action"]});let b={get closed(){return c},unsubscribe(){c=!0,ln.delete(o),h.disconnect()}};return ln.set(o,b),b}u(cu,"listenForBind");function pu(o){for(let c of o.querySelectorAll("[data-action]"))su(c);o instanceof Element&&o.hasAttribute("data-action")&&su(o)}u(pu,"bindElements");function gg(o){let c=o.currentTarget;for(let h of Fp(c))if(o.type===h.type){let b=c.closest(h.tag);sn.has(b)&&typeof b[h.method]=="function"&&b[h.method](o);let S=c.getRootNode();if(S instanceof ShadowRoot&&sn.has(S.host)&&S.host.matches(h.tag)){let c=S.host;typeof c[h.method]=="function"&&c[h.method](o)}}}u(gg,"handleEvent");function*Fp(o){for(let c of(o.getAttribute("data-action")||"").trim().split(/\s+/)){let o=c.lastIndexOf(":"),h=Math.max(0,c.lastIndexOf("#"))||c.length;yield{type:c.slice(0,o),tag:c.slice(o+1,h),method:c.slice(h+1)||"handleEvent"}}}u(Fp,"bindings");function su(o){for(let c of Fp(o))o.addEventListener(c.type,gg)}u(su,"bindActions");function du(o){let c=o.name.replace(/([A-Z]($|[a-z]))/g,"-$1").replace(/(^-|-Element$)/g,"").toLowerCase();window.customElements.get(c)||(window[o.name]=o,window.customElements.define(c,o))}u(du,"register");function fu(o,c){let h=o.tagName.toLowerCase();if(o.shadowRoot)for(let b of o.shadowRoot.querySelectorAll(`[data-target~="${h}.${c}"]`))if(!b.closest(h))return b;for(let b of o.querySelectorAll(`[data-target~="${h}.${c}"]`))if(b.closest(h)===o)return b}u(fu,"findTarget");function hu(o,c){let h=o.tagName.toLowerCase(),b=[];if(o.shadowRoot)for(let S of o.shadowRoot.querySelectorAll(`[data-targets~="${h}.${c}"]`))S.closest(h)||b.push(S);for(let S of o.querySelectorAll(`[data-targets~="${h}.${c}"]`))S.closest(h)===o&&b.push(S);return b}u(hu,"findTargets");function Oe(o,c){return Object.defineProperty(o,c,{configurable:!0,get(){return fu(this,c)}})}u(Oe,"target");function ft(o,c){return Object.defineProperty(o,c,{configurable:!0,get(){return hu(this,c)}})}u(ft,"targets");function mu(o){for(let c of o.querySelectorAll("template[data-shadowroot]"))c.parentElement===o&&o.attachShadow({mode:c.getAttribute("data-shadowroot")==="closed"?"closed":"open"}).append(c.content.cloneNode(!0))}u(mu,"autoShadowRoot");var cn=new WeakMap;function k(o,c){cn.has(o)||cn.set(o,[]),cn.get(o).push(c)}u(k,"attr");function vu(o,c){c||(c=Up(Object.getPrototypeOf(o)));for(let h of c){let c=o[h],b=Wp(h),S={configurable:!0,get(){return this.getAttribute(b)||""},set(o){this.setAttribute(b,o||"")}};typeof c=="number"?S={configurable:!0,get(){return Number(this.getAttribute(b)||0)},set(o){this.setAttribute(b,o)}}:typeof c=="boolean"&&(S={configurable:!0,get(){return this.hasAttribute(b)},set(o){this.toggleAttribute(b,o)}}),Object.defineProperty(o,h,S),h in o&&!o.hasAttribute(b)&&S.set.call(o,c)}}u(vu,"initializeAttrs");function Up(o){let c=new Set,h=o;for(;h&&h!==HTMLElement;){let o=cn.get(h)||[];for(let h of o)c.add(h);h=Object.getPrototypeOf(h)}return c}u(Up,"getAttrNames");function Wp(o){return`data-${o.replace(/([A-Z]($|[a-z]))/g,"-$1")}`.replace(/--/g,"-").toLowerCase()}u(Wp,"attrToAttributeName");function gu(o){let c=o.observedAttributes||[];Object.defineProperty(o,"observedAttributes",{configurable:!0,get(){return[...Up(o.prototype)].map(Wp).concat(c)},set(o){c=o}})}u(gu,"defineObservedAttributes");var pn=new WeakSet;function Vp(o,c){o.toggleAttribute("data-catalyst",!0),customElements.upgrade(o),pn.add(o),mu(o),vu(o),lu(o),c&&c.call(o),o.shadowRoot&&uu(o.shadowRoot)}u(Vp,"initializeInstance");function Yp(o){gu(o),du(o)}u(Yp,"initializeClass");function X(o){let c=o.prototype.connectedCallback;o.prototype.connectedCallback=function(){Vp(this,c)},Yp(o)}u(X,"controller");function he(o){let c=class e extends o{constructor(){super(...arguments);this.active=!1}activate(){this.active=!0,fe("activateable:active",{},this)}deactivate(){this.active=!1}};u(c,"ActivateableMixinClass"),M([k],c.prototype,"active",2);let h=c;return h}u(he,"ActivateableMixin");var dn=u((o=>typeof o=="object"&&o!==null&&typeof o.angle=="string"&&typeof o.reducedAngle=="string"),"isAngleable");function En(o){let c=class e extends o{constructor(){super(...arguments);this.angle="";this.reducedAngle=""}};u(c,"AngleableMixinClass"),M([k],c.prototype,"angle",2),M([k],c.prototype,"reducedAngle",2);let h=c;return h}u(En,"AngleableMixin");var gn=u((o=>typeof o=="object"&&o!==null&&typeof o.controls=="object"),"isControllable");function Le(o){let c=class e extends o{get controls(){let o=this.getAttribute("data-controls");return o===null||o===""?[]:o.split(",").map((o=>parseInt(o))).sort()}set controls(o){this.setAttribute("data-controls",o.sort().join())}get antiControls(){let o=this.getAttribute("data-anti-controls");return o===null||o===""?[]:o.split(",").map((o=>parseInt(o))).sort()}set antiControls(o){this.setAttribute("data-anti-controls",o.sort().join())}get isControlled(){return this.controls.length>0}get isAntiControlled(){return this.antiControls.length>0}};u(c,"ControllableMixinClass");let h=c;return h}u(Le,"ControllableMixin");function Me(o){let c=class e extends o{constructor(){super(...arguments);this.disabled=!1}get enabled(){return!this.disabled}enable(){this.disabled=!1}disable(){this.disabled=!0}};u(c,"DisableableMixinClass"),M([k],c.prototype,"disabled",2);let h=c;return h}u(Me,"DisableableMixin");var mn=u((function(){return mn=Object.assign||u((function(o){for(var c,h=1,b=arguments.length;h<b;h++){c=arguments[h];for(var S in c)Object.prototype.hasOwnProperty.call(c,S)&&(o[S]=c[S])}return o}),"__assign"),mn.apply(this,arguments)}),"__assign");function Di(o,c){var h={};for(var b in o)Object.prototype.hasOwnProperty.call(o,b)&&c.indexOf(b)<0&&(h[b]=o[b]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function"){var S=0;for(b=Object.getOwnPropertySymbols(o);S<b.length;S++)c.indexOf(b[S])<0&&Object.prototype.propertyIsEnumerable.call(o,b[S])&&(h[b[S]]=o[b[S]])}return h}u(Di,"__rest");function we(o){var c=typeof Symbol=="function"&&Symbol.iterator,h=c&&o[c],b=0;if(h)return h.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&b>=o.length&&(o=void 0),{value:o&&o[b++],done:!o}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")}u(we,"__values");function Ee(o,c){var h=typeof Symbol=="function"&&o[Symbol.iterator];if(!h)return o;var b,S,P=h.call(o),I=[];try{for(;(c===void 0||c-- >0)&&!(b=P.next()).done;)I.push(b.value)}catch(o){S={error:o}}finally{try{b&&!b.done&&(h=P.return)&&h.call(P)}finally{if(S)throw S.error}}return I}u(Ee,"__read");function ke(o,c,h){if(h||arguments.length===2)for(var b,S=0,P=c.length;S<P;S++)(b||!(S in c))&&(b||(b=Array.prototype.slice.call(c,0,S)),b[S]=c[S]);return o.concat(b||Array.prototype.slice.call(c))}u(ke,"__spreadArray");var yn;(function(o){o.Start="xstate.start",o.Stop="xstate.stop",o.Raise="xstate.raise",o.Send="xstate.send",o.Cancel="xstate.cancel",o.NullEvent="",o.Assign="xstate.assign",o.After="xstate.after",o.DoneState="done.state",o.DoneInvoke="done.invoke",o.Log="xstate.log",o.Init="xstate.init",o.Invoke="xstate.invoke",o.ErrorExecution="error.execution",o.ErrorCommunication="error.communication",o.ErrorPlatform="error.platform",o.ErrorCustom="xstate.error",o.Update="xstate.update",o.Pure="xstate.pure",o.Choose="xstate.choose"})(yn||(yn={}));var wn;(function(o){o.Parent="#_parent",o.Internal="#_internal"})(wn||(wn={}));var Sn=yn.Start,Cn=yn.Stop,On=yn.Raise,Tn=yn.Send,Pn=yn.Cancel,Mn=yn.NullEvent,In=yn.Assign,An=(yn.After,yn.DoneState,yn.Log),Nn=yn.Init,Rn=yn.Invoke,Dn=(yn.ErrorExecution,yn.ErrorPlatform),Bn=yn.ErrorCustom,qn=yn.Update,Un=yn.Choose,Vn=yn.Pure;var Wn=".",Yn={},Xn="xstate.guard",Zn="";var Jn=!0;var Qn;function No(o,c,h){h===void 0&&(h=Wn);var b=Ni(o,h),S=Ni(c,h);return Te(S)?!!Te(b)&&S===b:Te(b)?b in S:Object.keys(b).every((function(o){return o in S&&No(b[o],S[o])}))}u(No,"matchesState");function ws(o){try{return Te(o)||typeof o=="number"?"".concat(o):o.type}catch(o){throw new Error("Events must be strings or objects with a string event.type property.")}}u(ws,"getEventType");function xs(o,c){try{return nn(o)?o:o.toString().split(c)}catch(c){throw new Error("'".concat(o,"' is not a valid state path."))}}u(xs,"toStatePath");function yg(o){return typeof o=="object"&&"value"in o&&"context"in o&&"event"in o&&"_event"in o}u(yg,"isStateLike");function Ni(o,c){if(yg(o))return o.value;if(nn(o))return ko(o);if(typeof o!="string")return o;var h=xs(o,c);return ko(h)}u(Ni,"toStateValue");function ko(o){if(o.length===1)return o[0];for(var c={},h=c,b=0;b<o.length-1;b++)b===o.length-2?h[o[b]]=o[b+1]:(h[o[b]]={},h=h[o[b]]);return c}u(ko,"pathToStateValue");function _i(o,c){for(var h={},b=Object.keys(o),S=0;S<b.length;S++){var P=b[S];h[P]=c(o[P],P,o,S)}return h}u(_i,"mapValues");function Eu(o,c,h){var b,S,P={};try{for(var I=we(Object.keys(o)),A=I.next();!A.done;A=I.next()){var z=A.value,R=o[z];h(R)&&(P[z]=c(R,z,o))}}catch(o){b={error:o}}finally{try{A&&!A.done&&(S=I.return)&&S.call(I)}finally{if(b)throw b.error}}return P}u(Eu,"mapFilterValues");var ti=u((function(o){return function(c){var h,b,S=c;try{for(var P=we(o),I=P.next();!I.done;I=P.next()){var A=I.value;S=S[A]}}catch(o){h={error:o}}finally{try{I&&!I.done&&(b=P.return)&&b.call(P)}finally{if(h)throw h.error}}return S}}),"path");function td(o,c){return function(h){var b,S,P=h;try{for(var I=we(o),A=I.next();!A.done;A=I.next()){var z=A.value;P=P[c][z]}}catch(o){b={error:o}}finally{try{A&&!A.done&&(S=I.return)&&S.call(I)}finally{if(b)throw b.error}}return P}}u(td,"nestedPath");function _o(o){if(!o)return[[]];if(Te(o))return[[o]];var c=Be(Object.keys(o).map((function(c){var h=o[c];return typeof h=="string"||h&&Object.keys(h).length?_o(o[c]).map((function(o){return[c].concat(o)})):[[c]]})));return c}u(_o,"toStatePaths");function Be(o){var c;return(c=[]).concat.apply(c,ke([],Ee(o),!1))}u(Be,"flatten");function rd(o){return nn(o)?o:[o]}u(rd,"toArrayStrict");function ur(o){return o===void 0?[]:rd(o)}u(ur,"toArray");function ri(o,c,h){var b,S;if(Ie(o))return o(c,h.data);var P={};try{for(var I=we(Object.keys(o)),A=I.next();!A.done;A=I.next()){var z=A.value,R=o[z];Ie(R)?P[z]=R(c,h.data):P[z]=R}}catch(o){b={error:o}}finally{try{A&&!A.done&&(S=I.return)&&S.call(I)}finally{if(b)throw b.error}}return P}u(ri,"mapContext");function nd(o){return/^(done|error)\./.test(o)}u(nd,"isBuiltInEvent");function Su(o){return!!(o instanceof Promise||o!==null&&(Ie(o)||typeof o=="object")&&Ie(o.then))}u(Su,"isPromiseLike");function id(o){return o!==null&&typeof o=="object"&&"transition"in o&&typeof o.transition=="function"}u(id,"isBehavior");function od(o,c){var h,b,S=Ee([[],[]],2),P=S[0],I=S[1];try{for(var A=we(o),z=A.next();!z.done;z=A.next()){var R=z.value;c(R)?P.push(R):I.push(R)}}catch(o){h={error:o}}finally{try{z&&!z.done&&(b=A.return)&&b.call(A)}finally{if(h)throw h.error}}return[P,I]}u(od,"partition");function ad(o,c){return _i(o.states,(function(o,h){if(o){var b=(Te(c)?void 0:c[h])||(o?o.current:void 0);if(b)return{current:b,states:ad(o,b)}}}))}u(ad,"updateHistoryStates");function sd(o,c){return{current:c,states:ad(o,c)}}u(sd,"updateHistoryValue");function Tu(o,c,h,b){Jn||ei(!!o,"Attempting to update undefined context");var S=o&&h.reduce((function(o,h){var S,P,I=h.assignment,A={state:b,action:h,_event:c},z={};if(Ie(I))z=I(o,c.data,A);else try{for(var R=we(Object.keys(I)),D=R.next();!D.done;D=R.next()){var L=D.value,G=I[L];z[L]=Ie(G)?G(o,c.data,A):G}}catch(o){S={error:o}}finally{try{D&&!D.done&&(P=R.return)&&P.call(R)}finally{if(S)throw S.error}}return Object.assign({},o,z)}),o);return S}u(Tu,"updateContext");var ei=u((function(){}),"warn");Jn||(ei=u((function(o,c){var h=o instanceof Error?o:void 0;if(!(!h&&o)&&console!==void 0){var b=["Warning: ".concat(c)];h&&b.push(h),console.warn.apply(console,b)}}),"warn"));function nn(o){return Array.isArray(o)}u(nn,"isArray");function Ie(o){return typeof o=="function"}u(Ie,"isFunction");function Te(o){return typeof o=="string"}u(Te,"isString");function Es(o,c){if(o)return Te(o)?{type:Xn,name:o,predicate:c?c[o]:void 0}:Ie(o)?{type:Xn,name:o.name,predicate:o}:o}u(Es,"toGuard");function ld(o){try{return"subscribe"in o&&Ie(o.subscribe)}catch(o){return!1}}u(ld,"isObservable");var oi=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();Qn={},Qn[oi]=function(){return this},Qn[Symbol.observable]=function(){return this};function jr(o){return!!o&&"__xstatenode"in o}u(jr,"isMachine");function ud(o){return!!o&&typeof o.send=="function"}u(ud,"isActor");function Li(o,c){return Te(o)||typeof o=="number"?mn({type:o},c):o}u(Li,"toEventObject");function st(o,c){if(!Te(o)&&"$$type"in o&&o.$$type==="scxml")return o;var h=Li(o);return mn({name:h.type,data:h,$$type:"scxml",type:"external"},c)}u(st,"toSCXMLEvent");function ni(o,c){var h=rd(c).map((function(c){return typeof c=="undefined"||typeof c=="string"||jr(c)?{target:c,event:o}:mn(mn({},c),{event:o})}));return h}u(ni,"toTransitionConfigArray");function cd(o){if(!(o===void 0||o===Zn))return ur(o)}u(cd,"normalizeTarget");function pd(o,c,h){if(!Jn){var b=o.stack?" Stacktrace was '".concat(o.stack,"'"):"";if(o===c)console.error("Missing onError handler for invocation '".concat(h,"', error was '").concat(o,"'.").concat(b));else{var S=c.stack?" Stacktrace was '".concat(c.stack,"'"):"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(h,"'. ")+"Original error: '".concat(o,"'. ").concat(b," Current error is '").concat(c,"'.").concat(S))}}}u(pd,"reportUnhandledExceptionOnInvocation");function Ss(o,c,h,b,S){var P=o.options.guards,I={state:S,cond:c,_event:b};if(c.type===Xn)return((P==null?void 0:P[c.name])||c.predicate)(h,b.data,I);var A=P==null?void 0:P[c.type];if(!A)throw new Error("Guard '".concat(c.type,"' is not implemented on machine '").concat(o.id,"'."));return A(h,b.data,I)}u(Ss,"evaluateGuard");function Ts(o){return typeof o=="string"?{type:o}:o}u(Ts,"toInvokeSource");function Gi(o,c,h){var b=u((function(){}),"noop"),S=typeof o=="object",P=S?o:null;return{next:((S?o.next:o)||b).bind(P),error:((S?o.error:c)||b).bind(P),complete:((S?o.complete:h)||b).bind(P)}}u(Gi,"toObserver");function Lo(o,c){return"".concat(o,":invocation[").concat(c,"]")}u(Lo,"createInvokeId");function Go(o){return(o.type===On||o.type===Tn&&o.to===wn.Internal)&&typeof o.delay!="number"}u(Go,"isRaisableAction");var si=st({type:Nn});function Cs(o,c){return c&&c[o]||void 0}u(Cs,"getActionFunction");function Hi(o,c){var h;if(Te(o)||typeof o=="number"){var b=Cs(o,c);h=Ie(b)?{type:o,exec:b}:b||{type:o,exec:void 0}}else if(Ie(o))h={type:o.name||o.toString(),exec:o};else{b=Cs(o.type,c);if(Ie(b))h=mn(mn({},o),{exec:b});else if(b){var S=b.type||o.type;h=mn(mn(mn({},b),o),{type:S})}else h=o}return h}u(Hi,"toActionObject");var li=u((function(o,c){if(!o)return[];var h=nn(o)?o:[o];return h.map((function(o){return Hi(o,c)}))}),"toActionObjects");function Os(o){var c=Hi(o);return mn(mn({id:Te(o)?o:c.id},c),{type:c.type})}u(Os,"toActivityDefinition");function dd(o,c){return{type:On,event:typeof o=="function"?o:Li(o),delay:c?c.delay:void 0,id:c==null?void 0:c.id}}u(dd,"raise");function wg(o,c,h,b){var S,P={_event:h},I=st(Ie(o.event)?o.event(c,h.data,P):o.event);if(Te(o.delay)){var A=b&&b[o.delay];S=Ie(A)?A(c,h.data,P):A}else S=Ie(o.delay)?o.delay(c,h.data,P):o.delay;return mn(mn({},o),{type:On,_event:I,delay:S})}u(wg,"resolveRaise");function fd(o,c){return{to:c?c.to:void 0,type:Tn,event:Ie(o)?o:Li(o),delay:c?c.delay:void 0,id:c&&c.id!==void 0?c.id:Ie(o)?o.name:ws(o)}}u(fd,"send");function xg(o,c,h,b){var S,P={_event:h},I=st(Ie(o.event)?o.event(c,h.data,P):o.event);if(Te(o.delay)){var A=b&&b[o.delay];S=Ie(A)?A(c,h.data,P):A}else S=Ie(o.delay)?o.delay(c,h.data,P):o.delay;var z=Ie(o.to)?o.to(c,h.data,P):o.to;return mn(mn({},o),{to:z,_event:I,event:I.data,delay:S})}u(xg,"resolveSend");var ui=u((function(o,c,h){return mn(mn({},o),{value:Te(o.expr)?o.expr:o.expr(c,h.data,{_event:h})})}),"resolveLog"),vi=u((function(o){return{type:Pn,sendId:o}}),"cancel");function md(o){var c=Os(o);return{type:yn.Start,activity:c,exec:void 0}}u(md,"start");function vd(o){var c=Ie(o)?o:Os(o);return{type:yn.Stop,activity:c,exec:void 0}}u(vd,"stop");function Sg(o,c,h){var b=Ie(o.activity)?o.activity(c,h.data):o.activity,S=typeof b=="string"?{id:b}:b,P={type:yn.Stop,activity:S};return P}u(Sg,"resolveStop");function gd(o,c){var h=c?"#".concat(c):"";return"".concat(yn.After,"(").concat(o,")").concat(h)}u(gd,"after");function jo(o,c){var h="".concat(yn.DoneState,".").concat(o),b={type:h,data:c};return b.toString=function(){return h},b}u(jo,"done");function $i(o,c){var h="".concat(yn.DoneInvoke,".").concat(o),b={type:h,data:c};return b.toString=function(){return h},b}u($i,"doneInvoke");function ii(o,c){var h="".concat(yn.ErrorPlatform,".").concat(o),b={type:h,data:c};return b.toString=function(){return h},b}u(ii,"error");var gi=u((function(o){var c,h,b=[];try{for(var S=we(o),P=S.next();!P.done;P=S.next())for(var I=P.value,A=0;A<I.actions.length;)I.actions[A].type!==In?A++:(b.push(I.actions[A]),I.actions.splice(A,1))}catch(o){c={error:o}}finally{try{P&&!P.done&&(h=S.return)&&h.call(S)}finally{if(c)throw c.error}}return b}),"pluckAssigns");function ji(o,c,h,b,S,P,I){I===void 0&&(I=!1);var A=I?[]:gi(S),z=A.length?Tu(h,b,A,c):h,R=I?[h]:void 0,D=[];function g(S,A){var L;switch(A.type){case On:var G=wg(A,z,b,o.options.delays);return P&&typeof G.delay=="number"&&P(G,z,b),G;case Tn:var $=xg(A,z,b,o.options.delays);if(!Jn){var B=A.delay;ei(!Te(B)||typeof $.delay=="number","No delay reference for delay expression '".concat(B,"' was found on machine '").concat(o.id,"'"))}return P&&$.to!==wn.Internal&&(S==="entry"?D.push($):P($,z,b)),$;case An:var F=ui(A,z,b);return P==null||P(F,z,b),F;case Un:var V=A,W=(L=V.conds.find((function(h){var S=Es(h.cond,o.options.guards);return!S||Ss(o,S,z,b,P?void 0:c)})))===null||L===void 0?void 0:L.actions;if(!W)return[];var Z=Ee(ji(o,c,z,b,[{type:S,actions:li(ur(W),o.options.actions)}],P,I),2),Q=Z[0],et=Z[1];return z=et,R==null||R.push(z),Q;case Vn:W=A.get(z,b.data);if(!W)return[];var nt=Ee(ji(o,c,z,b,[{type:S,actions:li(ur(W),o.options.actions)}],P,I),2),it=nt[0],at=nt[1];return z=at,R==null||R.push(z),it;case Cn:F=Sg(A,z,b);return P==null||P(F,h,b),F;case In:z=Tu(z,b,[A],P?void 0:c),R==null||R.push(z);break;default:var lt=Hi(A,o.options.actions),ct=lt.exec;if(P)P(lt,z,b);else if(ct&&R){var pt=R.length-1,dt=mn(mn({},lt),{exec:function(o){for(var c=[],h=1;h<arguments.length;h++)c[h-1]=arguments[h];ct.apply(void 0,ke([R[pt]],Ee(c),!1))}});lt=dt}return lt}}u(g,"handleAction");function w(o){var c,h,S=[];try{for(var I=we(o.actions),A=I.next();!A.done;A=I.next()){var R=A.value,L=g(o.type,R);L&&(S=S.concat(L))}}catch(o){c={error:o}}finally{try{A&&!A.done&&(h=I.return)&&h.call(I)}finally{if(c)throw c.error}}return D.forEach((function(o){P(o,z,b)})),D.length=0,S}u(w,"processBlock");var L=Be(S.map(w));return[L,z]}u(ji,"resolveActions");var bi=[],yi=u((function(o,c){bi.push(o);var h=c(o);return bi.pop(),h}),"provide");function yd(o){var c;return c={id:o,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:o}}},c[oi]=function(){return this},c}u(yd,"createNullActor");function wd(o,c,h,b){var S,P=Ts(o.src),I=(S=c==null?void 0:c.options.services)===null||S===void 0?void 0:S[P.type],A=o.data?ri(o.data,h,b):void 0,z=I?Cu(I,o.id,A):yd(o.id);return z.meta=o,z}u(wd,"createInvocableActor");function Cu(o,c,h){var b=yd(c);if(b.deferred=!0,jr(o)){var S=b.state=yi(void 0,(function(){return(h?o.withContext(h):o).initialState}));b.getSnapshot=function(){return S}}return b}u(Cu,"createDeferredActor");function Cg(o){try{return typeof o.send=="function"}catch(o){return!1}}u(Cg,"isActor");function xd(o){return Cg(o)&&"id"in o}u(xd,"isSpawnedActor");function Ed(o){var c;return mn((c={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},c[oi]=function(){return this},c),o)}u(Ed,"toActorRef");var xi=u((function(o){return o.type==="atomic"||o.type==="final"}),"isLeafNode");function Mu(o){return Object.keys(o.states).map((function(c){return o.states[c]}))}u(Mu,"getAllChildren");function Bi(o){return Mu(o).filter((function(o){return o.type!=="history"}))}u(Bi,"getChildren");function Iu(o){var c=[o];return xi(o)?c:c.concat(Be(Bi(o).map(Iu)))}u(Iu,"getAllStateNodes");function qi(o,c){var h,b,S,P,I,A,z,R,D=new Set(o),L=Ou(D),G=new Set(c);try{for(var $=we(G),B=$.next();!B.done;B=$.next())for(var F=B.value,V=F.parent;V&&!G.has(V);)G.add(V),V=V.parent}catch(o){h={error:o}}finally{try{B&&!B.done&&(b=$.return)&&b.call($)}finally{if(h)throw h.error}}var W=Ou(G);try{for(var Z=we(G),Q=Z.next();!Q.done;Q=Z.next()){F=Q.value;if(F.type!=="compound"||W.get(F)&&W.get(F).length){if(F.type==="parallel")try{for(var et=(I=void 0,we(Bi(F))),nt=et.next();!nt.done;nt=et.next()){var it=nt.value;G.has(it)||(G.add(it),L.get(it)?L.get(it).forEach((function(o){return G.add(o)})):it.initialStateNodes.forEach((function(o){return G.add(o)})))}}catch(o){I={error:o}}finally{try{nt&&!nt.done&&(A=et.return)&&A.call(et)}finally{if(I)throw I.error}}}else L.get(F)?L.get(F).forEach((function(o){return G.add(o)})):F.initialStateNodes.forEach((function(o){return G.add(o)}))}}catch(o){S={error:o}}finally{try{Q&&!Q.done&&(P=Z.return)&&P.call(Z)}finally{if(S)throw S.error}}try{for(var at=we(G),lt=at.next();!lt.done;lt=at.next())for(F=lt.value,V=F.parent;V&&!G.has(V);)G.add(V),V=V.parent}catch(o){z={error:o}}finally{try{lt&&!lt.done&&(R=at.return)&&R.call(at)}finally{if(z)throw z.error}}return G}u(qi,"getConfiguration");function Sd(o,c){var h=c.get(o);if(!h)return{};if(o.type==="compound"){var b=h[0];if(!b)return{};if(xi(b))return b.key}var S={};return h.forEach((function(o){S[o.key]=Sd(o,c)})),S}u(Sd,"getValueFromAdj");function Ou(o){var c,h,b=new Map;try{for(var S=we(o),P=S.next();!P.done;P=S.next()){var I=P.value;b.has(I)||b.set(I,[]),I.parent&&(b.has(I.parent)||b.set(I.parent,[]),b.get(I.parent).push(I))}}catch(o){c={error:o}}finally{try{P&&!P.done&&(h=S.return)&&h.call(S)}finally{if(c)throw c.error}}return b}u(Ou,"getAdjList");function Td(o,c){var h=qi([o],c);return Sd(o,Ou(h))}u(Td,"getValue");function Fi(o,c){return Array.isArray(o)?o.some((function(o){return o===c})):o instanceof Set&&o.has(c)}u(Fi,"has");function Cd(o){return ke([],Ee(new Set(Be(ke([],Ee(o.map((function(o){return o.ownEvents}))),!1)))),!1)}u(Cd,"nextEvents");function $o(o,c){return c.type==="compound"?Bi(c).some((function(c){return c.type==="final"&&Fi(o,c)})):c.type==="parallel"&&Bi(c).every((function(c){return $o(o,c)}))}u($o,"isInFinalState");function Od(o){return o===void 0&&(o=[]),o.reduce((function(o,c){return c.meta!==void 0&&(o[c.id]=c.meta),o}),{})}u(Od,"getMeta");function Au(o){return new Set(Be(o.map((function(o){return o.tags}))))}u(Au,"getTagsFromConfiguration");function Pu(o,c){if(o===c)return!0;if(o===void 0||c===void 0)return!1;if(Te(o)||Te(c))return o===c;var h=Object.keys(o),b=Object.keys(c);return h.length===b.length&&h.every((function(h){return Pu(o[h],c[h])}))}u(Pu,"stateValuesEqual");function Md(o){return typeof o=="object"&&o!==null&&("value"in o&&"_event"in o)}u(Md,"isStateConfig");function Id(o,c){var h=o.exec,b=mn(mn({},o),{exec:h!==void 0?function(){return h(c.context,c.event,{action:o,state:c,_event:c._event})}:void 0});return b}u(Id,"bindActionToState");var Ei=function(){function t(o){var c,h=this;this.actions=[],this.activities=Yn,this.meta={},this.events=[],this.value=o.value,this.context=o.context,this._event=o._event,this._sessionid=o._sessionid,this.event=this._event.data,this.historyValue=o.historyValue,this.history=o.history,this.actions=o.actions||[],this.activities=o.activities||Yn,this.meta=Od(o.configuration),this.events=o.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=o.configuration,this.transitions=o.transitions,this.children=o.children,this.done=!!o.done,this.tags=(c=Array.isArray(o.tags)?new Set(o.tags):o.tags)!==null&&c!==void 0?c:new Set,this.machine=o.machine,Object.defineProperty(this,"nextEvents",{get:function(){return Cd(h.configuration)}})}return u(t,"State"),t.from=function(o,c){if(o instanceof t)return o.context!==c?new t({value:o.value,context:c,_event:o._event,_sessionid:null,historyValue:o.historyValue,history:o.history,actions:[],activities:o.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):o;var h=si;return new t({value:o,context:c,_event:h,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},t.create=function(o){return new t(o)},t.inert=function(o,c){if(o instanceof t){if(!o.actions.length)return o;var h=si;return new t({value:o.value,context:c,_event:h,_sessionid:null,historyValue:o.historyValue,history:o.history,activities:o.activities,configuration:o.configuration,transitions:[],children:{}})}return t.from(o,c)},t.prototype.toStrings=function(o,c){var h=this;if(o===void 0&&(o=this.value),c===void 0&&(c="."),Te(o))return[o];var b=Object.keys(o);return b.concat.apply(b,ke([],Ee(b.map((function(b){return h.toStrings(o[b],c).map((function(o){return b+c+o}))}))),!1))},t.prototype.toJSON=function(){var o=this;o.configuration,o.transitions;var c=o.tags;o.machine;var h=Di(o,["configuration","transitions","tags","machine"]);return mn(mn({},h),{tags:Array.from(c)})},t.prototype.matches=function(o){return No(o,this.value)},t.prototype.hasTag=function(o){return this.tags.has(o)},t.prototype.can=function(o){var c;Jn&&ei(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var h=(c=this.machine)===null||c===void 0?void 0:c.getTransitionData(this,o);return!!(h!=null&&h.transitions.length)&&h.transitions.some((function(o){return o.target!==void 0||o.actions.length}))},t}();var Si={deferEvents:!1},Ci=function(){function t(o){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=mn(mn({},Si),o)}return u(t,"Scheduler"),t.prototype.initialize=function(o){if(this.initialized=!0,o){if(!this.options.deferEvents){this.schedule(o);return}this.process(o)}this.flushEvents()},t.prototype.schedule=function(o){if(this.initialized&&!this.processingEvent){if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(o),this.flushEvents()}else this.queue.push(o)},t.prototype.clear=function(){this.queue=[]},t.prototype.flushEvents=function(){for(var o=this.queue.shift();o;)this.process(o),o=this.queue.shift()},t.prototype.process=function(o){this.processingEvent=!0;try{o()}catch(o){throw this.clear(),o}finally{this.processingEvent=!1}},t}();var Oi=new Map,Ti=0,ki={bookId:function(){return"x:".concat(Ti++)},register:function(o,c){return Oi.set(o,c),o},get:function(o){return Oi.get(o)},free:function(o){Oi.delete(o)}};function Ms(){if(typeof globalThis!="undefined")return globalThis;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;Jn||console.warn("XState could not find a global object in this environment. Please let the maintainers know and raise an issue here: https://github.com/statelyai/xstate/issues")}u(Ms,"getGlobal");function Ig(){var o=Ms();if(o&&"__xstate__"in o)return o.__xstate__}u(Ig,"getDevTools");function Ad(o){if(Ms()){var c=Ig();c&&c.register(o)}}u(Ad,"registerService");function Pd(o,c){c===void 0&&(c={});var h=o.initialState,b=new Set,S=[],P=!1,I=u((function(){if(!P){for(P=!0;S.length>0;){var c=S.shift();h=o.transition(h,c,z),b.forEach((function(o){return o.next(h)}))}P=!1}}),"flush"),A=Ed({id:c.id,send:function(o){S.push(o),I()},getSnapshot:function(){return h},subscribe:function(o,c,S){var P=Gi(o,c,S);return b.add(P),P.next(h),{unsubscribe:function(){b.delete(P)}}}}),z={parent:c.parent,self:A,id:c.id||"anonymous",observers:b};return h=o.start?o.start(z):h,A}u(Pd,"spawnBehavior");var Pi,Mi={sync:!1,autoForward:!1};(function(o){o[o.NotStarted=0]="NotStarted",o[o.Running=1]="Running",o[o.Stopped=2]="Stopped"})(Pi||(Pi={}));var Ii=function(){function t(o,c){c===void 0&&(c=t.defaultOptions);var h=this;this.machine=o,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=Pi.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(o,c){if(nn(o))return h.batch(o),h.state;var b=st(Li(o,c));if(h.status===Pi.Stopped)return Jn||ei(!1,'Event "'.concat(b.name,'" was sent to stopped service "').concat(h.machine.id,'". This service has already reached its final state, and will not transition.\nEvent: ').concat(JSON.stringify(b.data))),h.state;if(h.status!==Pi.Running&&!h.options.deferEvents)throw new Error('Event "'.concat(b.name,'" was sent to uninitialized service "').concat(h.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(b.data)));return h.scheduler.schedule((function(){h.forward(b);var o=h._nextState(b);h.update(o,b)})),h._state},this.sendTo=function(o,c,b){var S=h.parent&&(c===wn.Parent||h.parent.id===c),P=S?h.parent:Te(c)?c===wn.Internal?h:h.children.get(c)||ki.get(c):ud(c)?c:void 0;if(P)if("machine"in P){if(h.status!==Pi.Stopped||h.parent!==P||h.state.done){var I=mn(mn({},o),{name:o.name===Bn?"".concat(ii(h.id)):o.name,origin:h.sessionId});!b&&h.machine.config.predictableActionArguments?h._outgoingQueue.push([P,I]):P.send(I)}}else!b&&h.machine.config.predictableActionArguments?h._outgoingQueue.push([P,o.data]):P.send(o.data);else{if(!S)throw new Error("Unable to send event to child '".concat(c,"' from service '").concat(h.id,"'."));Jn||ei(!1,"Service '".concat(h.id,"' has no parent: unable to send event ").concat(o.type))}},this._exec=function(o,c,b,S){S===void 0&&(S=h.machine.options.actions);var P=o.exec||Cs(o.type,S),I=Ie(P)?P:P?P.exec:o.exec;if(I)try{return I(c,b.data,h.machine.config.predictableActionArguments?{action:o,_event:b}:{action:o,state:h.state,_event:b})}catch(o){throw h.parent&&h.parent.send({type:"xstate.error",data:o}),o}switch(o.type){case On:var A=o;h.defer(A);break;case Tn:var z=o;if(typeof z.delay=="number"){h.defer(z);return}z.to?h.sendTo(z._event,z.to,b===si):h.send(z._event);break;case Pn:h.cancel(o.sendId);break;case Sn:if(h.status!==Pi.Running)return;var R=o.activity;if(!h.machine.config.predictableActionArguments&&!h.state.activities[R.id||R.type])break;if(R.type===yn.Invoke){var D=Ts(R.src),L=h.machine.options.services?h.machine.options.services[D.type]:void 0,G=R.id,$=R.data;Jn||ei(!("forward"in R),"`forward` property is deprecated (found in invocation of '".concat(R.src,"' in in machine '").concat(h.machine.id,"'). ")+"Please use `autoForward` instead.");var B="autoForward"in R?R.autoForward:!!R.forward;if(!L){Jn||ei(!1,"No service found for invocation '".concat(R.src,"' in machine '").concat(h.machine.id,"'."));return}var F=$?ri($,c,b):void 0;if(typeof L=="string")return;var V=Ie(L)?L(c,b.data,{data:F,src:D,meta:R.meta}):L;if(!V)return;var W=void 0;jr(V)&&(V=F?V.withContext(F):V,W={autoForward:B}),h.spawn(V,G,W)}else h.spawnActivity(R);break;case Cn:h.stopChild(o.activity.id);break;case An:var Z=o,Q=Z.label,et=Z.value;Q?h.logger(Q,et):h.logger(et);break;default:Jn||ei(!1,"No implementation found for action type '".concat(o.type,"'"));break}};var b=mn(mn({},t.defaultOptions),c),S=b.clock,P=b.logger,I=b.parent,A=b.id,z=A!==void 0?A:o.id;this.id=z,this.logger=P,this.clock=S,this.parent=I,this.options=b,this.scheduler=new Ci({deferEvents:this.options.deferEvents}),this.sessionId=ki.bookId()}return u(t,"Interpreter"),Object.defineProperty(t.prototype,"initialState",{get:function(){var o=this;return this._initialState?this._initialState:yi(this,(function(){return o._initialState=o.machine.initialState,o._initialState}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return Jn||ei(this.status!==Pi.NotStarted,"Attempted to read state from uninitialized service '".concat(this.id,"'. Make sure the service is started first.")),this._state},enumerable:!1,configurable:!0}),t.prototype.execute=function(o,c){var h,b;try{for(var S=we(o.actions),P=S.next();!P.done;P=S.next()){var I=P.value;this.exec(I,o,c)}}catch(o){h={error:o}}finally{try{P&&!P.done&&(b=S.return)&&b.call(S)}finally{if(h)throw h.error}}},t.prototype.update=function(o,c){var h,b,S,P,I,A,z,R,D=this;if(o._sessionid=this.sessionId,this._state=o,this.machine.config.predictableActionArguments&&c!==si||!this.options.execute)for(var L=void 0;L=this._outgoingQueue.shift();)L[0].send(L[1]);else this.execute(this.state);if(this.children.forEach((function(o){D.state.children[o.id]=o})),this.devTools&&this.devTools.send(c.data,o),o.event)try{for(var G=we(this.eventListeners),$=G.next();!$.done;$=G.next()){var B=$.value;B(o.event)}}catch(o){h={error:o}}finally{try{$&&!$.done&&(b=G.return)&&b.call(G)}finally{if(h)throw h.error}}try{for(var F=we(this.listeners),V=F.next();!V.done;V=F.next()){B=V.value;B(o,o.event)}}catch(o){S={error:o}}finally{try{V&&!V.done&&(P=F.return)&&P.call(F)}finally{if(S)throw S.error}}try{for(var W=we(this.contextListeners),Z=W.next();!Z.done;Z=W.next()){var Q=Z.value;Q(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(o){I={error:o}}finally{try{Z&&!Z.done&&(A=W.return)&&A.call(W)}finally{if(I)throw I.error}}if(this.state.done){var et=o.configuration.find((function(o){return o.type==="final"&&o.parent===D.machine})),nt=et&&et.doneData?ri(et.doneData,o.context,c):void 0;this._doneEvent=$i(this.id,nt);try{for(var it=we(this.doneListeners),at=it.next();!at.done;at=it.next()){B=at.value;B(this._doneEvent)}}catch(o){z={error:o}}finally{try{at&&!at.done&&(R=it.return)&&R.call(it)}finally{if(z)throw z.error}}this._stop(),this._stopChildren(),ki.free(this.sessionId)}},t.prototype.onTransition=function(o){return this.listeners.add(o),this.status===Pi.Running&&o(this.state,this.state.event),this},t.prototype.subscribe=function(o,c,h){var b=this,S=Gi(o,c,h);this.listeners.add(S.next),this.status!==Pi.NotStarted&&S.next(this.state);var P=u((function(){b.doneListeners.delete(P),b.stopListeners.delete(P),S.complete()}),"completeOnce");return this.status===Pi.Stopped?S.complete():(this.onDone(P),this.onStop(P)),{unsubscribe:function(){b.listeners.delete(S.next),b.doneListeners.delete(P),b.stopListeners.delete(P)}}},t.prototype.onEvent=function(o){return this.eventListeners.add(o),this},t.prototype.onSend=function(o){return this.sendListeners.add(o),this},t.prototype.onChange=function(o){return this.contextListeners.add(o),this},t.prototype.onStop=function(o){return this.stopListeners.add(o),this},t.prototype.onDone=function(o){return this.status===Pi.Stopped&&this._doneEvent?o(this._doneEvent):this.doneListeners.add(o),this},t.prototype.off=function(o){return this.listeners.delete(o),this.eventListeners.delete(o),this.sendListeners.delete(o),this.stopListeners.delete(o),this.doneListeners.delete(o),this.contextListeners.delete(o),this},t.prototype.start=function(o){var c=this;if(this.status===Pi.Running)return this;this.machine._init(),ki.register(this.sessionId,this),this.initialized=!0,this.status=Pi.Running;var h=o===void 0?this.initialState:yi(this,(function(){return Md(o)?c.machine.resolveState(o):c.machine.resolveState(Ei.from(o,c.machine.context))}));return this.options.devTools&&this.attachDev(),this.scheduler.initialize((function(){c.update(h,si)})),this},t.prototype._stopChildren=function(){this.children.forEach((function(o){Ie(o.stop)&&o.stop()})),this.children.clear()},t.prototype._stop=function(){var o,c,h,b,S,P,I,A,z,R;try{for(var D=we(this.listeners),L=D.next();!L.done;L=D.next()){var G=L.value;this.listeners.delete(G)}}catch(c){o={error:c}}finally{try{L&&!L.done&&(c=D.return)&&c.call(D)}finally{if(o)throw o.error}}try{for(var $=we(this.stopListeners),B=$.next();!B.done;B=$.next()){G=B.value;G(),this.stopListeners.delete(G)}}catch(o){h={error:o}}finally{try{B&&!B.done&&(b=$.return)&&b.call($)}finally{if(h)throw h.error}}try{for(var F=we(this.contextListeners),V=F.next();!V.done;V=F.next()){G=V.value;this.contextListeners.delete(G)}}catch(o){S={error:o}}finally{try{V&&!V.done&&(P=F.return)&&P.call(F)}finally{if(S)throw S.error}}try{for(var W=we(this.doneListeners),Z=W.next();!Z.done;Z=W.next()){G=Z.value;this.doneListeners.delete(G)}}catch(o){I={error:o}}finally{try{Z&&!Z.done&&(A=W.return)&&A.call(W)}finally{if(I)throw I.error}}if(!this.initialized)return this;this.initialized=!1,this.status=Pi.Stopped,this._initialState=void 0;try{for(var Q=we(Object.keys(this.delayedEventsMap)),et=Q.next();!et.done;et=Q.next()){var nt=et.value;this.clock.clearTimeout(this.delayedEventsMap[nt])}}catch(o){z={error:o}}finally{try{et&&!et.done&&(R=Q.return)&&R.call(Q)}finally{if(z)throw z.error}}this.scheduler.clear(),this.scheduler=new Ci({deferEvents:this.options.deferEvents})},t.prototype.stop=function(){var o=this,c=this.scheduler;return this._stop(),c.schedule((function(){var c=st({type:"xstate.stop"}),h=yi(o,(function(){var h=Be(ke([],Ee(o.state.configuration),!1).sort((function(o,c){return c.order-o.order})).map((function(c){return li(c.onExit,o.machine.options.actions)}))),b=Ee(ji(o.machine,o.state,o.state.context,c,[{type:"exit",actions:h}],o.machine.config.predictableActionArguments?o._exec:void 0,o.machine.config.predictableActionArguments||o.machine.config.preserveActionOrder),2),S=b[0],P=b[1],I=new Ei({value:o.state.value,context:P,_event:c,_sessionid:o.sessionId,historyValue:void 0,history:o.state,actions:S.filter((function(o){return!Go(o)})),activities:{},events:[],configuration:[],transitions:[],children:{},done:o.state.done,tags:o.state.tags,machine:o.machine});return I.changed=!0,I}));o.update(h,c),o._stopChildren(),ki.free(o.sessionId)})),this},t.prototype.batch=function(o){var c=this;if(this.status===Pi.NotStarted&&this.options.deferEvents)Jn||ei(!1,"".concat(o.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'" and are deferred. Make sure .start() is called for this service.\nEvent: ').concat(JSON.stringify(event)));else if(this.status!==Pi.Running)throw new Error("".concat(o.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(o.length){var h=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule((function(){var b,S,P=c.state,I=!1,A=[],z=u((function(o){var b=st(o);c.forward(b),P=yi(c,(function(){return c.machine.transition(P,b,void 0,h||void 0)})),A.push.apply(A,ke([],Ee(c.machine.config.predictableActionArguments?P.actions:P.actions.map((function(o){return Id(o,P)}))),!1)),I=I||!!P.changed}),"_loop_1");try{for(var R=we(o),D=R.next();!D.done;D=R.next()){var L=D.value;z(L)}}catch(o){b={error:o}}finally{try{D&&!D.done&&(S=R.return)&&S.call(R)}finally{if(b)throw b.error}}P.changed=I,P.actions=A,c.update(P,st(o[o.length-1]))}))}},t.prototype.sender=function(o){return this.send.bind(this,o)},t.prototype._nextState=function(o,c){var h=this;c===void 0&&(c=!!this.machine.config.predictableActionArguments&&this._exec);var b=st(o);if(b.name.indexOf(Dn)===0&&!this.state.nextEvents.some((function(o){return o.indexOf(Dn)===0})))throw b.data.data;var S=yi(this,(function(){return h.machine.transition(h.state,b,void 0,c||void 0)}));return S},t.prototype.nextState=function(o){return this._nextState(o,!1)},t.prototype.forward=function(o){var c,h;try{for(var b=we(this.forwardTo),S=b.next();!S.done;S=b.next()){var P=S.value,I=this.children.get(P);if(!I)throw new Error("Unable to forward event '".concat(o,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(P,"'."));I.send(o)}}catch(o){c={error:o}}finally{try{S&&!S.done&&(h=b.return)&&h.call(b)}finally{if(c)throw c.error}}},t.prototype.defer=function(o){var c=this,h=this.clock.setTimeout((function(){"to"in o&&o.to?c.sendTo(o._event,o.to,!0):c.send(o._event)}),o.delay);o.id&&(this.delayedEventsMap[o.id]=h)},t.prototype.cancel=function(o){this.clock.clearTimeout(this.delayedEventsMap[o]),delete this.delayedEventsMap[o]},t.prototype.exec=function(o,c,h){h===void 0&&(h=this.machine.options.actions),this._exec(o,c.context,c._event,h)},t.prototype.removeChild=function(o){var c;this.children.delete(o),this.forwardTo.delete(o),(c=this.state)===null||c===void 0||delete c.children[o]},t.prototype.stopChild=function(o){var c=this.children.get(o);c&&(this.removeChild(o),Ie(c.stop)&&c.stop())},t.prototype.spawn=function(o,c,h){if(this.status!==Pi.Running)return Cu(o,c);if(Su(o))return this.spawnPromise(Promise.resolve(o),c);if(Ie(o))return this.spawnCallback(o,c);if(xd(o))return this.spawnActor(o,c);if(ld(o))return this.spawnObservable(o,c);if(jr(o))return this.spawnMachine(o,mn(mn({},h),{id:c}));if(id(o))return this.spawnBehavior(o,c);throw new Error('Unable to spawn entity "'.concat(c,'" of type "').concat(typeof o,'".'))},t.prototype.spawnMachine=function(o,c){var h=this;c===void 0&&(c={});var b=new t(o,mn(mn({},this.options),{parent:this,id:c.id||o.id})),S=mn(mn({},Mi),c);S.sync&&b.onTransition((function(o){h.send(qn,{state:o,id:b.id})}));var P=b;return this.children.set(b.id,P),S.autoForward&&this.forwardTo.add(b.id),b.onDone((function(o){h.removeChild(b.id),h.send(st(o,{origin:b.id}))})).start(),P},t.prototype.spawnBehavior=function(o,c){var h=Pd(o,{id:c,parent:this});return this.children.set(c,h),h},t.prototype.spawnPromise=function(o,c){var h,b,S=this,P=!1;o.then((function(o){P||(b=o,S.removeChild(c),S.send(st($i(c,o),{origin:c})))}),(function(o){if(!P){S.removeChild(c);var h=ii(c,o);try{S.send(st(h,{origin:c}))}catch(b){pd(o,b,c),S.devTools&&S.devTools.send(h,S.state),S.machine.strict&&S.stop()}}}));var I=(h={id:c,send:function(){},subscribe:function(c,h,b){var S=Gi(c,h,b),P=!1;return o.then((function(o){P||(S.next(o),!P&&S.complete())}),(function(o){P||S.error(o)})),{unsubscribe:function(){return P=!0}}},stop:function(){P=!0},toJSON:function(){return{id:c}},getSnapshot:function(){return b}},h[oi]=function(){return this},h);return this.children.set(c,I),I},t.prototype.spawnCallback=function(o,c){var h,b,S,P=this,I=!1,A=new Set,z=new Set,R=u((function(o){b=o,z.forEach((function(c){return c(o)})),!I&&P.send(st(o,{origin:c}))}),"receive");try{S=o(R,(function(o){A.add(o)}))}catch(o){this.send(ii(c,o))}if(Su(S))return this.spawnPromise(S,c);var D=(h={id:c,send:function(o){return A.forEach((function(c){return c(o)}))},subscribe:function(o){var c=Gi(o);return z.add(c.next),{unsubscribe:function(){z.delete(c.next)}}},stop:function(){I=!0,Ie(S)&&S()},toJSON:function(){return{id:c}},getSnapshot:function(){return b}},h[oi]=function(){return this},h);return this.children.set(c,D),D},t.prototype.spawnObservable=function(o,c){var h,b,S=this,P=o.subscribe((function(o){b=o,S.send(st(o,{origin:c}))}),(function(o){S.removeChild(c),S.send(st(ii(c,o),{origin:c}))}),(function(){S.removeChild(c),S.send(st($i(c),{origin:c}))})),I=(h={id:c,send:function(){},subscribe:function(c,h,b){return o.subscribe(c,h,b)},stop:function(){return P.unsubscribe()},getSnapshot:function(){return b},toJSON:function(){return{id:c}}},h[oi]=function(){return this},h);return this.children.set(c,I),I},t.prototype.spawnActor=function(o,c){return this.children.set(c,o),o},t.prototype.spawnActivity=function(o){var c=this.machine.options&&this.machine.options.activities?this.machine.options.activities[o.type]:void 0;if(c){var h=c(this.state.context,o);this.spawnEffect(o.id,h)}else Jn||ei(!1,"No implementation found for activity '".concat(o.type,"'"))},t.prototype.spawnEffect=function(o,c){var h;this.children.set(o,(h={id:o,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:c||void 0,getSnapshot:function(){},toJSON:function(){return{id:o}}},h[oi]=function(){return this},h))},t.prototype.attachDev=function(){var o=Ms();if(this.options.devTools&&o){if(o.__REDUX_DEVTOOLS_EXTENSION__){var c=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=o.__REDUX_DEVTOOLS_EXTENSION__.connect(mn(mn({name:this.id,autoPause:!0,stateSanitizer:function(o){return{value:o.value,context:o.context,actions:o.actions}}},c),{features:mn({jump:!1,skip:!1},c?c.features:void 0)}),this.machine),this.devTools.init(this.state)}Ad(this)}},t.prototype.toJSON=function(){return{id:this.id}},t.prototype[oi]=function(){return this},t.prototype.getSnapshot=function(){return this.status===Pi.NotStarted?this.initialState:this._state},t.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(o,c){return setTimeout(o,c)},clearTimeout:function(o){return clearTimeout(o)}},logger:console.log.bind(console),devTools:!1},t.interpret=ut,t}();function ut(o,c){var h=new Ii(o,c);return h}u(ut,"interpret");function Pg(o){if(typeof o=="string"){var c={type:o};return c.toString=function(){return o},c}return o}u(Pg,"toInvokeSource");function Bo(o){return mn(mn({type:Rn},o),{toJSON:function(){o.onDone,o.onError;var c=Di(o,["onDone","onError"]);return mn(mn({},c),{type:Rn,src:Pg(o.src)})}})}u(Bo,"toInvokeDefinition");var Ai="",zi="#",Ri="*",Ui={},Vi=u((function(o){return o[0]===zi}),"isStateId"),Wi=u((function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}}),"createDefaultOptions"),Yi=u((function(o,c,h){var b=h.slice(0,-1).some((function(o){return!("cond"in o)&&!("in"in o)&&(Te(o.target)||jr(o.target))})),S=c===Ai?"the transient event":"event '".concat(c,"'");ei(!b,"One or more transitions for ".concat(S," on state '").concat(o.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")}),"validateArrayifiedTransitions"),Xi=function(){function t(o,c,h,b){h===void 0&&(h="context"in o?o.context:void 0);var S,P=this;this.config=o,this._context=h,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(Wi(),c),this.parent=b==null?void 0:b.parent,this.key=this.config.key||(b==null?void 0:b.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:Wn),this.id=this.config.id||ke([this.machine.key],Ee(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(S=this.config.schema)!==null&&S!==void 0?S:{},this.description=this.config.description,Jn||ei(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead.")),this.initial=this.config.initial,this.states=this.config.states?_i(this.config.states,(function(o,c){var h,b=new t(o,{},void 0,{parent:P,key:c});return Object.assign(P.idMap,mn((h={},h[b.id]=b,h),b.idMap)),b})):Ui;var I=0;function m(o){var c,h;o.order=I++;try{for(var b=we(Mu(o)),S=b.next();!S.done;S=b.next()){var P=S.value;m(P)}}catch(o){c={error:o}}finally{try{S&&!S.done&&(h=b.return)&&h.call(b)}finally{if(c)throw c.error}}}u(m,"dfs"),m(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some((function(o){var c=o.event;return c===Ai})):Ai in this.config.on),this.strict=!!this.config.strict,this.onEntry=ur(this.config.entry||this.config.onEntry).map((function(o){return Hi(o)})),this.onExit=ur(this.config.exit||this.config.onExit).map((function(o){return Hi(o)})),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=ur(this.config.invoke).map((function(o,c){var h,b;if(jr(o)){var S=Lo(P.id,c);return P.machine.options.services=mn((h={},h[S]=o,h),P.machine.options.services),Bo({src:S,id:S})}if(Te(o.src)){S=o.id||Lo(P.id,c);return Bo(mn(mn({},o),{id:S,src:o.src}))}if(jr(o.src)||Ie(o.src)){S=o.id||Lo(P.id,c);return P.machine.options.services=mn((b={},b[S]=o.src,b),P.machine.options.services),Bo(mn(mn({id:S},o),{src:S}))}var I=o.src;return Bo(mn(mn({id:Lo(P.id,c)},o),{src:I}))})),this.activities=ur(this.config.activities).concat(this.invoke).map((function(o){return Os(o)})),this.transition=this.transition.bind(this),this.tags=ur(this.config.tags)}return u(t,"StateNode"),t.prototype._init=function(){this.__cache.transitions||Iu(this).forEach((function(o){return o.on}))},t.prototype.withConfig=function(o,c){var h=this.options,b=h.actions,S=h.activities,P=h.guards,I=h.services,A=h.delays;return new t(this.config,{actions:mn(mn({},b),o.actions),activities:mn(mn({},S),o.activities),guards:mn(mn({},P),o.guards),services:mn(mn({},I),o.services),delays:mn(mn({},A),o.delays)},c!=null?c:this.context)},t.prototype.withContext=function(o){return new t(this.config,this.options,o)},Object.defineProperty(t.prototype,"context",{get:function(){return Ie(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:_i(this.states,(function(o){return o.definition})),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return this.definition},Object.defineProperty(t.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var o=this.transitions;return this.__cache.on=o.reduce((function(o,c){return o[c.eventType]=o[c.eventType]||[],o[c.eventType].push(c),o}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),t.prototype.getCandidates=function(o){if(this.__cache.candidates[o])return this.__cache.candidates[o];var c=o===Ai,h=this.transitions.filter((function(h){var b=h.eventType===o;return c?b:b||h.eventType===Ri}));return this.__cache.candidates[o]=h,h},t.prototype.getDelayedTransitions=function(){var o=this,c=this.config.after;if(!c)return[];var h=u((function(c,h){var b=Ie(c)?"".concat(o.id,":delay[").concat(h,"]"):c,S=gd(b,o.id);return o.onEntry.push(fd(S,{delay:c})),o.onExit.push(vi(S)),S}),"mutateEntryExit"),b=nn(c)?c.map((function(o,c){var b=h(o.delay,c);return mn(mn({},o),{event:b})})):Be(Object.keys(c).map((function(o,b){var S=c[o],P=Te(S)?{target:S}:S,I=isNaN(+o)?o:+o,A=h(I,b);return ur(P).map((function(o){return mn(mn({},o),{event:A,delay:I})}))})));return b.map((function(c){var h=c.delay;return mn(mn({},o.formatTransition(c)),{delay:h})}))},t.prototype.getStateNodes=function(o){var c,h=this;if(!o)return[];var b=o instanceof Ei?o.value:Ni(o,this.delimiter);if(Te(b)){var S=this.getStateNode(b).initial;return S!==void 0?this.getStateNodes((c={},c[b]=S,c)):[this,this.states[b]]}var P=Object.keys(b),I=[this];return I.push.apply(I,ke([],Ee(Be(P.map((function(o){return h.getStateNode(o).getStateNodes(b[o])})))),!1)),I},t.prototype.handles=function(o){var c=ws(o);return this.events.includes(c)},t.prototype.resolveState=function(o){var c=o instanceof Ei?o:Ei.create(o),h=Array.from(qi([],this.getStateNodes(c.value)));return new Ei(mn(mn({},c),{value:this.resolve(c.value),configuration:h,done:$o(h,this),tags:Au(h),machine:this.machine}))},t.prototype.transitionLeafNode=function(o,c,h){var b=this.getStateNode(o),S=b.next(c,h);return S&&S.transitions.length?S:this.next(c,h)},t.prototype.transitionCompoundNode=function(o,c,h){var b=Object.keys(o),S=this.getStateNode(b[0]),P=S._transition(o[b[0]],c,h);return P&&P.transitions.length?P:this.next(c,h)},t.prototype.transitionParallelNode=function(o,c,h){var b,S,P={};try{for(var I=we(Object.keys(o)),A=I.next();!A.done;A=I.next()){var z=A.value,R=o[z];if(R){var D=this.getStateNode(z),L=D._transition(R,c,h);L&&(P[z]=L)}}}catch(o){b={error:o}}finally{try{A&&!A.done&&(S=I.return)&&S.call(I)}finally{if(b)throw b.error}}var G=Object.keys(P).map((function(o){return P[o]})),$=Be(G.map((function(o){return o.transitions}))),B=G.some((function(o){return o.transitions.length>0}));if(!B)return this.next(c,h);var F=Be(Object.keys(P).map((function(o){return P[o].configuration})));return{transitions:$,exitSet:Be(G.map((function(o){return o.exitSet}))),configuration:F,source:c,actions:Be(Object.keys(P).map((function(o){return P[o].actions})))}},t.prototype._transition=function(o,c,h){return Te(o)?this.transitionLeafNode(o,c,h):Object.keys(o).length===1?this.transitionCompoundNode(o,c,h):this.transitionParallelNode(o,c,h)},t.prototype.getTransitionData=function(o,c){return this._transition(o.value,o,st(c))},t.prototype.next=function(o,c){var h,b,S,P=this,I=c.name,A=[],z=[];try{for(var R=we(this.getCandidates(I)),D=R.next();!D.done;D=R.next()){var L=D.value,G=L.cond,$=L.in,B=o.context,F=!$||(Te($)&&Vi($)?o.matches(Ni(this.getStateNodeById($).path,this.delimiter)):No(Ni($,this.delimiter),ti(this.path.slice(0,-2))(o.value))),V=!1;try{V=!G||Ss(this.machine,G,B,c,o)}catch(o){throw new Error("Unable to evaluate guard '".concat(G.name||G.type,"' in transition for event '").concat(I,"' in state node '").concat(this.id,"':\n").concat(o.message))}if(V&&F){L.target!==void 0&&(z=L.target),A.push.apply(A,ke([],Ee(L.actions),!1)),S=L;break}}}catch(o){h={error:o}}finally{try{D&&!D.done&&(b=R.return)&&b.call(R)}finally{if(h)throw h.error}}if(S){if(!z.length)return{transitions:[S],exitSet:[],configuration:o.value?[this]:[],source:o,actions:A};var W=Be(z.map((function(c){return P.getRelativeStateNodes(c,o.historyValue)}))),Z=!!S.internal;return{transitions:[S],exitSet:Z?[]:Be(z.map((function(o){return P.getPotentiallyReenteringNodes(o)}))),configuration:W,source:o,actions:A}}},t.prototype.getPotentiallyReenteringNodes=function(o){if(this.order<o.order)return[this];for(var c=[],h=this,b=o;h&&h!==b;)c.push(h),h=h.parent;return h!==b?[]:(c.push(b),c)},t.prototype.getActions=function(o,c,h,b,S,P,I){var A,z,R,D,L=this,G=P?qi([],this.getStateNodes(P.value)):[],$=new Set;try{for(var B=we(Array.from(o).sort((function(o,c){return o.order-c.order}))),F=B.next();!F.done;F=B.next()){var V=F.value;(!Fi(G,V)||Fi(h.exitSet,V)||V.parent&&$.has(V.parent))&&$.add(V)}}catch(o){A={error:o}}finally{try{F&&!F.done&&(z=B.return)&&z.call(B)}finally{if(A)throw A.error}}try{for(var W=we(G),Z=W.next();!Z.done;Z=W.next()){V=Z.value;(!Fi(o,V)||Fi(h.exitSet,V.parent))&&h.exitSet.push(V)}}catch(o){R={error:o}}finally{try{Z&&!Z.done&&(D=W.return)&&D.call(W)}finally{if(R)throw R.error}}h.exitSet.sort((function(o,c){return c.order-o.order}));var Q=Array.from($).sort((function(o,c){return o.order-c.order})),et=new Set(h.exitSet),nt=Be(Q.map((function(o){var c=[];if(o.type!=="final")return c;var P=o.parent;if(!P.parent)return c;c.push(jo(o.id,o.doneData),jo(P.id,o.doneData?ri(o.doneData,b,S):void 0));var I=P.parent;return I.type==="parallel"&&Bi(I).every((function(o){return $o(h.configuration,o)}))&&c.push(jo(I.id)),c}))),it=Q.map((function(o){var c=o.onEntry,h=o.activities.map((function(o){return md(o)}));return{type:"entry",actions:li(I?ke(ke([],Ee(c),!1),Ee(h),!1):ke(ke([],Ee(h),!1),Ee(c),!1),L.machine.options.actions)}})).concat({type:"state_done",actions:nt.map((function(o){return dd(o)}))}),at=Array.from(et).map((function(o){return{type:"exit",actions:li(ke(ke([],Ee(o.onExit),!1),Ee(o.activities.map((function(o){return vd(o)}))),!1),L.machine.options.actions)}})),lt=at.concat({type:"transition",actions:li(h.actions,this.machine.options.actions)}).concat(it);if(c){var ct=li(Be(ke([],Ee(o),!1).sort((function(o,c){return c.order-o.order})).map((function(o){return o.onExit}))),this.machine.options.actions).filter((function(o){return!Go(o)}));return lt.concat({type:"stop",actions:ct})}return lt},t.prototype.transition=function(o,c,h,b){o===void 0&&(o=this.initialState);var S,P=st(c);if(o instanceof Ei)S=h===void 0?o:this.resolveState(Ei.from(o,h));else{var I=Te(o)?this.resolve(ko(this.getResolvedPath(o))):this.resolve(o),A=h!=null?h:this.machine.context;S=this.resolveState(Ei.from(I,A))}if(!Jn&&P.name===Ri)throw new Error("An event cannot have the wildcard type ('".concat(Ri,"')"));if(this.strict&&!this.events.includes(P.name)&&!nd(P.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(P.name,"'"));var z=this._transition(S.value,S,P)||{transitions:[],configuration:[],exitSet:[],source:S,actions:[]},R=qi([],this.getStateNodes(S.value)),D=z.configuration.length?qi(R,z.configuration):R;return z.configuration=ke([],Ee(D),!1),this.resolveTransition(z,S,S.context,b,P)},t.prototype.resolveRaisedTransition=function(o,c,h,b){var S,P=o.actions;return o=this.transition(o,c,void 0,b),o._event=h,o.event=h.data,(S=o.actions).unshift.apply(S,ke([],Ee(P),!1)),o},t.prototype.resolveTransition=function(o,c,h,b,S){var P,I,A,z,R=this;S===void 0&&(S=si);var D=o.configuration,L=!c||o.transitions.length>0,G=L?o.configuration:c?c.configuration:[],$=$o(G,this),B=L?Td(this.machine,D):void 0,F=c?c.historyValue?c.historyValue:o.source?this.machine.historyValue(c.value):void 0:void 0,V=this.getActions(new Set(G),$,o,h,S,c,b),W=c?mn({},c.activities):{};try{for(var Z=we(V),Q=Z.next();!Q.done;Q=Z.next()){var et=Q.value;try{for(var nt=(A=void 0,we(et.actions)),it=nt.next();!it.done;it=nt.next()){var at=it.value;at.type===Sn?W[at.activity.id||at.activity.type]=at:at.type===Cn&&(W[at.activity.id||at.activity.type]=!1)}}catch(o){A={error:o}}finally{try{it&&!it.done&&(z=nt.return)&&z.call(nt)}finally{if(A)throw A.error}}}}catch(o){P={error:o}}finally{try{Q&&!Q.done&&(I=Z.return)&&I.call(Z)}finally{if(P)throw P.error}}var lt=Ee(ji(this,c,h,S,V,b,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),ct=lt[0],pt=lt[1],dt=Ee(od(ct,Go),2),mt=dt[0],wt=dt[1],Et=ct.filter((function(o){var c;return o.type===Sn&&((c=o.activity)===null||c===void 0?void 0:c.type)===Rn})),kt=Et.reduce((function(o,c){return o[c.activity.id]=wd(c.activity,R.machine,pt,S),o}),c?mn({},c.children):{}),Pt=new Ei({value:B||c.value,context:pt,_event:S,_sessionid:c?c._sessionid:null,historyValue:B?F?sd(F,B):void 0:c?c.historyValue:void 0,history:!B||o.source?c:void 0,actions:B?wt:[],activities:B?W:c?c.activities:{},events:[],configuration:G,transitions:o.transitions,children:kt,done:$,tags:Au(G),machine:this}),It=h!==pt;Pt.changed=S.name===qn||It;var At=Pt.history;At&&delete At.history;var zt=!$&&(this._transient||D.some((function(o){return o._transient})));if(!L&&(!zt||S.name===Ai))return Pt;var Rt=Pt;if(!$)for(zt&&(Rt=this.resolveRaisedTransition(Rt,{type:Mn},S,b));mt.length;){var Dt=mt.shift();Rt=this.resolveRaisedTransition(Rt,Dt._event,S,b)}var jt=Rt.changed||(At?!!Rt.actions.length||It||typeof At.value!=typeof Rt.value||!Pu(Rt.value,At.value):void 0);return Rt.changed=jt,Rt.history=At,Rt},t.prototype.getStateNode=function(o){if(Vi(o))return this.machine.getStateNodeById(o);if(!this.states)throw new Error("Unable to retrieve child state '".concat(o,"' from '").concat(this.id,"'; no child states exist."));var c=this.states[o];if(!c)throw new Error("Child state '".concat(o,"' does not exist on '").concat(this.id,"'"));return c},t.prototype.getStateNodeById=function(o){var c=Vi(o)?o.slice(zi.length):o;if(c===this.id)return this;var h=this.machine.idMap[c];if(!h)throw new Error("Child state node '#".concat(c,"' does not exist on machine '").concat(this.id,"'"));return h},t.prototype.getStateNodeByPath=function(o){if(typeof o=="string"&&Vi(o))try{return this.getStateNodeById(o.slice(1))}catch(o){}for(var c=xs(o,this.delimiter).slice(),h=this;c.length;){var b=c.shift();if(!b.length)break;h=h.getStateNode(b)}return h},t.prototype.resolve=function(o){var c,h=this;if(!o)return this.initialStateValue||Ui;switch(this.type){case"parallel":return _i(this.initialStateValue,(function(c,b){return c?h.getStateNode(b).resolve(o[b]||c):Ui}));case"compound":if(Te(o)){var b=this.getStateNode(o);return b.type==="parallel"||b.type==="compound"?(c={},c[o]=b.initialStateValue,c):o}return Object.keys(o).length?_i(o,(function(o,c){return o?h.getStateNode(c).resolve(o):Ui})):this.initialStateValue||{};default:return o||Ui}},t.prototype.getResolvedPath=function(o){if(Vi(o)){var c=this.machine.idMap[o.slice(zi.length)];if(!c)throw new Error("Unable to find state node '".concat(o,"'"));return c.path}return xs(o,this.delimiter)},Object.defineProperty(t.prototype,"initialStateValue",{get:function(){var o;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var c;if(this.type==="parallel")c=Eu(this.states,(function(o){return o.initialStateValue||Ui}),(function(o){return o.type!=="history"}));else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));c=xi(this.states[this.initial])?this.initial:(o={},o[this.initial]=this.states[this.initial].initialStateValue,o)}else c={};return this.__cache.initialStateValue=c,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),t.prototype.getInitialState=function(o,c){this._init();var h=this.getStateNodes(o);return this.resolveTransition({configuration:h,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,c!=null?c:this.machine.context,void 0)},Object.defineProperty(t.prototype,"initialState",{get:function(){var o=this.initialStateValue;if(!o)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(o)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){var o;if(this.type==="history"){var c=this.config;o=Te(c.target)&&Vi(c.target)?ko(this.machine.getStateNodeById(c.target).path.slice(this.path.length-1)):c.target}return o},enumerable:!1,configurable:!0}),t.prototype.getRelativeStateNodes=function(o,c,h){return h===void 0&&(h=!0),h?o.type==="history"?o.resolveHistory(c):o.initialStateNodes:[o]},Object.defineProperty(t.prototype,"initialStateNodes",{get:function(){var o=this;if(xi(this))return[this];if(this.type==="compound"&&!this.initial)return Jn||ei(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this];var c=_o(this.initialStateValue);return Be(c.map((function(c){return o.getFromRelativePath(c)})))},enumerable:!1,configurable:!0}),t.prototype.getFromRelativePath=function(o){if(!o.length)return[this];var c=Ee(o),h=c[0],b=c.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(h,"' from node with no states"));var S=this.getStateNode(h);if(S.type==="history")return S.resolveHistory();if(!this.states[h])throw new Error("Child state '".concat(h,"' does not exist on '").concat(this.id,"'"));return this.states[h].getFromRelativePath(b)},t.prototype.historyValue=function(o){if(Object.keys(this.states).length)return{current:o||this.initialStateValue,states:Eu(this.states,(function(c,h){if(!o)return c.historyValue();var b=Te(o)?void 0:o[h];return c.historyValue(b||c.initialStateValue)}),(function(o){return!o.history}))}},t.prototype.resolveHistory=function(o){var c=this;if(this.type!=="history")return[this];var h=this.parent;if(!o){var b=this.target;return b?Be(_o(b).map((function(o){return h.getFromRelativePath(o)}))):h.initialStateNodes}var S=td(h.path,"states")(o).current;return Te(S)?[h.getStateNode(S)]:Be(_o(S).map((function(o){return c.history==="deep"?h.getFromRelativePath(o):[h.states[o[0]]]})))},Object.defineProperty(t.prototype,"stateIds",{get:function(){var o=this,c=Be(Object.keys(this.states).map((function(c){return o.states[c].stateIds})));return[this.id].concat(c)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){var o,c,h,b;if(this.__cache.events)return this.__cache.events;var S=this.states,P=new Set(this.ownEvents);if(S)try{for(var I=we(Object.keys(S)),A=I.next();!A.done;A=I.next()){var z=A.value,R=S[z];if(R.states)try{for(var D=(h=void 0,we(R.events)),L=D.next();!L.done;L=D.next()){var G=L.value;P.add("".concat(G))}}catch(o){h={error:o}}finally{try{L&&!L.done&&(b=D.return)&&b.call(D)}finally{if(h)throw h.error}}}}catch(c){o={error:c}}finally{try{A&&!A.done&&(c=I.return)&&c.call(I)}finally{if(o)throw o.error}}return this.__cache.events=Array.from(P)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ownEvents",{get:function(){var o=new Set(this.transitions.filter((function(o){return!(!o.target&&!o.actions.length&&o.internal)})).map((function(o){return o.eventType})));return Array.from(o)},enumerable:!1,configurable:!0}),t.prototype.resolveTarget=function(o){var c=this;if(o!==void 0)return o.map((function(o){if(!Te(o))return o;var h=o[0]===c.delimiter;if(h&&!c.parent)return c.getStateNodeByPath(o.slice(1));var b=h?c.key+o:o;if(!c.parent)return c.getStateNodeByPath(b);try{var S=c.parent.getStateNodeByPath(b);return S}catch(o){throw new Error("Invalid transition definition for state node '".concat(c.id,"':\n").concat(o.message))}}))},t.prototype.formatTransition=function(o){var c=this,h=cd(o.target),b="internal"in o?o.internal:!h||h.some((function(o){return Te(o)&&o[0]===c.delimiter})),S=this.machine.options.guards,P=this.resolveTarget(h),I=mn(mn({},o),{actions:li(ur(o.actions)),cond:Es(o.cond,S),target:P,source:this,internal:b,eventType:o.event,toJSON:function(){return mn(mn({},I),{target:I.target?I.target.map((function(o){return"#".concat(o.id)})):void 0,source:"#".concat(c.id)})}});return I},t.prototype.formatTransitions=function(){var o,c,h,b=this;if(this.config.on)if(Array.isArray(this.config.on))h=this.config.on;else{var S=this.config.on,P=Ri,I=S[P],A=I===void 0?[]:I,z=Di(S,[typeof P=="symbol"?P:P+""]);h=Be(Object.keys(z).map((function(o){!Jn&&o===Ai&&ei(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(b.id,'".'));var c=ni(o,z[o]);return Jn||Yi(b,o,c),c})).concat(ni(Ri,A)))}else h=[];var R=this.config.always?ni("",this.config.always):[],D=this.config.onDone?ni(String(jo(this.id)),this.config.onDone):[];Jn||ei(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var L=Be(this.invoke.map((function(o){var c=[];return o.onDone&&c.push.apply(c,ke([],Ee(ni(String($i(o.id)),o.onDone)),!1)),o.onError&&c.push.apply(c,ke([],Ee(ni(String(ii(o.id)),o.onError)),!1)),c}))),G=this.after,$=Be(ke(ke(ke(ke([],Ee(D),!1),Ee(L),!1),Ee(h),!1),Ee(R),!1).map((function(o){return ur(o).map((function(o){return b.formatTransition(o)}))})));try{for(var B=we(G),F=B.next();!F.done;F=B.next()){var V=F.value;$.push(V)}}catch(c){o={error:c}}finally{try{F&&!F.done&&(c=B.return)&&c.call(B)}finally{if(o)throw o.error}}return $},t}();var Ki=!1;function ht(o,c){return!Jn&&!("predictableActionArguments"in o)&&!Ki&&(Ki=!0,console.warn("It is highly recommended to set `predictableActionArguments` to `true` when using `createMachine`. https://xstate.js.org/docs/guides/actions.html")),new Xi(o,c)}u(ht,"createMachine");var Zi=er(nt(),1),Ji=er(it(),1);var tr=u((o=>o!=null&&typeof o.draggable=="boolean"),"isDraggable"),nr=u((o=>o!=null&&o.tagName==="CIRCUIT-DROPZONE"),"isCircuitDropzoneElement"),ir=u((o=>o!=null&&o.tagName==="PALETTE-DROPZONE"),"isPaletteDropzoneElement");function me(o){let c=class e extends o{constructor(){super(...arguments);this.operationX=0;this.operationY=0;this.grabbed=!1;this.dragging=!1;this.snapped=!1;this.bit=-1;this.debugDraggable=!1;this.draggableMachine=ht({id:"draggable",initial:"idle",states:{idle:{entry:["init"],on:{SET_INTERACT:{target:"grabbable",actions:["setInteract"]}}},grabbable:{on:{GRAB:{target:"grabbed",actions:["grab"]},UNSET_INTERACT:{target:"idle"}}},grabbed:{on:{START_DRAGGING:{target:"dragging",actions:["startDragging"]},RELEASE:[{target:"grabbable",actions:["release"],cond:"isOnCircuitDropzone"},{target:"deleted",actions:["release"],cond:"isOnPaletteDropzone"}]}},dragging:{type:"compound",initial:"unknown",on:{END_DRAGGING:{target:"dropped",actions:["endDragging"]}},states:{unknown:{always:[{target:"snapped",cond:"isOnCircuitDropzone"},{target:"unsnapped",cond:"isOnPaletteDropzone"}]},snapped:{entry:["snap"],on:{UNSNAP:{target:"unsnapped"}}},unsnapped:{entry:["unsnap"],on:{SNAP:{target:"snapped"}}}}},dropped:{entry:["drop"],always:[{target:"grabbable",cond:"isDroppedOnCircuitDropzone"},{target:"deleted",cond:"isTrashed"}]},deleted:{type:"final",entry:"delete"}}},{actions:{init:()=>{fe("draggable:init",{},this)},setInteract:(o,c)=>{ne.need(c.type==="SET_INTERACT","event type must be SET_INTERACT");let h=(0,Ji.default)(this);h.styleCursor(!1),h.pointerEvents({ignoreFrom:".resize-handle"}),h.on("down",this.grab.bind(this)),h.on("up",this.release.bind(this)),h.draggable({onstart:this.startDragging.bind(this),onmove:this.dragMove.bind(this),onend:this.endDragging.bind(this),ignoreFrom:".resize-handle"});let b=this.dropzone;nr(b)?this.snappedDropzone=b:this.snappedDropzone=null},grab:(o,c)=>{ne.need(c.type==="GRAB","event type must be GRAB"),c.type==="GRAB"&&(this.grabbed=!0,fe("draggable:grab",{},this),ir(this.dropzone)&&(this.snapped=!1,this.moveByOffset(c.x,c.y),this.classList.remove("qpu-operation-xl")))},release:(o,c)=>{ne.need(c.type==="RELEASE","event type must be RELEASE"),this.grabbed=!1,fe("draggable:release",{},this)},startDragging:(o,c)=>{ne.need(c.type==="START_DRAGGING","event type must be START_DRAGGING"),this.dragging=!0},endDragging:(o,c)=>{ne.need(c.type==="END_DRAGGING","event type must be END_DRAGGING"),this.grabbed=!1,this.dragging=!1,fe("draggable:end-dragging",{},this)},snap:()=>{this.snapped=!0,this.snappedDropzone=this.dropzone,fe("draggable:snap-to-dropzone",{},this)},unsnap:()=>{this.snapped=!1,this.snappedDropzone&&fe("draggable:unsnap",{},this.snappedDropzone)},drop:()=>{this.snapped&&(this.moveTo(0,0),fe("draggable:drop",{},this))},delete:()=>{(0,Ji.default)(this).unset(),fe("draggable:delete",{},this)}},guards:{isOnCircuitDropzone:()=>nr(this.dropzone),isOnPaletteDropzone:()=>ir(this.dropzone),isDroppedOnCircuitDropzone:()=>this.snapped&&nr(this.dropzone),isTrashed:()=>!this.snapped}});this.draggableService=ut(this.draggableMachine).onTransition((o=>{this.debugDraggable&&console.log(`draggable: ${(0,Zi.format)(o.value)}`)}))}get draggable(){return this.draggableService.state!==void 0}set draggable(o){o?this.draggableService.send({type:"SET_INTERACT"}):this.draggableService.send({type:"UNSET_INTERACT"})}initDraggable(){this.draggableService.state===void 0&&this.draggableService.start()}get dropzone(){let o=this.parentElement;return ne.notNull(o),ir(o)||nr(o)?o:null}set snapTargets(o){(0,Ji.default)(this).draggable({modifiers:[Ji.default.modifiers.snap({targets:o,range:this.snapRange})],listeners:{move:this.moveEventListener.bind(this)}})}get snapRange(){return 32}moveEventListener(o){let c=o.modifiers[0];if(c.inRange){let o=c.target.source;fe("draggable:in-snap-range",{snapTargetInfo:o},this),this.moveTo(0,0),this.snappedDropzone&&this.snappedDropzone!==this.dropzone&&this.draggableService.send({type:"UNSNAP"}),this.draggableService.send({type:"SNAP"})}else this.snapped&&this.draggableService.send({type:"UNSNAP"})}grab(o){this.draggableService.send({type:"GRAB",x:o.offsetX,y:o.offsetY})}release(){this.draggableService.send({type:"RELEASE"})}startDragging(){this.draggableService.send({type:"START_DRAGGING"})}endDragging(){this.draggableService.send({type:"END_DRAGGING"})}dragMove(o){this.move(o.dx,o.dy)}move(o,c){let h=this.operationX+o,b=this.operationY+c;this.moveTo(h,b)}moveTo(o,c){this.operationX=o,this.operationY=c,this.style.transform=`translate(${o}px, ${c}px)`}moveByOffset(o,c){let h=o-this.clientWidth/2,b=c-this.clientHeight/2;this.move(h,b)}};u(c,"DraggableMixinClass"),M([k],c.prototype,"operationX",2),M([k],c.prototype,"operationY",2),M([k],c.prototype,"grabbed",2),M([k],c.prototype,"dragging",2),M([k],c.prototype,"snapped",2),M([k],c.prototype,"bit",2),M([k],c.prototype,"debugDraggable",2);let h=c;return h}u(me,"DraggableMixin");var rr=u((o=>typeof o=="object"&&o!==null&&typeof o.flag=="string"),"isFlaggable");function Gf(o){let c=class e extends o{constructor(){super(...arguments);this.flag=""}};u(c,"FlaggableMixinClass"),M([k],c.prototype,"flag",2);let h=c;return h}u(Gf,"FlaggableMixin");var sr="top",lr="bottom",cr="right",pr="left",dr="auto",hr=[sr,lr,cr,pr],fr="start",gr="end",br="clippingParents",yr="viewport",wr="popper",Er="reference",Cr=hr.reduce((function(o,c){return o.concat([c+"-"+fr,c+"-"+gr])}),[]),Or=[].concat(hr,[dr]).reduce((function(o,c){return o.concat([c,c+"-"+fr,c+"-"+gr])}),[]),kr="beforeRead",Ar="read",Rr="afterRead",Dr="beforeMain",Lr="main",Gr="afterMain",Hr="beforeWrite",Br="write",qr="afterWrite",Fr=[kr,Ar,Rr,Dr,Lr,Gr,Hr,Br,qr];function bt(o){return o?(o.nodeName||"").toLowerCase():null}u(bt,"getNodeName");function ot(o){if(o==null)return window;if(o.toString()!=="[object Window]"){var c=o.ownerDocument;return c&&c.defaultView||window}return o}u(ot,"getWindow");function $r(o){var c=ot(o).Element;return o instanceof c||o instanceof Element}u($r,"isElement");function vt(o){var c=ot(o).HTMLElement;return o instanceof c||o instanceof HTMLElement}u(vt,"isHTMLElement");function Xs(o){if(typeof ShadowRoot=="undefined")return!1;var c=ot(o).ShadowRoot;return o instanceof c||o instanceof ShadowRoot}u(Xs,"isShadowRoot");function py(o){var c=o.state;Object.keys(c.elements).forEach((function(o){var h=c.styles[o]||{},b=c.attributes[o]||{},S=c.elements[o];!vt(S)||!bt(S)||(Object.assign(S.style,h),Object.keys(b).forEach((function(o){var c=b[o];c===!1?S.removeAttribute(o):S.setAttribute(o,c===!0?"":c)})))}))}u(py,"applyStyles");function dy(o){var c=o.state,h={popper:{position:c.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(c.elements.popper.style,h.popper),c.styles=h,c.elements.arrow&&Object.assign(c.elements.arrow.style,h.arrow),function(){Object.keys(c.elements).forEach((function(o){var b=c.elements[o],S=c.attributes[o]||{},P=Object.keys(c.styles.hasOwnProperty(o)?c.styles[o]:h[o]),I=P.reduce((function(o,c){return o[c]="",o}),{});!vt(b)||!bt(b)||(Object.assign(b.style,I),Object.keys(S).forEach((function(o){b.removeAttribute(o)})))}))}}u(dy,"effect");var Ur={name:"applyStyles",enabled:!0,phase:"write",fn:py,effect:dy,requires:["computeStyles"]};function yt(o){return o.split("-")[0]}u(yt,"getBasePlacement");var Wr=Math.max,Zr=Math.min,Jr=Math.round;function Sr(o,c){c===void 0&&(c=!1);var h=o.getBoundingClientRect(),b=1,S=1;if(vt(o)&&c){var P=o.offsetHeight,I=o.offsetWidth;I>0&&(b=Jr(h.width)/I||1),P>0&&(S=Jr(h.height)/P||1)}return{width:h.width/b,height:h.height/S,top:h.top/S,right:h.right/b,bottom:h.bottom/S,left:h.left/b,x:h.left/b,y:h.top/S}}u(Sr,"getBoundingClientRect");function ci(o){var c=Sr(o),h=o.offsetWidth,b=o.offsetHeight;return Math.abs(c.width-h)<=1&&(h=c.width),Math.abs(c.height-b)<=1&&(b=c.height),{x:o.offsetLeft,y:o.offsetTop,width:h,height:b}}u(ci,"getLayoutRect");function Ko(o,c){var h=c.getRootNode&&c.getRootNode();if(o.contains(c))return!0;if(h&&Xs(h)){var b=c;do{if(b&&o.isSameNode(b))return!0;b=b.parentNode||b.host}while(b)}return!1}u(Ko,"contains");function Gt(o){return ot(o).getComputedStyle(o)}u(Gt,"getComputedStyle");function Vu(o){return["table","td","th"].indexOf(bt(o))>=0}u(Vu,"isTableElement");function Ct(o){return(($r(o)?o.ownerDocument:o.document)||window.document).documentElement}u(Ct,"getDocumentElement");function un(o){return bt(o)==="html"?o:o.assignedSlot||o.parentNode||(Xs(o)?o.host:null)||Ct(o)}u(un,"getParentNode");function Bf(o){return vt(o)&&Gt(o).position!=="fixed"?o.offsetParent:null}u(Bf,"getTrueOffsetParent");function fy(o){var c=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,h=navigator.userAgent.indexOf("Trident")!==-1;if(h&&vt(o)){var b=Gt(o);if(b.position==="fixed")return null}for(var S=un(o);vt(S)&&["html","body"].indexOf(bt(S))<0;){var P=Gt(S);if(P.transform!=="none"||P.perspective!=="none"||P.contain==="paint"||["transform","perspective"].indexOf(P.willChange)!==-1||c&&P.willChange==="filter"||c&&P.filter&&P.filter!=="none")return S;S=S.parentNode}return null}u(fy,"getContainingBlock");function Pr(o){for(var c=ot(o),h=Bf(o);h&&Vu(h)&&Gt(h).position==="static";)h=Bf(h);return h&&(bt(h)==="html"||bt(h)==="body"&&Gt(h).position==="static")?c:h||fy(o)||c}u(Pr,"getOffsetParent");function pi(o){return["top","bottom"].indexOf(o)>=0?"x":"y"}u(pi,"getMainAxisFromPlacement");function di(o,c,h){return Wr(o,Zr(c,h))}u(di,"within");function qf(o,c,h){var b=di(o,c,h);return b>h?h:b}u(qf,"withinMaxClamp");function Jo(){return{top:0,right:0,bottom:0,left:0}}u(Jo,"getFreshSideObject");function Qo(o){return Object.assign({},Jo(),o)}u(Qo,"mergePaddingObject");function ea(o,c){return c.reduce((function(c,h){return c[h]=o,c}),{})}u(ea,"expandToHashMap");var Qr=u((function(o,c){return o=typeof o=="function"?o(Object.assign({},c.rects,{placement:c.placement})):o,Qo(typeof o!="number"?o:ea(o,hr))}),"toPaddingObject");function my(o){var c,h=o.state,b=o.name,S=o.options,P=h.elements.arrow,I=h.modifiersData.popperOffsets,A=yt(h.placement),z=pi(A),R=[pr,cr].indexOf(A)>=0,D=R?"height":"width";if(!(!P||!I)){var L=Qr(S.padding,h),G=ci(P),$=z==="y"?sr:pr,B=z==="y"?lr:cr,F=h.rects.reference[D]+h.rects.reference[z]-I[z]-h.rects.popper[D],V=I[z]-h.rects.reference[z],W=Pr(P),Z=W?z==="y"?W.clientHeight||0:W.clientWidth||0:0,Q=F/2-V/2,et=L[$],nt=Z-G[D]-L[B],it=Z/2-G[D]/2+Q,at=di(et,it,nt),lt=z;h.modifiersData[b]=(c={},c[lt]=at,c.centerOffset=at-it,c)}}u(my,"arrow");function vy(o){var c=o.state,h=o.options,b=h.element,S=b===void 0?"[data-popper-arrow]":b;S!=null&&(typeof S=="string"&&(S=c.elements.popper.querySelector(S),!S)||Ko(c.elements.popper,S)&&(c.elements.arrow=S))}u(vy,"effect");var no={name:"arrow",enabled:!0,phase:"main",fn:my,effect:vy,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Tr(o){return o.split("-")[1]}u(Tr,"getVariation");var io={top:"auto",right:"auto",bottom:"auto",left:"auto"};function by(o){var c=o.x,h=o.y,b=window,S=b.devicePixelRatio||1;return{x:Jr(c*S)/S||0,y:Jr(h*S)/S||0}}u(by,"roundOffsetsByDPR");function Uf(o){var c,h=o.popper,b=o.popperRect,S=o.placement,P=o.variation,I=o.offsets,A=o.position,z=o.gpuAcceleration,R=o.adaptive,D=o.roundOffsets,L=o.isFixed,G=I.x,$=G===void 0?0:G,B=I.y,F=B===void 0?0:B,V=typeof D=="function"?D({x:$,y:F}):{x:$,y:F};$=V.x,F=V.y;var W=I.hasOwnProperty("x"),Z=I.hasOwnProperty("y"),Q=pr,et=sr,nt=window;if(R){var it=Pr(h),at="clientHeight",lt="clientWidth";if(it===ot(h)&&(it=Ct(h),Gt(it).position!=="static"&&A==="absolute"&&(at="scrollHeight",lt="scrollWidth")),it,S===sr||(S===pr||S===cr)&&P===gr){et=lr;var ct=L&&nt.visualViewport?nt.visualViewport.height:it[at];F-=ct-b.height,F*=z?1:-1}if(S===pr||(S===sr||S===lr)&&P===gr){Q=cr;var pt=L&&nt.visualViewport?nt.visualViewport.width:it[lt];$-=pt-b.width,$*=z?1:-1}}var dt=Object.assign({position:A},R&&io),mt=D===!0?by({x:$,y:F}):{x:$,y:F};if($=mt.x,F=mt.y,z){var wt;return Object.assign({},dt,(wt={},wt[et]=Z?"0":"",wt[Q]=W?"0":"",wt.transform=(nt.devicePixelRatio||1)<=1?"translate("+$+"px, "+F+"px)":"translate3d("+$+"px, "+F+"px, 0)",wt))}return Object.assign({},dt,(c={},c[et]=Z?F+"px":"",c[Q]=W?$+"px":"",c.transform="",c))}u(Uf,"mapToStyles");function yy(o){var c=o.state,h=o.options,b=h.gpuAcceleration,S=b===void 0||b,P=h.adaptive,I=P===void 0||P,A=h.roundOffsets,z=A===void 0||A;!1;var R={placement:yt(c.placement),variation:Tr(c.placement),popper:c.elements.popper,popperRect:c.rects.popper,gpuAcceleration:S,isFixed:c.options.strategy==="fixed"};c.modifiersData.popperOffsets!=null&&(c.styles.popper=Object.assign({},c.styles.popper,Uf(Object.assign({},R,{offsets:c.modifiersData.popperOffsets,position:c.options.strategy,adaptive:I,roundOffsets:z})))),c.modifiersData.arrow!=null&&(c.styles.arrow=Object.assign({},c.styles.arrow,Uf(Object.assign({},R,{offsets:c.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:z})))),c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-placement":c.placement})}u(yy,"computeStyles");var ro={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:yy,data:{}};var so={passive:!0};function wy(o){var c=o.state,h=o.instance,b=o.options,S=b.scroll,P=S===void 0||S,I=b.resize,A=I===void 0||I,z=ot(c.elements.popper),R=[].concat(c.scrollParents.reference,c.scrollParents.popper);return P&&R.forEach((function(o){o.addEventListener("scroll",h.update,so)})),A&&z.addEventListener("resize",h.update,so),function(){P&&R.forEach((function(o){o.removeEventListener("scroll",h.update,so)})),A&&z.removeEventListener("resize",h.update,so)}}u(wy,"effect");var co={name:"eventListeners",enabled:!0,phase:"write",fn:u((function(){}),"fn"),effect:wy,data:{}};var uo={left:"right",right:"left",bottom:"top",top:"bottom"};function Qi(o){return o.replace(/left|right|bottom|top/g,(function(o){return uo[o]}))}u(Qi,"getOppositePlacement");var po={start:"end",end:"start"};function Ks(o){return o.replace(/start|end/g,(function(o){return po[o]}))}u(Ks,"getOppositeVariationPlacement");function fi(o){var c=ot(o),h=c.pageXOffset,b=c.pageYOffset;return{scrollLeft:h,scrollTop:b}}u(fi,"getWindowScroll");function hi(o){return Sr(Ct(o)).left+fi(o).scrollLeft}u(hi,"getWindowScrollBarX");function Yu(o){var c=ot(o),h=Ct(o),b=c.visualViewport,S=h.clientWidth,P=h.clientHeight,I=0,A=0;return b&&(S=b.width,P=b.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(I=b.offsetLeft,A=b.offsetTop)),{width:S,height:P,x:I+hi(o),y:A}}u(Yu,"getViewportRect");function Xu(o){var c,h=Ct(o),b=fi(o),S=(c=o.ownerDocument)==null?void 0:c.body,P=Wr(h.scrollWidth,h.clientWidth,S?S.scrollWidth:0,S?S.clientWidth:0),I=Wr(h.scrollHeight,h.clientHeight,S?S.scrollHeight:0,S?S.clientHeight:0),A=-b.scrollLeft+hi(o),z=-b.scrollTop;return Gt(S||h).direction==="rtl"&&(A+=Wr(h.clientWidth,S?S.clientWidth:0)-P),{width:P,height:I,x:A,y:z}}u(Xu,"getDocumentRect");function mi(o){var c=Gt(o),h=c.overflow,b=c.overflowX,S=c.overflowY;return/auto|scroll|overlay|hidden/.test(h+S+b)}u(mi,"isScrollParent");function Js(o){return["html","body","#document"].indexOf(bt(o))>=0?o.ownerDocument.body:vt(o)&&mi(o)?o:Js(un(o))}u(Js,"getScrollParent");function kn(o,c){var h;c===void 0&&(c=[]);var b=Js(o),S=b===((h=o.ownerDocument)==null?void 0:h.body),P=ot(b),I=S?[P].concat(P.visualViewport||[],mi(b)?b:[]):b,A=c.concat(I);return S?A:A.concat(kn(un(I)))}u(kn,"listScrollParents");function eo(o){return Object.assign({},o,{left:o.x,top:o.y,right:o.x+o.width,bottom:o.y+o.height})}u(eo,"rectToClientRect");function Sy(o){var c=Sr(o);return c.top=c.top+o.clientTop,c.left=c.left+o.clientLeft,c.bottom=c.top+o.clientHeight,c.right=c.left+o.clientWidth,c.width=o.clientWidth,c.height=o.clientHeight,c.x=c.left,c.y=c.top,c}u(Sy,"getInnerBoundingClientRect");function Yf(o,c){return c===yr?eo(Yu(o)):$r(c)?Sy(c):eo(Xu(Ct(o)))}u(Yf,"getClientRectFromMixedType");function Ty(o){var c=kn(un(o)),h=["absolute","fixed"].indexOf(Gt(o).position)>=0,b=h&&vt(o)?Pr(o):o;return $r(b)?c.filter((function(o){return $r(o)&&Ko(o,b)&&bt(o)!=="body"})):[]}u(Ty,"getClippingParents");function Zu(o,c,h){var b=c==="clippingParents"?Ty(o):[].concat(c),S=[].concat(b,[h]),P=S[0],I=S.reduce((function(c,h){var b=Yf(o,h);return c.top=Wr(b.top,c.top),c.right=Zr(b.right,c.right),c.bottom=Zr(b.bottom,c.bottom),c.left=Wr(b.left,c.left),c}),Yf(o,P));return I.width=I.right-I.left,I.height=I.bottom-I.top,I.x=I.left,I.y=I.top,I}u(Zu,"getClippingRect");function ta(o){var c,h=o.reference,b=o.element,S=o.placement,P=S?yt(S):null,I=S?Tr(S):null,A=h.x+h.width/2-b.width/2,z=h.y+h.height/2-b.height/2;switch(P){case sr:c={x:A,y:h.y-b.height};break;case lr:c={x:A,y:h.y+h.height};break;case cr:c={x:h.x+h.width,y:z};break;case pr:c={x:h.x-b.width,y:z};break;default:c={x:h.x,y:h.y}}var R=P?pi(P):null;if(R!=null){var D=R==="y"?"height":"width";switch(I){case fr:c[R]=c[R]-(h[D]/2-b[D]/2);break;case gr:c[R]=c[R]+(h[D]/2-b[D]/2);break;default:}}return c}u(ta,"computeOffsets");function zr(o,c){c===void 0&&(c={});var h=c,b=h.placement,S=b===void 0?o.placement:b,P=h.boundary,I=P===void 0?br:P,A=h.rootBoundary,z=A===void 0?yr:A,R=h.elementContext,D=R===void 0?wr:R,L=h.altBoundary,G=L!==void 0&&L,$=h.padding,B=$===void 0?0:$,F=Qo(typeof B!="number"?B:ea(B,hr)),V=D===wr?Er:wr,W=o.rects.popper,Z=o.elements[G?V:D],Q=Zu($r(Z)?Z:Z.contextElement||Ct(o.elements.popper),I,z),et=Sr(o.elements.reference),nt=ta({reference:et,element:W,strategy:"absolute",placement:S}),it=eo(Object.assign({},W,nt)),at=D===wr?it:et,lt={top:Q.top-at.top+F.top,bottom:at.bottom-Q.bottom+F.bottom,left:Q.left-at.left+F.left,right:at.right-Q.right+F.right},ct=o.modifiersData.offset;if(D===wr&&ct){var pt=ct[S];Object.keys(lt).forEach((function(o){var c=[cr,lr].indexOf(o)>=0?1:-1,h=[sr,lr].indexOf(o)>=0?"y":"x";lt[o]+=pt[h]*c}))}return lt}u(zr,"detectOverflow");function Ku(o,c){c===void 0&&(c={});var h=c,b=h.placement,S=h.boundary,P=h.rootBoundary,I=h.padding,A=h.flipVariations,z=h.allowedAutoPlacements,R=z===void 0?Or:z,D=Tr(b),L=D?A?Cr:Cr.filter((function(o){return Tr(o)===D})):hr,G=L.filter((function(o){return R.indexOf(o)>=0}));G.length===0&&(G=L);var $=G.reduce((function(c,h){return c[h]=zr(o,{placement:h,boundary:S,rootBoundary:P,padding:I})[yt(h)],c}),{});return Object.keys($).sort((function(o,c){return $[o]-$[c]}))}u(Ku,"computeAutoPlacement");function Cy(o){if(yt(o)===dr)return[];var c=Qi(o);return[Ks(o),c,Ks(c)]}u(Cy,"getExpandedFallbackPlacements");function Oy(o){var c=o.state,h=o.options,b=o.name;if(!c.modifiersData[b]._skip){for(var S=h.mainAxis,P=S===void 0||S,I=h.altAxis,A=I===void 0||I,z=h.fallbackPlacements,R=h.padding,D=h.boundary,L=h.rootBoundary,G=h.altBoundary,$=h.flipVariations,B=$===void 0||$,F=h.allowedAutoPlacements,V=c.options.placement,W=yt(V),Z=W===V,Q=z||(Z||!B?[Qi(V)]:Cy(V)),et=[V].concat(Q).reduce((function(o,h){return o.concat(yt(h)===dr?Ku(c,{placement:h,boundary:D,rootBoundary:L,padding:R,flipVariations:B,allowedAutoPlacements:F}):h)}),[]),nt=c.rects.reference,it=c.rects.popper,at=new Map,lt=!0,ct=et[0],pt=0;pt<et.length;pt++){var dt=et[pt],mt=yt(dt),wt=Tr(dt)===fr,Et=[sr,lr].indexOf(mt)>=0,kt=Et?"width":"height",Pt=zr(c,{placement:dt,boundary:D,rootBoundary:L,altBoundary:G,padding:R}),It=Et?wt?cr:pr:wt?lr:sr;nt[kt]>it[kt]&&(It=Qi(It));var At=Qi(It),zt=[];if(P&&zt.push(Pt[mt]<=0),A&&zt.push(Pt[It]<=0,Pt[At]<=0),zt.every((function(o){return o}))){ct=dt,lt=!1;break}at.set(dt,zt)}if(lt)for(var Rt=B?3:1,Dt=u((function(o){var c=et.find((function(c){var h=at.get(c);if(h)return h.slice(0,o).every((function(o){return o}))}));if(c)return ct=c,"break"}),"_loop"),jt=Rt;jt>0;jt--){var Lt=Dt(jt);if(Lt==="break")break}c.placement!==ct&&(c.modifiersData[b]._skip=!0,c.placement=ct,c.reset=!0)}}u(Oy,"flip");var fo={name:"flip",enabled:!0,phase:"main",fn:Oy,requiresIfExists:["offset"],data:{_skip:!1}};function Zf(o,c,h){return h===void 0&&(h={x:0,y:0}),{top:o.top-c.height-h.y,right:o.right-c.width+h.x,bottom:o.bottom-c.height+h.y,left:o.left-c.width-h.x}}u(Zf,"getSideOffsets");function Kf(o){return[sr,cr,lr,pr].some((function(c){return o[c]>=0}))}u(Kf,"isAnySideFullyClipped");function My(o){var c=o.state,h=o.name,b=c.rects.reference,S=c.rects.popper,P=c.modifiersData.preventOverflow,I=zr(c,{elementContext:"reference"}),A=zr(c,{altBoundary:!0}),z=Zf(I,b),R=Zf(A,S,P),D=Kf(z),L=Kf(R);c.modifiersData[h]={referenceClippingOffsets:z,popperEscapeOffsets:R,isReferenceHidden:D,hasPopperEscaped:L},c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-reference-hidden":D,"data-popper-escaped":L})}u(My,"hide");var go={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:My};function Iy(o,c,h){var b=yt(o),S=[pr,sr].indexOf(b)>=0?-1:1,P=typeof h=="function"?h(Object.assign({},c,{placement:o})):h,I=P[0],A=P[1];return I=I||0,A=(A||0)*S,[pr,cr].indexOf(b)>=0?{x:A,y:I}:{x:I,y:A}}u(Iy,"distanceAndSkiddingToXY");function Ay(o){var c=o.state,h=o.options,b=o.name,S=h.offset,P=S===void 0?[0,0]:S,I=Or.reduce((function(o,h){return o[h]=Iy(h,c.rects,P),o}),{}),A=I[c.placement],z=A.x,R=A.y;c.modifiersData.popperOffsets!=null&&(c.modifiersData.popperOffsets.x+=z,c.modifiersData.popperOffsets.y+=R),c.modifiersData[b]=I}u(Ay,"offset");var mo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ay};function Py(o){var c=o.state,h=o.name;c.modifiersData[h]=ta({reference:c.rects.reference,element:c.rects.popper,strategy:"absolute",placement:c.placement})}u(Py,"popperOffsets");var yo={name:"popperOffsets",enabled:!0,phase:"read",fn:Py,data:{}};function Ju(o){return o==="x"?"y":"x"}u(Ju,"getAltAxis");function zy(o){var c=o.state,h=o.options,b=o.name,S=h.mainAxis,P=S===void 0||S,I=h.altAxis,A=I!==void 0&&I,z=h.boundary,R=h.rootBoundary,D=h.altBoundary,L=h.padding,G=h.tether,$=G===void 0||G,B=h.tetherOffset,F=B===void 0?0:B,V=zr(c,{boundary:z,rootBoundary:R,padding:L,altBoundary:D}),W=yt(c.placement),Z=Tr(c.placement),Q=!Z,et=pi(W),nt=Ju(et),it=c.modifiersData.popperOffsets,at=c.rects.reference,lt=c.rects.popper,ct=typeof F=="function"?F(Object.assign({},c.rects,{placement:c.placement})):F,pt=typeof ct=="number"?{mainAxis:ct,altAxis:ct}:Object.assign({mainAxis:0,altAxis:0},ct),dt=c.modifiersData.offset?c.modifiersData.offset[c.placement]:null,mt={x:0,y:0};if(it){if(P){var wt,Et=et==="y"?sr:pr,kt=et==="y"?lr:cr,Pt=et==="y"?"height":"width",It=it[et],At=It+V[Et],zt=It-V[kt],Rt=$?-lt[Pt]/2:0,Dt=Z===fr?at[Pt]:lt[Pt],jt=Z===fr?-lt[Pt]:-at[Pt],Lt=c.elements.arrow,$t=$&&Lt?ci(Lt):{width:0,height:0},Ht=c.modifiersData["arrow#persistent"]?c.modifiersData["arrow#persistent"].padding:Jo(),Bt=Ht[Et],qt=Ht[kt],Ft=di(0,at[Pt],$t[Pt]),Ut=Q?at[Pt]/2-Rt-Ft-Bt-pt.mainAxis:Dt-Ft-Bt-pt.mainAxis,Vt=Q?-at[Pt]/2+Rt+Ft+qt+pt.mainAxis:jt+Ft+qt+pt.mainAxis,Wt=c.elements.arrow&&Pr(c.elements.arrow),Yt=Wt?et==="y"?Wt.clientTop||0:Wt.clientLeft||0:0,Xt=(wt=dt==null?void 0:dt[et])!=null?wt:0,Kt=It+Ut-Xt-Yt,Zt=It+Vt-Xt,Qt=di($?Zr(At,Kt):At,It,$?Wr(zt,Zt):zt);it[et]=Qt,mt[et]=Qt-It}if(A){var ee,ne=et==="x"?sr:pr,ae=et==="x"?lr:cr,se=it[nt],le=nt==="y"?"height":"width",ce=se+V[ne],de=se-V[ae],ye=[sr,pr].indexOf(W)!==-1,xe=(ee=dt==null?void 0:dt[nt])!=null?ee:0,Se=ye?ce:se-at[le]-lt[le]-xe+pt.altAxis,Ce=ye?se+at[le]+lt[le]-xe-pt.altAxis:de,_e=$&&ye?qf(Se,se,Ce):di($?Se:ce,se,$?Ce:de);it[nt]=_e,mt[nt]=_e-se}c.modifiersData[b]=mt}}u(zy,"preventOverflow");var xo={name:"preventOverflow",enabled:!0,phase:"main",fn:zy,requiresIfExists:["offset"]};function Qu(o){return{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}}u(Qu,"getHTMLElementScroll");function ec(o){return o!==ot(o)&&vt(o)?Qu(o):fi(o)}u(ec,"getNodeScroll");function Ry(o){var c=o.getBoundingClientRect(),h=Jr(c.width)/o.offsetWidth||1,b=Jr(c.height)/o.offsetHeight||1;return h!==1||b!==1}u(Ry,"isElementScaled");function tc(o,c,h){h===void 0&&(h=!1);var b=vt(c),S=vt(c)&&Ry(c),P=Ct(c),I=Sr(o,S),A={scrollLeft:0,scrollTop:0},z={x:0,y:0};return(b||!b&&!h)&&((bt(c)!=="body"||mi(P))&&(A=ec(c)),vt(c)?(z=Sr(c,!0),z.x+=c.clientLeft,z.y+=c.clientTop):P&&(z.x=hi(P))),{x:I.left+A.scrollLeft-z.x,y:I.top+A.scrollTop-z.y,width:I.width,height:I.height}}u(tc,"getCompositeRect");function Dy(o){var c=new Map,h=new Set,b=[];o.forEach((function(o){c.set(o.name,o)}));function s(o){h.add(o.name);var S=[].concat(o.requires||[],o.requiresIfExists||[]);S.forEach((function(o){if(!h.has(o)){var b=c.get(o);b&&s(b)}})),b.push(o)}return u(s,"sort"),o.forEach((function(o){h.has(o.name)||s(o)})),b}u(Dy,"order");function rc(o){var c=Dy(o);return Fr.reduce((function(o,h){return o.concat(c.filter((function(o){return o.phase===h})))}),[])}u(rc,"orderModifiers");function nc(o){var c;return function(){return c||(c=new Promise((function(h){Promise.resolve().then((function(){c=void 0,h(o())}))}))),c}}u(nc,"debounce");function ic(o){var c=o.reduce((function(o,c){var h=o[c.name];return o[c.name]=h?Object.assign({},h,c,{options:Object.assign({},h.options,c.options),data:Object.assign({},h.data,c.data)}):c,o}),{});return Object.keys(c).map((function(o){return c[o]}))}u(ic,"mergeByName");var Eo={placement:"bottom",modifiers:[],strategy:"absolute"};function nh(){for(var o=arguments.length,c=new Array(o),h=0;h<o;h++)c[h]=arguments[h];return!c.some((function(o){return!(o&&typeof o.getBoundingClientRect=="function")}))}u(nh,"areValidElements");function ih(o){o===void 0&&(o={});var c=o,h=c.defaultModifiers,b=h===void 0?[]:h,S=c.defaultOptions,P=S===void 0?Eo:S;return u((function(o,c,h){h===void 0&&(h=P);var S={placement:"bottom",orderedModifiers:[],options:Object.assign({},Eo,P),modifiersData:{},elements:{reference:o,popper:c},attributes:{},styles:{}},I=[],A=!1,z={state:S,setOptions:u((function(h){var I=typeof h=="function"?h(S.options):h;C(),S.options=Object.assign({},P,S.options,I),S.scrollParents={reference:$r(o)?kn(o):o.contextElement?kn(o.contextElement):[],popper:kn(c)};var A=rc(ic([].concat(b,S.options.modifiers)));S.orderedModifiers=A.filter((function(o){return o.enabled})),!1;return T(),z.update()}),"setOptions"),forceUpdate:u((function(){if(!A){var o=S.elements,c=o.reference,h=o.popper;if(nh(c,h)){S.rects={reference:tc(c,Pr(h),S.options.strategy==="fixed"),popper:ci(h)},S.reset=!1,S.placement=S.options.placement,S.orderedModifiers.forEach((function(o){return S.modifiersData[o.name]=Object.assign({},o.data)}));for(var b=0;b<S.orderedModifiers.length;b++)if(S.reset!==!0){var P=S.orderedModifiers[b],I=P.fn,R=P.options,D=R===void 0?{}:R,L=P.name;typeof I=="function"&&(S=I({state:S,options:D,name:L,instance:z})||S)}else S.reset=!1,b=-1}}}),"forceUpdate"),update:nc((function(){return new Promise((function(o){z.forceUpdate(),o(S)}))})),destroy:u((function(){C(),A=!0}),"destroy")};if(!nh(o,c))return z;z.setOptions(h).then((function(o){!A&&h.onFirstUpdate&&h.onFirstUpdate(o)}));function T(){S.orderedModifiers.forEach((function(o){var c=o.name,h=o.options,b=h===void 0?{}:h,P=o.effect;if(typeof P=="function"){var A=P({state:S,name:c,instance:z,options:b}),R=u((function(){}),"noopFn");I.push(A||R)}}))}u(T,"runModifierEffects");function C(){I.forEach((function(o){return o()})),I=[]}return u(C,"cleanupModifierEffects"),z}),"createPopper")}u(ih,"popperGenerator");var So=[co,yo,ro,Ur,mo,fo,xo,no,go],Co=ih({defaultModifiers:So});var Oo="tippy-box",To="tippy-content",Po="tippy-backdrop",Io="tippy-arrow",Ao="tippy-svg-arrow",zo={passive:!0,capture:!0},Ro=u((function(){return document.body}),"TIPPY_DEFAULT_APPEND_TO");function ac(o,c,h){if(Array.isArray(o)){var b=o[c];return b==null?Array.isArray(h)?h[c]:h:b}return o}u(ac,"getValueAtIndexOrReturn");function dc(o,c){var h={}.toString.call(o);return h.indexOf("[object")===0&&h.indexOf(c+"]")>-1}u(dc,"isType");function bh(o,c){return typeof o=="function"?o.apply(void 0,c):o}u(bh,"invokeWithArgsOrReturn");function oh(o,c){return c===0?o:function(b){clearTimeout(h),h=setTimeout((function(){o(b)}),c)};var h}u(oh,"debounce");function Ly(o){return o.split(/\s+/).filter(Boolean)}u(Ly,"splitBySpaces");function to(o){return[].concat(o)}u(to,"normalizeToArray");function ah(o,c){o.indexOf(c)===-1&&o.push(c)}u(ah,"pushIfUnique");function Gy(o){return o.filter((function(c,h){return o.indexOf(c)===h}))}u(Gy,"unique");function jy(o){return o.split("-")[0]}u(jy,"getBasePlacement");function el(o){return[].slice.call(o)}u(el,"arrayFrom");function sh(o){return Object.keys(o).reduce((function(c,h){return o[h]!==void 0&&(c[h]=o[h]),c}),{})}u(sh,"removeUndefinedProps");function ra(){return document.createElement("div")}u(ra,"div");function tl(o){return["Element","Fragment"].some((function(c){return dc(o,c)}))}u(tl,"isElement");function Hy(o){return dc(o,"NodeList")}u(Hy,"isNodeList");function $y(o){return dc(o,"MouseEvent")}u($y,"isMouseEvent");function By(o){return!!(o&&o._tippy&&o._tippy.reference===o)}u(By,"isReferenceElement");function qy(o){return tl(o)?[o]:Hy(o)?el(o):Array.isArray(o)?o:el(document.querySelectorAll(o))}u(qy,"getArrayOfElements");function sc(o,c){o.forEach((function(o){o&&(o.style.transitionDuration=c+"ms")}))}u(sc,"setTransitionDuration");function lh(o,c){o.forEach((function(o){o&&o.setAttribute("data-state",c)}))}u(lh,"setVisibilityState");function Fy(o){var c,h=to(o),b=h[0];return b!=null&&(c=b.ownerDocument)!=null&&c.body?b.ownerDocument:document}u(Fy,"getOwnerDocument");function Uy(o,c){var h=c.clientX,b=c.clientY;return o.every((function(o){var c=o.popperRect,S=o.popperState,P=o.props,I=P.interactiveBorder,A=jy(S.placement),z=S.modifiersData.offset;if(!z)return!0;var R=A==="bottom"?z.top.y:0,D=A==="top"?z.bottom.y:0,L=A==="right"?z.left.x:0,G=A==="left"?z.right.x:0,$=c.top-b+R>I,B=b-c.bottom-D>I,F=c.left-h+L>I,V=h-c.right-G>I;return $||B||F||V}))}u(Uy,"isCursorOutsideInteractiveBorder");function lc(o,c,h){var b=c+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(c){o[b](c,h)}))}u(lc,"updateTransitionEndListener");function uh(o,c){for(var h=c;h;){var b;if(o.contains(h))return!0;h=h.getRootNode==null||(b=h.getRootNode())==null?void 0:b.host}return!1}u(uh,"actualContains");var Do={isTouch:!1},Ho=0;function Wy(){Do.isTouch||(Do.isTouch=!0,window.performance&&document.addEventListener("mousemove",yh))}u(Wy,"onDocumentTouchStart");function yh(){var o=performance.now();o-Ho<20&&(Do.isTouch=!1,document.removeEventListener("mousemove",yh)),Ho=o}u(yh,"onDocumentMouseMove");function Vy(){var o=document.activeElement;if(By(o)){var c=o._tippy;o.blur&&!c.state.isVisible&&o.blur()}}u(Vy,"onWindowBlur");function Yy(){document.addEventListener("touchstart",Wy,zo),window.addEventListener("blur",Vy)}u(Yy,"bindGlobalEventListeners");var qo=typeof window!="undefined"&&typeof document!="undefined",Fo=!!qo&&!!window.msCrypto;var Uo={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Vo={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Wo=Object.assign({appendTo:Ro,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:u((function(){}),"onAfterUpdate"),onBeforeUpdate:u((function(){}),"onBeforeUpdate"),onCreate:u((function(){}),"onCreate"),onDestroy:u((function(){}),"onDestroy"),onHidden:u((function(){}),"onHidden"),onHide:u((function(){}),"onHide"),onMount:u((function(){}),"onMount"),onShow:u((function(){}),"onShow"),onShown:u((function(){}),"onShown"),onTrigger:u((function(){}),"onTrigger"),onUntrigger:u((function(){}),"onUntrigger"),onClickOutside:u((function(){}),"onClickOutside"),placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Uo,Vo),Yo=Object.keys(Wo),Xo=u((function(o){var c=Object.keys(o);c.forEach((function(c){Wo[c]=o[c]}))}),"setDefaultProps");function wh(o){var c=o.plugins||[],h=c.reduce((function(c,h){var b=h.name,S=h.defaultValue;if(b){var P;c[b]=o[b]!==void 0?o[b]:(P=Wo[b])!=null?P:S}return c}),{});return Object.assign({},o,h)}u(wh,"getExtendedPassedProps");function t0(o,c){var h=c?Object.keys(wh(Object.assign({},Wo,{plugins:c}))):Yo,b=h.reduce((function(c,h){var b=(o.getAttribute("data-tippy-"+h)||"").trim();if(!b)return c;if(h==="content")c[h]=b;else try{c[h]=JSON.parse(b)}catch(o){c[h]=b}return c}),{});return b}u(t0,"getDataAttributeProps");function ph(o,c){var h=Object.assign({},c,{content:bh(c.content,[o])},c.ignoreAttributes?{}:t0(o,c.plugins));return h.aria=Object.assign({},Wo.aria,h.aria),h.aria={expanded:h.aria.expanded==="auto"?c.interactive:h.aria.expanded,content:h.aria.content==="auto"?c.interactive?null:"describedby":h.aria.content},h}u(ph,"evaluateProps");var Zo=u((function(){return"innerHTML"}),"innerHTML");function cc(o,c){o[Zo()]=c}u(cc,"dangerouslySetInnerHTML");function dh(o){var c=ra();return o===!0?c.className=Io:(c.className=Ao,tl(o)?c.appendChild(o):cc(c,o)),c}u(dh,"createArrowElement");function fh(o,c){tl(c.content)?(cc(o,""),o.appendChild(c.content)):typeof c.content!="function"&&(c.allowHTML?cc(o,c.content):o.textContent=c.content)}u(fh,"setContent");function pc(o){var c=o.firstElementChild,h=el(c.children);return{box:c,content:h.find((function(o){return o.classList.contains(To)})),arrow:h.find((function(o){return o.classList.contains(Io)||o.classList.contains(Ao)})),backdrop:h.find((function(o){return o.classList.contains(Po)}))}}u(pc,"getChildren");function xh(o){var c=ra(),h=ra();h.className=Oo,h.setAttribute("data-state","hidden"),h.setAttribute("tabindex","-1");var b=ra();b.className=To,b.setAttribute("data-state","hidden"),fh(b,o.props),c.appendChild(h),h.appendChild(b),s(o.props,o.props);function s(h,b){var S=pc(c),P=S.box,I=S.content,A=S.arrow;b.theme?P.setAttribute("data-theme",b.theme):P.removeAttribute("data-theme"),typeof b.animation=="string"?P.setAttribute("data-animation",b.animation):P.removeAttribute("data-animation"),b.inertia?P.setAttribute("data-inertia",""):P.removeAttribute("data-inertia"),P.style.maxWidth=typeof b.maxWidth=="number"?b.maxWidth+"px":b.maxWidth,b.role?P.setAttribute("role",b.role):P.removeAttribute("role"),(h.content!==b.content||h.allowHTML!==b.allowHTML)&&fh(I,o.props),b.arrow?A?h.arrow!==b.arrow&&(P.removeChild(A),P.appendChild(dh(b.arrow))):P.appendChild(dh(b.arrow)):A&&P.removeChild(A)}return u(s,"onUpdate"),{popper:c,onUpdate:s}}u(xh,"render");xh.$$tippy=!0;var ia=1,la=[],pa=[];function i0(o,c){var h,b,S,P,I,A,z,R=ph(o,Object.assign({},Wo,wh(sh(c)))),D=!1,L=!1,G=!1,$=!1,B=[],F=oh(Ln,R.interactiveDebounce),V=ia++,W=null,Z=Gy(R.plugins),Q={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},et={id:V,reference:o,popper:ra(),popperInstance:W,props:R,state:Q,plugins:Z,clearDelayTimeouts:Hn,setProps:hn,setContent:$n,show:oo,hide:ao,hideWithInteractivity:ga,enable:jn,disable:Xr,unmount:ba,destroy:gl};if(!R.render)return et;var nt=R.render(et),it=nt.popper,at=nt.onUpdate;it.setAttribute("data-tippy-root",""),it.id="tippy-"+et.id,et.popper=it,o._tippy=et,it._tippy=et;var lt=Z.map((function(o){return o.fn(et)})),ct=o.hasAttribute("aria-expanded");return Vr(),Je(),ze(),Ae("onCreate",[et]),R.showOnCreate&&_r(),it.addEventListener("mouseenter",(function(){et.props.interactive&&et.state.isVisible&&et.clearDelayTimeouts()})),it.addEventListener("mouseleave",(function(){et.props.interactive&&et.props.trigger.indexOf("mouseenter")>=0&&oe().addEventListener("mousemove",F)})),et;function ue(){var o=et.props.touch;return Array.isArray(o)?o:[o,0]}function K(){return ue()[0]==="hold"}function ie(){var o;return!!((o=et.props.render)!=null&&o.$$tippy)}function q(){return z||o}function oe(){var o=q().parentNode;return o?Fy(o):document}function tt(){return pc(it)}function Ze(o){return et.state.isMounted&&!et.state.isVisible||Do.isTouch||P&&P.type==="focus"?0:ac(et.props.delay,o?0:1,Wo.delay)}function ze(o){o===void 0&&(o=!1),it.style.pointerEvents=et.props.interactive&&!o?"":"none",it.style.zIndex=""+et.props.zIndex}function Ae(o,c,h){if(h===void 0&&(h=!0),lt.forEach((function(h){h[o]&&h[o].apply(h,c)})),h){var b;(b=et.props)[o].apply(b,c)}}function We(){var c=et.props.aria;if(c.content){var h="aria-"+c.content,b=it.id,S=to(et.props.triggerTarget||o);S.forEach((function(o){var c=o.getAttribute(h);if(et.state.isVisible)o.setAttribute(h,c?c+" "+b:b);else{var S=c&&c.replace(b,"").trim();S?o.setAttribute(h,S):o.removeAttribute(h)}}))}}function Je(){if(!(ct||!et.props.aria.expanded)){var c=to(et.props.triggerTarget||o);c.forEach((function(o){et.props.interactive?o.setAttribute("aria-expanded",et.state.isVisible&&o===q()?"true":"false"):o.removeAttribute("aria-expanded")}))}}function Ye(){oe().removeEventListener("mousemove",F),la=la.filter((function(o){return o!==F}))}function J(c){if(!(Do.isTouch&&(G||c.type==="mousedown"))){var h=c.composedPath&&c.composedPath()[0]||c.target;if(!(et.props.interactive&&uh(it,h))){if(to(et.props.triggerTarget||o).some((function(o){return uh(o,h)}))){if(Do.isTouch||et.state.isVisible&&et.props.trigger.indexOf("click")>=0)return}else Ae("onClickOutside",[et,c]);et.props.hideOnClick===!0&&(et.clearDelayTimeouts(),et.hide(),L=!0,setTimeout((function(){L=!1})),et.state.isMounted||mr())}}}function or(){G=!0}function je(){G=!1}function rt(){var o=oe();o.addEventListener("mousedown",J,!0),o.addEventListener("touchend",J,zo),o.addEventListener("touchstart",je,zo),o.addEventListener("touchmove",or,zo)}function mr(){var o=oe();o.removeEventListener("mousedown",J,!0),o.removeEventListener("touchend",J,zo),o.removeEventListener("touchstart",je,zo),o.removeEventListener("touchmove",or,zo)}function Mr(o,c){ar(o,(function(){!et.state.isVisible&&it.parentNode&&it.parentNode.contains(it)&&c()}))}function vr(o,c){ar(o,c)}function ar(o,c){var h=tt().box;function Re(o){o.target===h&&(lc(h,"remove",Re),c())}if(u(Re,"listener"),o===0)return c();lc(h,"remove",I),lc(h,"add",Re),I=Re}function Nr(c,h,b){b===void 0&&(b=!1);var S=to(et.props.triggerTarget||o);S.forEach((function(o){o.addEventListener(c,h,b),B.push({node:o,eventType:c,handler:h,options:b})}))}function Vr(){K()&&(Nr("touchstart",Pe,{passive:!0}),Nr("touchend",Gn,{passive:!0})),Ly(et.props.trigger).forEach((function(o){if(o!=="manual")switch(Nr(o,Pe),o){case"mouseenter":Nr("mouseleave",Gn);break;case"focus":Nr(Fo?"focusout":"blur",Nt);break;case"focusin":Nr("focusout",Nt);break}}))}function _n(){B.forEach((function(o){var c=o.node,h=o.eventType,b=o.handler,S=o.options;c.removeEventListener(h,b,S)})),B=[]}function Pe(o){var c,h=!1;if(!(!et.state.isEnabled||Yr(o)||L)){var b=((c=P)==null?void 0:c.type)==="focus";P=o,z=o.currentTarget,Je(),!et.state.isVisible&&$y(o)&&la.forEach((function(c){return c(o)})),o.type==="click"&&(et.props.trigger.indexOf("mouseenter")<0||D)&&et.props.hideOnClick!==!1&&et.state.isVisible?h=!0:_r(o),o.type==="click"&&(D=!h),h&&!b&&Jt(o)}}function Ln(o){var c=o.target,h=q().contains(c)||it.contains(c);if(!(o.type==="mousemove"&&h)){var b=Mt().concat(it).map((function(o){var c,h=o._tippy,b=(c=h.popperInstance)==null?void 0:c.state;return b?{popperRect:o.getBoundingClientRect(),popperState:b,props:R}:null})).filter(Boolean);Uy(b,o)&&(Ye(),Jt(o))}}function Gn(o){var c=Yr(o)||et.props.trigger.indexOf("click")>=0&&D;if(!c){if(et.props.interactive){et.hideWithInteractivity(o);return}Jt(o)}}function Nt(o){et.props.trigger.indexOf("focusin")<0&&o.target!==q()||et.props.interactive&&o.relatedTarget&&it.contains(o.relatedTarget)||Jt(o)}function Yr(o){return!!Do.isTouch&&K()!==o.type.indexOf("touch")>=0}function wi(){fn();var c=et.props,h=c.popperOptions,b=c.placement,S=c.offset,P=c.getReferenceClientRect,I=c.moveTransition,z=ie()?pc(it).arrow:null,R=P?{getBoundingClientRect:P,contextElement:P.contextElement||q()}:o,D={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:u((function(o){var c=o.state;if(ie()){var h=tt(),b=h.box;["placement","reference-hidden","escaped"].forEach((function(o){o==="placement"?b.setAttribute("data-placement",c.placement):c.attributes.popper["data-popper-"+o]?b.setAttribute("data-"+o,""):b.removeAttribute("data-"+o)})),c.attributes.popper={}}}),"fn")},L=[{name:"offset",options:{offset:S}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!I}},D];ie()&&z&&L.push({name:"arrow",options:{element:z,padding:3}}),L.push.apply(L,(h==null?void 0:h.modifiers)||[]),et.popperInstance=Co(R,it,Object.assign({},h,{placement:b,onFirstUpdate:A,modifiers:L}))}function fn(){et.popperInstance&&(et.popperInstance.destroy(),et.popperInstance=null)}function Ir(){var o,c=et.props.appendTo,h=q();o=et.props.interactive&&c===Ro||c==="parent"?h.parentNode:bh(c,[h]),o.contains(it)||o.appendChild(it),et.state.isMounted=!0,wi()}function Mt(){return el(it.querySelectorAll("[data-tippy-root]"))}function _r(o){et.clearDelayTimeouts(),o&&Ae("onTrigger",[et,o]),rt();var c=Ze(!0),b=ue(),S=b[0],P=b[1];Do.isTouch&&S==="hold"&&P&&(c=P),c?h=setTimeout((function(){et.show()}),c):et.show()}function Jt(o){if(et.clearDelayTimeouts(),Ae("onUntrigger",[et,o]),et.state.isVisible){if(!(et.props.trigger.indexOf("mouseenter")>=0&&et.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(o.type)>=0&&D)){var c=Ze(!1);c?b=setTimeout((function(){et.state.isVisible&&et.hide()}),c):S=requestAnimationFrame((function(){et.hide()}))}}else mr()}function jn(){et.state.isEnabled=!0}function Xr(){et.hide(),et.state.isEnabled=!1}function Hn(){clearTimeout(h),clearTimeout(b),cancelAnimationFrame(S)}function hn(c){if(!et.state.isDestroyed){Ae("onBeforeUpdate",[et,c]),_n();var h=et.props,b=ph(o,Object.assign({},h,sh(c),{ignoreAttributes:!0}));et.props=b,Vr(),h.interactiveDebounce!==b.interactiveDebounce&&(Ye(),F=oh(Ln,b.interactiveDebounce)),h.triggerTarget&&!b.triggerTarget?to(h.triggerTarget).forEach((function(o){o.removeAttribute("aria-expanded")})):b.triggerTarget&&o.removeAttribute("aria-expanded"),Je(),ze(),at&&at(h,b),et.popperInstance&&(wi(),Mt().forEach((function(o){requestAnimationFrame(o._tippy.popperInstance.forceUpdate)}))),Ae("onAfterUpdate",[et,c])}}function $n(o){et.setProps({content:o})}function oo(){var o=et.state.isVisible,c=et.state.isDestroyed,h=!et.state.isEnabled,b=Do.isTouch&&!et.props.touch,S=ac(et.props.duration,0,Wo.duration);if(!(o||c||h||b)&&!q().hasAttribute("disabled")&&(Ae("onShow",[et],!1),et.props.onShow(et)!==!1)){if(et.state.isVisible=!0,ie()&&(it.style.visibility="visible"),ze(),rt(),et.state.isMounted||(it.style.transition="none"),ie()){var P=tt(),I=P.box,z=P.content;sc([I,z],0)}A=u((function(){var o;if(!(!et.state.isVisible||$)){if($=!0,it.offsetHeight,it.style.transition=et.props.moveTransition,ie()&&et.props.animation){var c=tt(),h=c.box,b=c.content;sc([h,b],S),lh([h,b],"visible")}We(),Je(),ah(pa,et),(o=et.popperInstance)==null||o.forceUpdate(),Ae("onMount",[et]),et.props.animation&&ie()&&vr(S,(function(){et.state.isShown=!0,Ae("onShown",[et])}))}}),"onFirstUpdate"),Ir()}}function ao(){var o=!et.state.isVisible,c=et.state.isDestroyed,h=!et.state.isEnabled,b=ac(et.props.duration,1,Wo.duration);if(!(o||c||h)&&(Ae("onHide",[et],!1),et.props.onHide(et)!==!1)){if(et.state.isVisible=!1,et.state.isShown=!1,$=!1,D=!1,ie()&&(it.style.visibility="hidden"),Ye(),mr(),ze(!0),ie()){var S=tt(),P=S.box,I=S.content;et.props.animation&&(sc([P,I],b),lh([P,I],"hidden"))}We(),Je(),et.props.animation?ie()&&Mr(b,et.unmount):et.unmount()}}function ga(o){oe().addEventListener("mousemove",F),ah(la,F),F(o)}function ba(){et.state.isVisible&&et.hide(),et.state.isMounted&&(fn(),Mt().forEach((function(o){o._tippy.unmount()})),it.parentNode&&it.parentNode.removeChild(it),pa=pa.filter((function(o){return o!==et})),et.state.isMounted=!1,Ae("onHidden",[et]))}function gl(){et.state.isDestroyed||(et.clearDelayTimeouts(),et.unmount(),_n(),delete o._tippy,et.state.isDestroyed=!0,Ae("onDestroy",[et]))}}u(i0,"createTippy");function na(o,c){c===void 0&&(c={});var h=Wo.plugins.concat(c.plugins||[]);Yy();var b=Object.assign({},c,{plugins:h}),S=qy(o);!1;var P=S.reduce((function(o,c){var h=c&&i0(c,b);return h&&o.push(h),o}),[]);return tl(o)?P[0]:P}u(na,"tippy");na.defaultProps=Wo;na.setDefaultProps=Xo;na.currentInput=Do;Object.assign({},Ur,{effect:u((function(o){var c=o.state,h={popper:{position:c.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(c.elements.popper.style,h.popper),c.styles=h,c.elements.arrow&&Object.assign(c.elements.arrow.style,h.arrow)}),"effect")});na.setDefaultProps({render:xh});var da=na;var ha=er(nt(),1);var fa=u((o=>typeof o=="object"&&o!==null&&typeof o.initHelp=="function"),"isHelpable");function ve(o){let c=class e extends o{constructor(){super(...arguments);this.help=!0;this.helpId="";this.debugHelpable=!1;this.helpableMachine=ht({id:"helpable",initial:"idle",states:{idle:{on:{INIT:{target:"initialized",actions:["init"]}}},initialized:{type:"compound",initial:"unknown",states:{unknown:{always:[{target:"enabled",cond:"isEnabled"},{target:"disabled",cond:"isDisabled"}]},enabled:{on:{SHOW:{target:"enabled",actions:["show"]},DISABLE:{target:"disabled",actions:["disable","destroy"]}}},disabled:{on:{ENABLE:{target:"enabled",actions:["init","enable"]}}}}}}},{guards:{isEnabled:()=>this.help,isDisabled:()=>!this.help},actions:{init:()=>{let o=this.helpContent;o!==null&&(this.popup=da(this,{allowHTML:!0,animation:!1,arrow:!0,delay:0,placement:"auto",theme:"tooltip",onShow(c){c.setContent(o)}}),this.addEventListener("mouseenter",this.showHelp))},show:()=>{this.popup.show()},enable:()=>{this.popup.enable(),this.help=!0},disable:()=>{var o;(o=this.popup)==null||o.disable(),this.help=!1},destroy:()=>{var o;(o=this.popup)==null||o.destroy()}}});this.helpableService=ut(this.helpableMachine).onTransition((o=>{this.debugHelpable&&console.log(`helpable: ${(0,ha.format)(o.value)}`)})).start()}initHelp(){this.helpableService.send("INIT")}showHelp(){this.helpableService.send("SHOW")}disableHelp(){this.helpableService.send("DISABLE")}get helpContent(){let o;o=this.helpId!==""?this.helpId:`${this.tagName.toLowerCase()}-help`;let c=document.getElementById(o);return c===null?null:c.content.cloneNode(!0)}};u(c,"HelpableMixinClass"),M([k],c.prototype,"help",2),M([k],c.prototype,"helpId",2),M([k],c.prototype,"debugHelpable",2);let h=c;return h}u(ve,"HelpableMixin");function pe(o){let c=class e extends o{constructor(){super(...arguments);this.hoverable=!1}};u(c,"HoverableMixinClass"),M([k],c.prototype,"hoverable",2);let h=c;return h}u(pe,"HoverableMixin");var va=new Map;function nl(o){if(va.has(o))return va.get(o);let c=o.length,h=0,b=0,S=0,P=[];for(let I=0;I<c;I+=1){let c=o[I],A=o[I+1],z=o[I-1];c==="{"&&A==="{"&&z!=="\\"?(S+=1,S===1&&(b=I),I+=1):c==="}"&&A==="}"&&z!=="\\"&&S&&(S-=1,S===0&&(b>h&&(P.push(Object.freeze({type:"string",start:h,end:b,value:o.slice(h,b)})),h=b),P.push(Object.freeze({type:"part",start:b,end:I+2,value:o.slice(h+2,I).trim()})),I+=1,h=I+1))}return h<c&&P.push(Object.freeze({type:"string",start:h,end:c,value:o.slice(h,c)})),va.set(o,Object.freeze(P)),va.get(o)}u(nl,"parse");var ma=new WeakMap,ya=new WeakMap,xa=class hc{constructor(o,c){this.expression=c,ma.set(this,o),o.updateParent("")}get attributeName(){return ma.get(this).attr.name}get attributeNamespace(){return ma.get(this).attr.namespaceURI}get value(){return ya.get(this)}set value(o){ya.set(this,o||""),ma.get(this).updateParent(o)}get element(){return ma.get(this).element}get booleanValue(){return ma.get(this).booleanValue}set booleanValue(o){ma.get(this).booleanValue=o}};u(xa,"AttributeTemplatePart");var Sa=xa,Ca=class mc{constructor(o,c){this.element=o,this.attr=c,this.partList=[]}get booleanValue(){return this.element.hasAttributeNS(this.attr.namespaceURI,this.attr.name)}set booleanValue(o){if(this.partList.length!==1)throw new DOMException("Operation not supported","NotSupportedError");this.partList[0].value=o?"":null}append(o){this.partList.push(o)}updateParent(o){if(this.partList.length===1&&o===null)this.element.removeAttributeNS(this.attr.namespaceURI,this.attr.name);else{let o=this.partList.map((o=>typeof o=="string"?o:o.value)).join("");this.element.setAttributeNS(this.attr.namespaceURI,this.attr.name,o)}}};u(Ca,"AttributeValueSetter");var Ta=Ca;var ka=new WeakMap,Pa=class vc{constructor(o,c){this.expression=c,ka.set(this,[o]),o.textContent=""}get value(){return ka.get(this).map((o=>o.textContent)).join("")}set value(o){this.replace(o)}get previousSibling(){return ka.get(this)[0].previousSibling}get nextSibling(){return ka.get(this)[ka.get(this).length-1].nextSibling}replace(...o){let c=o.map((o=>typeof o=="string"?new Text(o):o));c.length||c.push(new Text("")),ka.get(this)[0].before(...c);for(let o of ka.get(this))o.remove();ka.set(this,c)}};u(Pa,"NodeTemplatePart");var _a=Pa;function oa(o){return{processCallback(c,h,b){var S;if(!(typeof b!="object"||!b))for(let c of h)if(c.expression in b){let h=(S=b[c.expression])!==null&&S!==void 0?S:"";o(c,h)}}}}u(oa,"createProcessor");function aa(o,c){o.value=String(c)}u(aa,"processPropertyIdentity");function il(o,c){return typeof c=="boolean"&&o instanceof Sa&&typeof o.element[o.attributeName]=="boolean"&&(o.booleanValue=c,!0)}u(il,"processBooleanAttribute");var Aa=oa(aa);oa(((o,c)=>{il(o,c)||aa(o,c)}));function*a0(o){let c,h=o.ownerDocument.createTreeWalker(o,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,null,!1);for(;c=h.nextNode();)if(c instanceof Element&&c.hasAttributes())for(let o=0;o<c.attributes.length;o+=1){let h=c.attributes.item(o);if(h&&h.value.includes("{{")){let o=new Ta(c,h);for(let c of nl(h.value))if(c.type==="string")o.append(c.value);else{let h=new Sa(o,c.value);o.append(h),yield h}}}else if(c instanceof Text&&c.textContent&&c.textContent.includes("{{")){let o=nl(c.textContent);for(let h=0;h<o.length;h+=1){let b=o[h];b.end<c.textContent.length&&c.splitText(b.end),b.type==="part"&&(yield new _a(c,b.value));break}}}u(a0,"collectParts");var Na=new WeakMap,Ra=new WeakMap,Da=class sa extends DocumentFragment{constructor(o,c,h=Aa){var b,S;super(),Object.getPrototypeOf(this)!==sa.prototype&&Object.setPrototypeOf(this,sa.prototype),this.appendChild(o.content.cloneNode(!0)),Ra.set(this,Array.from(a0(this))),Na.set(this,h),(S=(b=Na.get(this)).createCallback)===null||S===void 0||S.call(b,this,Ra.get(this),c),Na.get(this).processCallback(this,Ra.get(this),c)}update(o){Na.get(this).processCallback(this,Ra.get(this),o)}};u(Da,"TemplateInstance");var ja=Da;var La=new WeakMap,$a=new WeakMap,Ha=new WeakMap,Ba=class ua{constructor(o,c,h){this.strings=o,this.values=c,this.processor=h}static setCSPTrustedTypesPolicy(o){ua.cspTrustedTypesPolicy=o}get template(){var o,c;if(La.has(this.strings))return La.get(this.strings);{let h=document.createElement("template"),b=this.strings.length-1,S=this.strings.reduce(((o,c,h)=>o+c+(h<b?`{{ ${h} }}`:"")),""),P=(c=(o=ua.cspTrustedTypesPolicy)===null||o===void 0?void 0:o.createHTML(S))!==null&&c!==void 0?c:S;return h.innerHTML=P,La.set(this.strings,h),h}}renderInto(o){let c=this.template;if($a.get(o)===c)Ha.get(o).update(this.values);else{$a.set(o,c);let h=new ja(c,this.values,this.processor);Ha.set(o,h),o instanceof _a?o.replace(...h.children):o.appendChild(h)}}};u(Ba,"TemplateResult");var qa=Ba;qa.cspTrustedTypesPolicy=null;function Y(o,c){o.renderInto(c)}u(Y,"render");var Ua=new WeakSet;function Mh(o){return Ua.has(o)}u(Mh,"isDirective");function Ih(o,c){return!!Mh(c)&&(c(o),!0)}u(Ih,"processDirective");function ca(o){return(...c)=>{let h=o(...c);return Ua.add(h),h}}u(ca,"directive");var Va=new WeakMap,Wa=class sl{constructor(o,c){this.element=o,this.type=c,this.element.addEventListener(this.type,this),Va.get(this.element).set(this.type,this)}set(o){typeof o=="function"?this.handleEvent=o.bind(this.element):typeof o=="object"&&typeof o.handleEvent=="function"?this.handleEvent=o.handleEvent.bind(o):(this.element.removeEventListener(this.type,this),Va.get(this.element).delete(this.type))}static for(o){Va.has(o.element)||Va.set(o.element,new Map);let c=o.attributeName.slice(2),h=Va.get(o.element);return h.has(c)?h.get(c):new sl(o.element,c)}};u(Wa,"EventHandler");var Ya=Wa;function Ah(o,c){return!!(o instanceof Sa&&o.attributeName.startsWith("on"))&&(Ya.for(o).set(c),o.element.removeAttributeNS(o.attributeNamespace,o.attributeName),!0)}u(Ah,"processEvent");function s0(o){return typeof o=="object"&&Symbol.iterator in o}u(s0,"isIterable");function Ph(o,c){if(!s0(c))return!1;if(o instanceof _a){let h=[];for(let o of c)if(o instanceof qa){let c=document.createDocumentFragment();o.renderInto(c),h.push(...c.childNodes)}else o instanceof DocumentFragment?h.push(...o.childNodes):h.push(String(o));return h.length&&o.replace(...h),!0}return o.value=Array.from(c).join(" "),!0}u(Ph,"processIterable");function zh(o,c){return c instanceof DocumentFragment&&o instanceof _a&&(c.childNodes.length&&o.replace(...c.childNodes),!0)}u(zh,"processDocumentFragment");function Rh(o,c){return c instanceof qa&&o instanceof _a&&(c.renderInto(o),!0)}u(Rh,"processSubTemplate");function ll(o,c){Ih(o,c)||il(o,c)||Ah(o,c)||Rh(o,c)||zh(o,c)||Ph(o,c)||aa(o,c)}u(ll,"processPart");var Qa=oa(ll);function U(o,...c){return new qa(o,c,Qa)}u(U,"html");var ts=new WeakMap;ca(((...o)=>c=>{ts.has(c)||ts.set(c,{i:o.length});let h=ts.get(c);for(let b=0;b<o.length;b+=1)o[b]instanceof Promise?Promise.resolve(o[b]).then((o=>{b<h.i&&(h.i=b,ll(c,o))})):b<=h.i&&(h.i=b,ll(c,o[b]))}));ca((o=>c=>{var h,b;if(!(c instanceof _a))return;let S=document.createElement("template"),P=(b=(h=qa.cspTrustedTypesPolicy)===null||h===void 0?void 0:h.createHTML(o))!==null&&b!==void 0?b:o;S.innerHTML=P;let I=document.importNode(S.content,!0);c.replace(...I.childNodes)}));function be(o){let c=class e extends o{iconHtml(o){return U`${this.iconStyle}
        <div id="icon" part="icon">${this.iconSvg(o)}</div>`}iconSvg(o){return U([o])}get iconStyle(){return U`<style>
        #icon {
          position: relative;
          width: 100%;
          height: 100%;
        }

        #icon > svg {
          position: absolute;
          bottom: 0px;
          left: 0px;
          right: 0px;
          top: 0px;
          height: 100%;
          width: 100%;
        }
      </style>`}};u(c,"IconableMixinClass");let h=c;return h}u(be,"IconableMixin");var es=u((o=>typeof o=="object"&&o!==null&&typeof o.if=="string"),"isIfable");function Ue(o){let c=class e extends o{constructor(){super(...arguments);this.if=""}};u(c,"IfableMixinClass"),M([k],c.prototype,"if",2);let h=c;return h}u(Ue,"IfableMixin");var ns=u((o=>typeof o=="object"&&o!==null&&typeof o.initMenu=="function"),"isMenuable");function ge(o){let c=class e extends o{initMenu(){this.menu||this.menuContent!==null&&(this.addEventListener("click",this.dispatchShowMenuEvent),this.menu=da(this,{allowHTML:!0,animation:!1,arrow:!1,content:this.menuContent,interactive:!0,appendTo:document.body,offset:[0,16],placement:"top",theme:"operation-menu",trigger:"manual",onShow:this.initMenuItems.bind(this),onHide:()=>{var o,c,h,b;(o=this.ifTooltip)==null||o.hide(),(c=this.angleTooltip)==null||c.hide(),(h=this.flagTooltip)==null||h.hide(),(b=this.deleteTooltip)==null||b.hide()}}))}showMenu(){this.menu.show()}hideMenu(){this.menu.hide()}destroyMenu(){this.menu.destroy()}dispatchShowMenuEvent(){fe("menuable:show-menu",{},this)}get menuContent(){let o=document.getElementById("operation-menu");if(o===null||o.content===void 0)return null;let c=o.content.cloneNode(!0),h=document.createDocumentFragment();return Y(U`${c}`,h),h}initMenuItems(o){if(es(o.reference)){let c=o.popper.querySelector("button[data-operation-menu-if]");ne.notNull(c),c.disabled=!1,this.ifTooltip=c._tippy,this.ifTooltip===void 0&&(this.ifTooltip=da(c,{animation:!1,content:"Set `if' Conditional"}),c.addEventListener("mousedown",this.showIfInspector.bind(this)))}if(dn(o.reference)){let c=o.popper.querySelector("button[data-operation-menu-angle]");ne.notNull(c),c.disabled=!1,this.angleTooltip=c._tippy,this.angleTooltip===void 0&&(this.angleTooltip=da(c,{animation:!1,content:"Change Angle"}),c.addEventListener("mousedown",this.showAngleInspector.bind(this)))}if(rr(o.reference)){let c=o.popper.querySelector("button[data-operation-menu-flag]");ne.notNull(c),c.disabled=!1,this.flagTooltip=c._tippy,this.flagTooltip===void 0&&(this.flagTooltip=da(c,{animation:!1,content:"Set Condifitonal Flag"}),c.addEventListener("mousedown",this.showFlagInspector.bind(this)))}let c=o.popper.querySelector("[data-operation-menu-delete]");ne.notNull(c),this.deleteTooltip=c._tippy,this.deleteTooltip===void 0&&(this.deleteTooltip=da(c,{animation:!1,content:"Delete"})),c.addEventListener("mousedown",this.destroyMenu.bind(this)),c.addEventListener("mousedown",this.dispatchOperationDeleteEvent.bind(this))}showIfInspector(){this.hideMenu(),fe("menuable:menu-if",{},this)}showAngleInspector(){this.hideMenu(),fe("menuable:menu-angle",{},this)}showFlagInspector(){this.hideMenu(),fe("menuable:menu-flag",{},this)}dispatchOperationDeleteEvent(){fe("menuable:menu-delete",{},this)}};u(c,"MenuableMixinClass");let h=c;return h}u(ge,"MenuableMixin");var is=er(nt(),1),rs=er(it(),1);var os=u((o=>o!=null&&typeof o.resizeable=="boolean"),"isResizeable");function pl(o){let c=class e extends o{constructor(){super(...arguments);this.span=1;this.resizeHandleX=0;this.resizeHandleY=0;this.debugResizeable=!1;this.resizing=!1;this.resizeableMachine=ht({id:"resizeable",initial:"idle",states:{idle:{entry:["init"],on:{SET_INTERACT:{target:"resizeHandleGrabbable",actions:["setInteract"]}}},resizeHandleGrabbable:{on:{GRAB_RESIZE_HANDLE:{target:"resizeHandleGrabbed",actions:["grabResizeHandle"]},UNSET_INTERACT:{target:"idle"}}},resizeHandleGrabbed:{on:{START_RESIZING:{target:"resizeStart",actions:["startResizing"]},RELEASE_RESIZE_HANDLE:{target:"resizeHandleGrabbable",actions:["releaseResizeHandle"]}}},resizeStart:{always:[{target:"resizing"}]},resizing:{on:{RESIZE_HANDLE_SNAP:{target:"resizing",actions:["emitResizeEvent"]},END_RESIZING:{target:"resizeEnd"}}},resizeEnd:{entry:["endResizing"],always:[{target:"resizeHandleGrabbable"}]}}},{actions:{init:()=>{fe("resizeable:init",{},this)},setInteract:(o,c)=>{ne.need(c.type==="SET_INTERACT","event type must be SET_INTERACT"),ne.notNull(this.resizeHandle);let h=(0,rs.default)(this.resizeHandle);h.styleCursor(!1),h.on("down",this.grabResizeHandle.bind(this)),h.on("up",this.releaseResizeHandle.bind(this)),h.draggable({onstart:this.startResizing.bind(this),onmove:this.moveResizeHandle.bind(this),onend:this.endResizing.bind(this)})},grabResizeHandle:(o,c)=>{ne.need(c.type==="GRAB_RESIZE_HANDLE","event type must be GRAB_RESIZE_HANDLE"),this.resizing=!0,fe("resizeable:grab-resize-handle",{},this)},releaseResizeHandle:(o,c)=>{ne.need(c.type==="RELEASE_RESIZE_HANDLE","event type must be RELEASE_RESIZE_HANDLE"),this.resizing=!1,fe("resizeable:release-resize-handle",{},this)},startResizing:(o,c)=>{ne.need(c.type==="START_RESIZING","event type must be START_RESIZING"),this.resizing=!0},emitResizeEvent:(o,c)=>{ne.need(c.type==="RESIZE_HANDLE_SNAP","event type must be RESIZE_HANDLE_SNAP"),fe("resizeable:resize",{},this)},endResizing:()=>{this.resizing=!1,this.moveResizeHandleTo(0,0),fe("resizeable:end-resizing",{},this)}}});this.resizeableService=ut(this.resizeableMachine).onTransition((o=>{this.debugResizeable&&console.log(`resizeable: ${(0,is.format)(o.value)}`)}))}get resizeable(){return this.resizeableService.state!==void 0}set resizeable(o){o?this.resizeableService.send({type:"SET_INTERACT"}):this.resizeableService.send({type:"UNSET_INTERACT"})}set resizeHandleSnapTargets(o){(0,rs.default)(this.resizeHandle).draggable({modifiers:[rs.default.modifiers.snap({targets:o,relativePoints:[{x:.5,y:.5}]})],listeners:{move:this.resizeHandleMoveEventListener.bind(this)}})}initResizeable(){this.resizeableService.state===void 0&&this.resizeableService.start()}resizeHandleMoveEventListener(o){let c=o.modifiers[0];if(!c.inRange)return;let h=c.target.source;fe("resizeable:resize-handle-in-snap-range",{snapTargetInfo:h},this),this.moveResizeHandleTo(0,0),this.resizeableService.send({type:"RESIZE_HANDLE_SNAP"})}grabResizeHandle(o){if(o.currentTarget!==this.resizeHandle)throw new Error("ResizeableMixin: grabResizeHandle: event.currentTarget !== this.resizeHandle");this.resizeableService.send({type:"GRAB_RESIZE_HANDLE",x:o.offsetX,y:o.offsetY})}releaseResizeHandle(o){if(o.currentTarget!==this.resizeHandle)throw new Error("ResizeableMixin: releaseResizeHandle: event.currentTarget !== this.resizeHandle");this.resizeableService.send({type:"RELEASE_RESIZE_HANDLE"})}startResizing(){this.resizeableService.send({type:"START_RESIZING"})}moveResizeHandle(o){let c=this.resizeHandleX+o.dx,h=this.resizeHandleY+o.dy;this.moveResizeHandleTo(c,h)}moveResizeHandleTo(o,c){this.resizeHandleX=o,this.resizeHandleY=c,this.resizeHandle.style.transform=`translate(${o}px, ${c}px)`}endResizing(){this.resizeableService.send({type:"END_RESIZING"})}};u(c,"ResizeableMixinClass"),M([k],c.prototype,"span",2),M([k],c.prototype,"resizeHandleX",2),M([k],c.prototype,"resizeHandleY",2),M([k],c.prototype,"debugResizeable",2),M([k],c.prototype,"resizing",2),M([Oe],c.prototype,"resizeHandle",2);let h=c;return h}u(pl,"ResizeableMixin");var as='<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M31 24C31 27.866 27.866 31 24 31C20.134 31 17 27.866 17 24C17 20.134 20.134 17 24 17C27.866 17 31 20.134 31 24Z" stroke="currentColor" stroke-width="3"/>\n</svg>\n';var ss=class extends(ge(ve(me(Me(be(he(pe(HTMLElement)))))))){get operationType(){return ae}connectedCallback(){this.shadowRoot===null&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}update(){Y(U`<div part="body">${this.iconHtml(as)}</div>
        <div part="outline"></div>`,this.shadowRoot)}toJson(){return`"${ae}"`}};u(ss,"AntiControlGateElement"),ss=M([X],ss);function Nh(o){return/^-?\d+$/.test(o)}u(Nh,"isNumeric");function Ot(o,c=4){return(o>=0?"+":"")+o.toFixed(c)}u(Ot,"forceSigned");var ls=class extends(ge(ve(me(he(pe(HTMLElement)))))){constructor(){super(...arguments);this.x=0;this.y=0;this.z=0}get operationType(){return se}showPopup(){this.showInspector()}showInspector(){if(ne.notNull(this.parentElement),this.parentElement.tagName==="PALETTE-DROPZONE")return;let o=this.popup;o&&o.destroy();let c=this.blochInspectorPopupContent();this.popup=da(this,{allowHTML:!0,animation:!1,arrow:!0,delay:0,placement:"auto",theme:"tooltip",onShow(o){o.setContent(c)}}),this.popup.show()}blochInspectorPopupContent(){let o=document.createDocumentFragment();return Y(U`
        <header>
          <h1>Local State</h1>
        </header>

        <div class="body">
          <section>
            r:
            <span class="font-mono font-bold">${Ot(this.d)}</span>, ϕ:
            <span class="font-mono font-bold">${Ot(this.phi,2)}</span>, θ:
            <span class="font-mono font-bold">${Ot(this.theta,2)}</span>
          </section>
          <section>
            x:
            <span class="font-mono font-bold">${Ot(this.x)}</span>, y:
            <span class="font-mono font-bold">${Ot(this.y)}</span>, z:
            <span class="font-mono font-bold">${Ot(this.z)}</span>
          </section>
        </div>
      `,o),o}connectedCallback(){this.shadowRoot===null&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable(),this.updateBlochVector(),this.addEventListener("mouseenter",this.showInspector))}disconnectedCallback(){let o=this.popup;o==null||o.destroy()}attributeChangedCallback(o,c,h){this.body&&c!==h&&h!==null&&(o==="data-x"&&(this.x=parseFloat(h)),o==="data-y"&&(this.y=parseFloat(h)),o==="data-z"&&(this.z=parseFloat(h)),this.d=this.vectorLength(),this.phi=this.phiRadian(),this.theta=this.thetaRadian(),this.updateBlochVector())}update(){this.d=this.vectorLength(),this.phi=this.phiRadian(),this.theta=this.thetaRadian();let o=u((o=>U`<div part="vector-line-rect" class="vector-line-rect" style="transform: rotateY(${o}deg)"></div>`),"vectorLineRect"),c=u(((o,c)=>U`<div
        part="vector-end-circle"
        class="vector-end-circle"
        style="transform: rotate${c}(${o}deg)"
        data-targets="bloch-display.vectorEndCircles"
      ></div>`),"vectorEndCircle");Y(U`<style>
          #background {
            border-radius: 9999px;
            background-color: #ffffff;
          }

          #sphere-border {
            box-sizing: border-box;
            border-style: solid;
            border-radius: 9999px;
          }

          #sphere-lines {
            width: 100%;
            height: 100%;
            stroke: currentColor;
          }

          #perspective {
            position: absolute;
            top: -1px;
            right: -1px;
            bottom: -1px;
            left: -1px;
            perspective-origin: top right;
          }

          #vector {
            position: relative;
            width: 100%;
            height: 100%;
            transform-origin: center;
            transform-style: preserve-3d;
          }

          #vector-line {
            position: absolute;
            width: 100%;
            height: 0;
            bottom: 50%;
            transform-style: preserve-3d;
          }

          .vector-line-rect {
            position: absolute;
            left: 0px;
            right: 0px;
            margin-left: auto;
            margin-right: auto;
            transform-origin: bottom;
            height: 100%;
            width: 2px;
            transform-style: preserve-3d;
          }

          #vector-end {
            position: absolute;
            width: 100%;
            transform-style: preserve-3d;
          }

          .vector-end-circle {
            position: absolute;
            left: 0px;
            right: 0px;
            margin-left: auto;
            margin-right: auto;
            border-radius: 9999px;
          }

          .absolute {
            position: absolute;
          }

          .inset-0 {
            top: 0px;
            right: 0px;
            bottom: 0px;
            left: 0px;
          }

          .font-mono {
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New',
              monospace;
          }

          .font-bold {
            font-weight: 700;
          }
        </style>

        <div part="icon" data-target="bloch-display.body" data-d="${this.d}">
          <div id="background" class="absolute inset-0"></div>
          <div id="sphere-border" part="sphere-border" class="absolute inset-0">
            <svg
              id="sphere-lines"
              part="sphere-lines"
              class="absolute inset-0"
              viewBox="0 0 48 48"
              fill="none"
              stroke-width="1"
            >
              <line x1="0%" y1="50%" x2="100%" y2="50%" />
              <line x1="50%" y1="0%" x2="50%" y2="100%" />
              <line x1="35%" y1="65%" x2="65%" y2="35%" />
              <ellipse cx="50%" cy="50%" rx="18%" ry="50%" />
              <ellipse cx="50%" cy="50%" rx="50%" ry="18%" />
            </svg>
            <div id="perspective" part="perspective">
              <div id="vector" data-target="bloch-display.vector">
                <div id="vector-line" data-target="bloch-display.vectorLine">
                  ${o(0)} ${o(20)} ${o(40)} ${o(60)}
                  ${o(80)} ${o(100)} ${o(120)} ${o(140)}
                  ${o(160)}
                </div>

                <div id="vector-end" data-target="bloch-display.vectorEnd">
                  ${c(0,"Y")} ${c(20,"Y")} ${c(40,"Y")}
                  ${c(60,"Y")} ${c(80,"Y")} ${c(100,"Y")}
                  ${c(120,"Y")} ${c(140,"Y")} ${c(160,"Y")}
                  ${c(90,"X")}
                </div>
              </div>
            </div>
          </div>
        </div>
        <div part="outline"></div>`,this.shadowRoot)}toJson(){return`"${se}"`}updateBlochVector(){var o;let c=this.vectorEndCircles[0].offsetWidth;this.vectorLine.style.height=`calc(${100*this.d/2}% - ${c/2}px)`,this.vectorEnd.style.bottom=`calc(50% + ${100*this.d/2}% + ${c/2}px)`,this.d!==0&&(this.vector.style.transform=`rotateY(${this.phi}deg) rotateX(${-this.theta}deg)`),(o=this.popup)==null||o.setContent(this.blochInspectorPopupContent())}get d(){let o=this.getAttribute("data-d");return ne.notNull(o),parseFloat(o)}set d(o){this.setAttribute("data-d",o.toString())}vectorLength(){return parseFloat(Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z).toFixed(4))}set phi(o){this.setAttribute("data-phi",o.toString())}get phi(){let o=this.getAttribute("data-phi");return ne.notNull(o),parseFloat(o)}phiRadian(){return Math.atan2(this.y,this.x)*180/Math.PI}set theta(o){this.setAttribute("data-theta",o.toString())}get theta(){let o=this.getAttribute("data-theta");return ne.notNull(o),parseFloat(o)}thetaRadian(){return 180*Math.max(0,Math.PI/2-Math.atan2(this.z,Math.sqrt(this.y*this.y+this.x*this.x)))/Math.PI}};u(ls,"BlochDisplayElement"),M([Oe],ls.prototype,"body",2),M([Oe],ls.prototype,"vectorLine",2),M([Oe],ls.prototype,"vectorEnd",2),M([Oe],ls.prototype,"vector",2),M([ft],ls.prototype,"vectorEndCircles",2),M([k],ls.prototype,"x",2),M([k],ls.prototype,"y",2),M([k],ls.prototype,"z",2),ls=M([X],ls);var cs='<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M24 32C28.4183 32 32 28.4183 32 24C32 19.5817 28.4183 16 24 16C19.5817 16 16 19.5817 16 24C16 28.4183 19.5817 32 24 32Z" fill="currentColor"/>\n</svg>\n';var us=class extends(ge(ve(me(Me(be(he(pe(HTMLElement)))))))){get operationType(){return le}connectedCallback(){this.shadowRoot===null&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}update(){Y(U`<div part="body">${this.iconHtml(cs)}</div>
        <div part="outline"></div>`,this.shadowRoot)}toJson(){return`"${le}"`}};u(us,"ControlGateElement"),us=M([X],us);var ps='<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M17 13V35M17 24H31M31 13V35" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"/>\n</svg>\n';var ds=class extends(ge(ve(Ue(Le(me(Me(be(he(pe(HTMLElement)))))))))){get operationType(){return ce}connectedCallback(){this.shadowRoot===null&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}update(){Y(U`<div part="body">${this.iconHtml(ps)}</div>
        <div part="outline"></div>`,this.shadowRoot)}toJson(){return this.if!==""?`"${ce}<${this.if}"`:`"${ce}"`}};u(ds,"HGateElement"),ds=M([X],ds);var hs='<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M4 36C4 30.6957 6.10714 25.6086 9.85786 21.8579C13.6086 18.1071 18.6957 16 24 16C29.3043 16 34.3914 18.1071 38.1421 21.8579C41.8929 25.6086 44 30.6957 44 36" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" vector-effect="non-scaling-stroke"/>\n  <path d="M24.625 33.5L37.75 11" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" vector-effect="non-scaling-stroke"/>\n  <path d="M24.625 35.375C25.6605 35.375 26.5 34.5355 26.5 33.5C26.5 32.4645 25.6605 31.625 24.625 31.625C23.5895 31.625 22.75 32.4645 22.75 33.5C22.75 34.5355 23.5895 35.375 24.625 35.375Z" fill="currentColor" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" vector-effect="non-scaling-stroke"/>\n</svg>\n';var fs=class extends(ge(ve(Gf(me(be(he(pe(HTMLElement)))))))){constructor(){super(...arguments);this.value=""}get operationType(){return de}connectedCallback(){this.shadowRoot===null&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}update(){Y(U`<div part="body">
          ${this.iconHtml(hs)}
          <div id="value" part="value"></div>
        </div>
        <div part="outline"></div>`,this.shadowRoot)}toJson(){return this.flag===""?`"${de}"`:`"${de}>${this.flag}"`}};u(fs,"MeasurementGateElement"),M([k],fs.prototype,"value",2),fs=M([X],fs);var vs='<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M18.2857 36L29.7143 12M16 24.5714C16 25.622 16.2069 26.6623 16.609 27.6329C17.011 28.6035 17.6003 29.4854 18.3431 30.2283C19.086 30.9712 19.9679 31.5604 20.9385 31.9625C21.9091 32.3645 22.9494 32.5714 24 32.5714C25.0506 32.5714 26.0909 32.3645 27.0615 31.9625C28.0321 31.5604 28.914 30.9712 29.6569 30.2283C30.3997 29.4854 30.989 28.6035 31.391 27.6329C31.7931 26.6623 32 25.622 32 24.5714C32 23.5209 31.7931 22.4806 31.391 21.51C30.989 20.5394 30.3997 19.6574 29.6569 18.9146C28.914 18.1717 28.0321 17.5824 27.0615 17.1804C26.0909 16.7784 25.0506 16.5714 24 16.5714C22.9494 16.5714 21.9091 16.7784 20.9385 17.1804C19.9679 17.5824 19.086 18.1717 18.3431 18.9146C17.6003 19.6574 17.011 20.5394 16.609 21.51C16.2069 22.4806 16 23.5209 16 24.5714Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"/>\n</svg>\n';var gs=class extends(ge(ve(Ue(Le(En(me(Me(be(he(pe(HTMLElement))))))))))){get operationType(){return ye}connectedCallback(){this.shadowRoot===null&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}update(){Y(U`<div part="body">${this.iconHtml(vs)}</div>
        <div part="outline"></div>`,this.shadowRoot)}toJson(){return this.angle===""?`"${ye}"`:`"${ye}(${this.angle.replace("/","_")})"`}};u(gs,"PhaseGateElement"),gs=M([X],gs);var ms='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path\n    d="M7 15L12 20L17 15M7 9L12 4L17 9"\n    stroke="currentColor"\n    stroke-width="2"\n    stroke-linecap="round"\n    stroke-linejoin="round"\n  />\n</svg>\n';var bs='<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <line x1="26.2" y1="7.47778" x2="29.2" y2="7.47778" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"/>\n  <line x1="27.7" y1="6" x2="27.7" y2="11" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"/>\n  <line x1="20.0973" y1="12" x2="25.0353" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"/>\n  <line x1="22.7" y1="13" x2="22.7" y2="20" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"/>\n  <line x1="13" y1="12" x2="16.4513" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"/>\n  <line x1="14" y1="16" x2="16" y2="16" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"/>\n  <line x1="13" y1="12" x2="13" y2="20" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"/>\n  <path d="M8.9292 16C8.9292 18.4379 7.39801 20 5.9646 20C4.53119 20 3 18.4379 3 16C3 13.5621 4.53119 12 5.9646 12C7.39801 12 8.9292 13.5621 8.9292 16Z" stroke="currentColor" stroke-width="2" vector-effect="non-scaling-stroke"/>\n  <line x1="1" y1="-1" x2="3.34292" y2="-1" transform="matrix(0.570556 0.821259 -0.805999 0.591917 5.9646 18.5332)" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"/>\n</svg>\n';var ys=class extends(ge(ve(pl(me(be(he(pe(HTMLElement)))))))){get operationType(){return xe}connectedCallback(){this.shadowRoot===null&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable(),this.initResizeable())}update(){Y(U`<div part="layout">
          <div part="body">${this.iconHtml(bs)}</div>
          <div class="resize-handle" part="resize-handle" data-target="qft-dagger-gate.resizeHandle">
            <div part="resize-handle-icon">${this.iconHtml(ms)}</div>
          </div>
        </div>
        <div part="outline"></div>`,this.shadowRoot)}toJson(){return`"${xe}${this.span}"`}};u(ys,"QftDaggerGateElement"),ys=M([X],ys);var ks='<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <line x1="32" y1="17" x2="42" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"/>\n  <line x1="37" y1="18" x2="37" y2="30" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"/>\n  <line x1="21" y1="17" x2="21" y2="30" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"/>\n  <line x1="21" y1="17" x2="28" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"/>\n  <line x1="21" y1="23" x2="27" y2="23" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"/>\n  <line x1="13.3868" y1="27.2774" x2="16.2773" y2="31.6132" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"/>\n  <path d="M17 23.5C17 27.229 14.408 30 11.5 30C8.59199 30 6 27.229 6 23.5C6 19.771 8.59199 17 11.5 17C14.408 17 17 19.771 17 23.5Z" stroke="currentColor" stroke-width="2" vector-effect="non-scaling-stroke"/>\n</svg>\n';var Ps=class extends(ge(ve(pl(me(be(he(pe(HTMLElement)))))))){get operationType(){return Se}connectedCallback(){this.shadowRoot===null&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable(),this.initResizeable())}update(){Y(U`<div part="layout">
          <div part="body">${this.iconHtml(ks)}</div>
          <div class="resize-handle" part="resize-handle" data-target="qft-gate.resizeHandle">
            <div part="resize-handle-icon">${this.iconHtml(ms)}</div>
          </div>
        </div>
        <div part="outline"></div>`,this.shadowRoot)}toJson(){return`"${Se}${this.span}"`}};u(Ps,"QftGateElement"),Ps=M([X],Ps);var Is='<svg\n  width="48"\n  height="48"\n  viewBox="0 0 48 48"\n  fill="none"\n  stroke="currentColor"\n  stroke-width="2"\n  stroke-linecap="round"\n  stroke-linejoin="round"\n>\n  <path d="M10 24L13 24L14 36L17 36L18 12L38 12" vector-effect="non-scaling-stroke"/>\n  <path d="M24 32L34 18M34 32L24 18" vector-effect="non-scaling-stroke"/>\n</svg>\n';var _s=class extends(ge(ve(Ue(Le(me(Me(be(he(pe(HTMLElement)))))))))){get operationType(){return Ce}connectedCallback(){this.shadowRoot===null&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}update(){Y(U`<div part="body">${this.iconHtml(Is)}</div>
        <div part="outline"></div>`,this.shadowRoot)}toJson(){return this.if!==""?`"${Ce}<${this.if}"`:`"${Ce}"`}};u(_s,"RnotGateElement"),_s=M([X],_s);var As='<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M12.3214 35V24M18 24.5L21.7303 35M12.3214 24V13C21 13 22 15.5 22 18.5C22 21.5 21 24 12.3214 24Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" vector-effect="non-scaling-stroke"/>\n  <path d="M34.6093 13.0016L24.7475 35" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" vector-effect="non-scaling-stroke"/>\n  <path d="M24.8187 13.0016L34.6093 35" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" vector-effect="non-scaling-stroke"/>\n</svg>\n';var zs=class extends(ge(ve(Ue(Le(En(me(Me(be(he(pe(HTMLElement))))))))))){get operationType(){return _e}connectedCallback(){this.shadowRoot===null&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}update(){Y(U`<div part="body">${this.iconHtml(As)}</div>
        <div part="outline"></div>`,this.shadowRoot)}toJson(){return this.angle===""?`"${_e}"`:`"${_e}(${this.angle.replace("/","_")})"`}};u(zs,"RxGateElement"),zs=M([X],zs);var Ns='<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M12.3214 35V24M18 24.5L21.7303 35M12.3214 24V13C21 13 22 15.5 22 18.5C22 21.5 21 24 12.3214 24Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" vector-effect="non-scaling-stroke"/>\n  <path d="M34.6093 13.0016L29.5 23.5V35" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" vector-effect="non-scaling-stroke"/>\n  <path d="M24.5 13L29.5 23.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" vector-effect="non-scaling-stroke"/>\n</svg>\n';var Rs=class extends(ge(ve(Ue(Le(En(me(Me(be(he(pe(HTMLElement))))))))))){get operationType(){return Ne}connectedCallback(){this.shadowRoot===null&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}update(){Y(U`<div part="body">${this.iconHtml(Ns)}</div>
        <div part="outline"></div>`,this.shadowRoot)}toJson(){return this.angle===""?`"${Ne}"`:`"${Ne}(${this.angle.replace("/","_")})"`}};u(Rs,"RyGateElement"),Rs=M([X],Rs);var Ds='<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M12.3214 35V24M18 24.5L21.7303 35M12.3214 24V13C21 13 22 15.5 22 18.5C22 21.5 21 24 12.3214 24Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" vector-effect="non-scaling-stroke"/>\n  <path d="M24.5 13H34.5L24.5 35H34.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" vector-effect="non-scaling-stroke"/>\n</svg>\n';var js=class extends(ge(ve(Ue(Le(En(me(Me(be(he(pe(HTMLElement))))))))))){get operationType(){return De}connectedCallback(){this.shadowRoot===null&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}update(){Y(U`<div part="body">${this.iconHtml(Ds)}</div>
        <div part="outline"></div>`,this.shadowRoot)}toJson(){return this.angle===""?`"${De}"`:`"${De}(${this.angle.replace("/","_")})"`}};u(js,"RzGateElement"),js=M([X],js);var Ls='<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M30 15.5982C30 15.5982 29 13.5893 25 13.3512C21.5 13.1429 16.5 13.8029 17 19.1515C17.5 24.5001 31 23.1432 31 29.035C31 34.9268 25.5934 35.2343 21.5 34.9268C19.0063 34.7396 17 33.2578 17 33.2578" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"/>\n  <path d="M37 10H43M40 6V20" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"/>\n</svg>\n';var Gs=class extends(ge(ve(Ue(Le(me(Me(be(he(pe(HTMLElement)))))))))){get operationType(){return Ge}connectedCallback(){this.shadowRoot===null&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}update(){Y(U`<div part="body">${this.iconHtml(Ls)}</div>
        <div part="outline"></div>`,this.shadowRoot)}toJson(){return this.if!==""?`"${Ge}<${this.if}"`:`"${Ge}"`}};u(Gs,"SDaggerGateElement"),Gs=M([X],Gs);var $s='<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M30 15.5982C30 15.5982 29 13.5893 25 13.3512C21.5 13.1429 16.5 13.8029 17 19.1515C17.5 24.5001 31 23.1432 31 29.035C31 34.9268 25.5934 35.2343 21.5 34.9268C19.0063 34.7396 17 33.2578 17 33.2578" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"/>\n</svg>\n';var Hs=class extends(ge(ve(Ue(Le(me(Me(be(he(pe(HTMLElement)))))))))){get operationType(){return $e}connectedCallback(){this.shadowRoot===null&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}update(){Y(U`<div part="body">${this.iconHtml($s)}</div>
        <div part="outline"></div>`,this.shadowRoot)}toJson(){return this.if!==""?`"${$e}<${this.if}"`:`"${$e}"`}};u(Hs,"SGateElement"),Hs=M([X],Hs);var Bs='<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M33 21H39V27H33V21Z" fill="currentColor"/>\n  <path d="M21 21H27V27H21V21Z" fill="currentColor"/>\n  <path d="M9 21H15V27H9V21Z" fill="currentColor"/>\n</svg>\n';var qs=class extends(ge(ve(me(Me(be(he(pe(HTMLElement)))))))){get operationType(){return qe}connectedCallback(){this.shadowRoot===null&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}update(){Y(U`<div part="body">${this.iconHtml(Bs)}</div>
        <div part="outline"></div>`,this.shadowRoot)}toJson(){return`"${qe}"`}};u(qs,"SpacerGateElement"),qs=M([X],qs);var Fs='<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M12 36L36 12M12 12L36 36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" vector-effect="non-scaling-stroke"/>\n</svg>\n';var Us=class extends(ge(ve(Le(me(Me(be(he(pe(HTMLElement))))))))){get operationType(){return Fe}connectedCallback(){this.shadowRoot===null&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}update(){Y(U`<div part="body">${this.iconHtml(Fs)}</div>
        <div part="outline"></div>`,this.shadowRoot)}toJson(){return`"${Fe}"`}};u(Us,"SwapGateElement"),Us=M([X],Us);var Vs='<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M15 13H33M24 13V35" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"/>\n  <path d="M37 10H43M40 6V20" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"/>\n</svg>\n';var Ws=class extends(ge(ve(Ue(Le(me(Me(be(he(pe(HTMLElement)))))))))){get operationType(){return Xe}connectedCallback(){this.shadowRoot===null&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}update(){Y(U`<div part="body">${this.iconHtml(Vs)}</div>
        <div part="outline"></div>`,this.shadowRoot)}toJson(){return this.if!==""?`"${Xe}<${this.if}"`:`"${Xe}"`}};u(Ws,"TDaggerGateElement"),Ws=M([X],Ws);var Ys='<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M15 13H33M24 13V35" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"/>\n</svg>\n';var Zs=class extends(ge(ve(Ue(Le(me(Me(be(he(pe(HTMLElement)))))))))){get operationType(){return Qe}connectedCallback(){this.shadowRoot===null&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}update(){Y(U`<div part="body">${this.iconHtml(Ys)}</div>
        <div part="outline"></div>`,this.shadowRoot)}toJson(){return this.if!==""?`"${Qe}<${this.if}"`:`"${Qe}"`}};u(Zs,"TGateElement"),Zs=M([X],Zs);var Qs='<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M6 5V43M37.4516 5L43.5 24L37.4516 43" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" vector-effect="non-scaling-stroke"/>\n</svg>\n';var rl=class extends(ge(ve(me(be(he(pe(HTMLElement))))))){constructor(){super(...arguments);this.value=""}get operationType(){switch(this.value){case"0":return tn;case"1":return en;default:throw new Error(`Invalid write value: ${this.value}`)}}connectedCallback(){this.shadowRoot===null&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}update(){Y(U`<div part="body">
          ${this.iconHtml(Qs)}
          <div part="value"></div>
        </div>
        <div part="outline"></div>`,this.shadowRoot)}toJson(){return`"|${this.value}>"`}};u(rl,"WriteGateElement"),M([k],rl.prototype,"value",2),rl=M([X],rl);var ol='<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M15 24H33M24 15V33" stroke="currentColor" stroke-width="2" stroke-linecap="round"/ vector-effect="non-scaling-stroke">\n</svg>\n';var al=class extends(ge(ve(Ue(Le(me(Me(be(he(pe(HTMLElement)))))))))){get operationType(){return rn}connectedCallback(){this.shadowRoot===null&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}update(){Y(U`<div part="body">${this.iconHtml(ol)}</div>
        <div part="outline"></div>`,this.shadowRoot)}toJson(){return this.if!==""?`"${rn}<${this.if}"`:`"${rn}"`}};u(al,"XGateElement"),al=M([X],al);var cl='<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M17 13L24 24M24 24L31 13M24 24V35" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"/>\n</svg>\n';var ul=class extends(ge(ve(Ue(Le(me(Me(be(he(pe(HTMLElement)))))))))){get operationType(){return on}connectedCallback(){this.shadowRoot===null&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}update(){Y(U`<div part="body">${this.iconHtml(cl)}</div>
        <div part="outline"></div>`,this.shadowRoot)}toJson(){return this.if!==""?`"${on}<${this.if}"`:`"${on}"`}};u(ul,"YGateElement"),ul=M([X],ul);var dl='<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M17.5 13H31L17.5 35H31" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" vector-effect="non-scaling-stroke"/>\n</svg>\n';var hl=class extends(ge(ve(Ue(Le(me(Me(be(he(pe(HTMLElement)))))))))){get operationType(){return an}connectedCallback(){this.shadowRoot===null&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}update(){Y(U`<div part="body">${this.iconHtml(dl)}</div>
        <div part="outline"></div>`,this.shadowRoot)}toJson(){return this.if!==""?`"${an}<${this.if}"`:`"${an}"`}};u(hl,"ZGateElement"),hl=M([X],hl);var fl=u((o=>o instanceof ss||o instanceof ls||o instanceof us||o instanceof ds||o instanceof fs||o instanceof gs||o instanceof ys||o instanceof Ps||o instanceof _s||o instanceof zs||o instanceof Rs||o instanceof js||o instanceof Gs||o instanceof Hs||o instanceof qs||o instanceof Us||o instanceof Ws||o instanceof Zs||o instanceof rl||o instanceof al||o instanceof ul||o instanceof hl),"isOperation"),vl=u((o=>o!=null&&o instanceof ds),"isHGateElement"),ml=u((o=>o!=null&&o instanceof al),"isXGateElement"),wl=u((o=>o!=null&&o instanceof ul),"isYGateElement"),xl=u((o=>o!=null&&o instanceof hl),"isZGateElement"),Ol=u((o=>o!=null&&o instanceof gs),"isPhaseGateElement"),_l=u((o=>o!=null&&o instanceof Zs),"isTGateElement"),Rl=u((o=>o!=null&&o instanceof Ws),"isTDaggerGateElement"),Gl=u((o=>o!=null&&o instanceof _s),"isRnotGateElement"),$l=u((o=>o!=null&&o instanceof zs),"isRxGateElement"),Hl=u((o=>o!=null&&o instanceof Rs),"isRyGateElement"),Bl=u((o=>o!=null&&o instanceof js),"isRzGateElement"),Xl=u((o=>o!=null&&o instanceof Hs),"isSGateElement"),Zl=u((o=>o!=null&&o instanceof Gs),"isSDaggerGateElement"),Ql=u((o=>o!=null&&o instanceof qs),"isSpacerGateElement"),oc=u((o=>o!=null&&o instanceof Us),"isSwapGateElement"),uc=u((o=>o!=null&&o instanceof us),"isControlGateElement"),fc=u((o=>o!=null&&o instanceof ss),"isAntiControlGateElement"),gc=u((o=>o!=null&&o instanceof ls),"isBlochDisplayElement"),bc=u((o=>o!=null&&o instanceof rl),"isWriteGateElement"),yc=u((o=>o!=null&&o instanceof fs),"isMeasurementGateElement");var wc=er(nt(),1),xc=er(it(),1);var Ec=u((o=>o!==null&&o instanceof Sc),"isAngleSliderElement"),Sc=class extends HTMLElement{constructor(){super(...arguments);this.angle="";this.radian=0;this.denominator=0;this.disabled=!1;this.debug=!1;this.snapAngles={};this.angleSliderMachine=ht({id:"angle-slider",initial:"idle",states:{idle:{on:{START_MOVE:{target:"moving"},SET_ANGLE:{target:"idle",actions:["setDenominatorByAngle","updateSnapAngles","setRadianInAngle","updateHandlePosition","dispatchUpdateEvent"]},SET_DENOMINATOR:{target:"idle",actions:["validateDenominator","updateSnapAngles","setAngleInRadian"]}}},moving:{on:{SET_ANGLE:{target:"moving",actions:["dispatchChangeEvent"]},END_MOVE:{target:"idle",actions:["dispatchUpdateEvent"]}}}}},{actions:{validateDenominator:()=>{if(!Number.isInteger(this.denominator)||this.denominator<=0)throw new Error(`Bad denominator: ${this.denominator}`)},setDenominatorByAngle:(o,c)=>{c.type==="SET_ANGLE"&&(this.denominator=Mo(this.angle))},setAngleInRadian:(o,c)=>{if(c.type!=="SET_DENOMINATOR")return;let[,h]=this.findSnapAngle(this.radian);this.angle=h},setRadianInAngle:(o,c)=>{if(c.type!=="SET_ANGLE")return;let[h]=this.findSnapAngle(kp(this.angle));this.radian=h},updateSnapAngles:()=>{this.updateSnapAngles()},updateHandlePosition:()=>{this.left=(this.radian+2*Math.PI)/(4*Math.PI)},dispatchChangeEvent:()=>{this.dispatchEvent(new Event("angle-slider-change",{bubbles:!0}))},dispatchUpdateEvent:()=>{this.dispatchEvent(new Event("angle-slider-update",{bubbles:!0}))}}});this.angleSliderService=ut(this.angleSliderMachine).onTransition((o=>{this.debug&&console.log(`circuit-step: ${(0,wc.format)(o.value)}`)})).start()}attributeChangedCallback(o,c,h){c!==h&&h!==null&&(o==="data-angle"&&h!==""&&this.angleSliderService.send({type:"SET_ANGLE"}),o==="data-denominator"&&this.shadowRoot!==null&&this.angleSliderService.send({type:"SET_DENOMINATOR"}))}connectedCallback(){this.shadowRoot===null&&this.attachShadow({mode:"open"}),this.update(),this.updateSnapAngles(),this.initInteraction()}disconnectedCallback(){(0,xc.default)(this).unset()}update(){Y(U`<style>
        :host {
          display: inline-block;
          position: relative;
          touch-action: none;
        }

        :host::before {
          content: '';
          display: block;
          position: relative;
          top: 0px;
        }
      </style>`,this.shadowRoot)}initInteraction(){(0,xc.default)(this).draggable({origin:"self",modifiers:[xc.default.modifiers.restrict({restriction:"self"})],listeners:{start:this.startMove.bind(this),move:this.move.bind(this),end:this.endMove.bind(this)}})}startMove(){this.angleSliderService.send({type:"START_MOVE"})}move(o){let c=xc.default.getElementRect(o.target).width,h=o.pageX/c;this.left=h;let b=this.proportionToRadian(h);this.setAttribute("data-radian",b.toString());let[,S]=this.findSnapAngle(b);this.angle!==S&&(this.angle=S)}endMove(){this.angleSliderService.send({type:"END_MOVE"})}updateSnapAngles(){if(this.denominator===0)return;let o=-2*this.denominator,c=2*this.denominator,h=new Array(c-o+1).fill(null).map(((c,h)=>h+o));this.snapAngles={};for(let o of h)this.denominator===1?o===0?this.snapAngles[0]="0":o===1?this.snapAngles[Math.PI]="π":o===-1?this.snapAngles[-1*Math.PI]="-π":this.snapAngles[o*Math.PI]=`${o}π`:o===0?this.snapAngles[0]="0":o===1?this.snapAngles[Math.PI/this.denominator]=`π/${this.denominator}`:o===-1?this.snapAngles[-1*Math.PI/this.denominator]=`-π/${this.denominator}`:this.snapAngles[o*Math.PI/this.denominator]=`${o}π/${this.denominator}`}findSnapAngle(o){let c=null,h=null,b=null;for(let S in this.snapAngles){let P=Math.abs(parseFloat(S)-o);(c===null||P<c)&&(c=P,h=parseFloat(S),b=this.snapAngles[S])}return ne.notNull(h),ne.notNull(b),[h,b]}proportionToRadian(o){return(o-.5)*Math.PI*4}set left(o){this.style.paddingLeft=o*100+"%"}};u(Sc,"AngleSliderElement"),M([k],Sc.prototype,"angle",2),M([k],Sc.prototype,"radian",2),M([k],Sc.prototype,"denominator",2),M([k],Sc.prototype,"disabled",2),M([k],Sc.prototype,"debug",2),Sc=M([X],Sc);var Cc=class extends HTMLElement{connectedCallback(){this.attachShadow({mode:"open"}),this.update()}update(){Y(U`<slot></slot>`,this.shadowRoot)}activateButton(o){let c=o.currentTarget;ne.notNull(c);for(let o of this.buttons)o.removeAttribute("data-active");c.setAttribute("data-active","")}};u(Cc,"ButtonGroupElement"),M([ft],Cc.prototype,"buttons",2),Cc=M([X],Cc);var Oc=er(at(),1);var Tc=class extends HTMLElement{constructor(){super(...arguments);this.qubitCount=0;this.qubitCircleSize="base";this.colCount=0;this.rowCount=0;this.paddingX=0;this.paddingY=0;this.overscanCount=0;this.colorPhase=!1;this.qubitCirclePopupTemplateId="qubit-circle-popup-template";this.showQubitCirclePopupAmplitude=!0;this.showQubitCirclePopupProbability=!0;this.showQubitCirclePopupPhase=!0;this.visibleQubitCircleKets=[];this.mobile=null;this.lastWindowScrollTop=null;this.lastWindowScrollLeft=null;this.lastColStartIndex=-1;this.lastColEndIndex=-1;this.lastRowStartIndex=-1;this.lastRowEndIndex=-1;this.qubitCirclePositions=[];this.mobileMediaQuery=window.matchMedia("(max-width: 639px)")}connectedCallback(){this.attachShadow({mode:"open"}),this.renderShadowRoot(),this.startViewSizeChangeEventListener(),this.updateDimension(),this.resizeWindow(),this.resizeInnerContainer(),this.drawQubitCircles()}startViewSizeChangeEventListener(){this.mobileMediaQuery.addEventListener("change",(()=>this.handleViewSizeChange(this.mobileMediaQuery))),this.handleViewSizeChange(this.mobileMediaQuery)}handleViewSizeChange(o){let c=this.mobile!==null&&this.mobile!==o.matches;this.mobile=o.matches,c&&(this.mobile||this.style.removeProperty("top"),this.updateQubitCircleSize(),this.updateDimension(),this.resizeWindow(),this.drawQubitCircles())}startBasicCircleNotationMode(){this.colorPhase=!1}startColorPhaseMode(){this.colorPhase=!0}attributeChangedCallback(o,c,h){c!==h&&(o==="data-qubit-count"&&this.window!==void 0&&this.innerContainer!==void 0&&(ne.notNull(h),this.updateQubitCircleSize(),this.updateDimension(),this.resizeWindow(),this.resizeInnerContainer(),this.drawQubitCircles()),o==="data-color-phase"&&this.drawQubitCircles())}updateQubitCircleSize(){if(this.qubitCount!==0)switch(this.qubitCount){case 1:this.qubitCircleSize="xl";break;case 2:this.mobile?this.qubitCircleSize="lg":this.qubitCircleSize="xl";break;case 3:this.mobile?this.qubitCircleSize="lg":this.qubitCircleSize="xl";break;case 4:this.mobile?this.qubitCircleSize="base":this.qubitCircleSize="lg";break;case 5:this.mobile?this.qubitCircleSize="sm":this.qubitCircleSize="base";break;case 6:this.mobile?this.qubitCircleSize="xs":this.qubitCircleSize="base";break;case 7:this.qubitCircleSize="xs";break;case 8:this.qubitCircleSize="xs";break;case 9:this.qubitCircleSize="xs";break;case 10:this.qubitCircleSize="xs";break;case 11:this.qubitCircleSize="xs";break;case 12:this.qubitCircleSize="xs";break;case 13:this.qubitCircleSize="xs";break;case 14:this.qubitCircleSize="xs";break;case 15:this.qubitCircleSize="xs";break;case 16:this.qubitCircleSize="xs";break;default:throw new Error(`unsupported qubit count: ${this.qubitCount}`)}}updateDimension(){if(this.qubitCount!==0)switch(this.qubitCount){case 1:this.rowCount=1,this.colCount=2;break;case 2:this.rowCount=1,this.colCount=4;break;case 3:this.mobile?(this.rowCount=2,this.colCount=4):(this.rowCount=1,this.colCount=8);break;case 4:this.rowCount=2,this.colCount=8;break;case 5:this.mobile?(this.rowCount=4,this.colCount=8):(this.rowCount=2,this.colCount=16);break;case 6:this.rowCount=4,this.colCount=16;break;case 7:this.mobile?(this.rowCount=8,this.colCount=16):(this.rowCount=4,this.colCount=32);break;case 8:this.mobile?(this.rowCount=16,this.colCount=16):(this.rowCount=8,this.colCount=32);break;case 9:this.rowCount=16,this.colCount=32;break;case 10:this.rowCount=32,this.colCount=32;break;case 11:this.rowCount=32,this.colCount=64;break;case 12:this.rowCount=64,this.colCount=64;break;case 13:this.rowCount=64,this.colCount=128;break;case 14:this.rowCount=128,this.colCount=128;break;case 15:this.rowCount=128,this.colCount=256;break;case 16:this.rowCount=256,this.colCount=256;break;default:throw new Error(`unsupported qubit count: ${this.qubitCount}`)}}updateVisibleQubitCircleKets(){this.visibleQubitCircleKets=this.qubitCircles.map((o=>{let c=o.getAttribute("data-ket");return ne.notNull(c),parseInt(c)})),ne.need(this.visibleQubitCircleKets.length<=2**this.qubitCount,`visibleQubitCircleKets.length (= ${this.visibleQubitCircleKets.length}) must be <= 2^${this.qubitCount}`),this.dispatchEvent(new CustomEvent("circle-notation-visibility-change",{detail:this.visibleQubitCircleKets,bubbles:!0}))}setAmplitudes(o){Oc.default.mutate((()=>{for(let c of this.qubitCircles){let h=c.getAttribute("data-ket");ne.notNull(h);let b=parseInt(h),S=o[b];if(S===void 0)continue;let P=Math.floor(S.abs()*1e5)/1e5,I=S.phase()/Math.PI*180;c.setAttribute("data-amplitude-real",S.real.toString()),c.setAttribute("data-amplitude-imag",S.imag.toString()),P===0?c.classList.add("magnitude-0"):(c.classList.remove("magnitude-0"),c.style.setProperty("--magnitude",P.toString()));let A=Math.trunc(I);A<0&&(A=360+A),c.style.setProperty("--phase",`-${A.toString()}deg`)}}))}renderShadowRoot(){Y(U`<style>
          circle-notation {
            --magnitude: 0;
            --magnitude-color: rgb(14 165 233); /* sky-500 */
            --phase: 0deg;
            --width: 0px;
            --border-width: 0px;
            --phase-width: 0px;
          }

          /* border */

          .qubit-circle {
            position: absolute;
            width: var(--width);
            height: var(--height);
            border-color: rgb(226 232 240); /* slate-200 */
            border-radius: 9999px;
            border-style: solid;
            border-width: var(--border-width);
            box-sizing: border-box;
          }

          .qubit-circle:hover {
            filter: brightness(0.9);
          }

          .qubit-circle:not(.magnitude-0) {
            border-color: rgb(100 116 139); /* slate-500 */
          }

          /* magnitude */

          .qubit-circle__magnitude {
            position: absolute;
            top: 0px;
            right: 0px;
            bottom: 0px;
            left: 0px;
            border-radius: 9999px;
            background-color: var(--magnitude-color);
            transform-origin: center;
            transform: scaleX(var(--magnitude)) scaleY(var(--magnitude));
          }

          .qubit-circle.magnitude-0 .qubit-circle__magnitude {
            display: none;
          }

          :host([data-color-phase]) .qubit-circle__magnitude {
            transform: scaleX(1) scaleY(1);
            filter: hue-rotate(var(--phase));
          }

          /* phase */

          .qubit-circle__phase {
            position: absolute;
            top: 0px;
            right: 0px;
            bottom: 0px;
            left: 0px;
            background-color: rgb(15 23 42); /* slate-900 */
            height: 50%;
            width: var(--phase-width);
            margin-left: auto;
            margin-right: auto;
            border-bottom-right-radius: 0.25rem;
            border-bottom-left-radius: 0.25rem;
            transform-origin: bottom;
            transform: rotate(var(--phase));
          }

          .qubit-circle.magnitude-0 .qubit-circle__phase {
            display: none;
          }
        </style>

        <slot></slot>

        <div
          class="circle-notation__window"
          data-target="circle-notation.window"
          data-action="scroll:circle-notation#update"
          style="height: ${this.windowHeight}px; width: ${this.windowWidth}px; overflow: auto; overscroll-behavior: none;"
        >
          <div
            class="circle-notation__inner-container"
            data-target="circle-notation.innerContainer"
            style="height: ${this.innerHeight}px; width: ${this.innerWidth}px; position: relative;"
          ></div>
        </div>`,this.shadowRoot)}get innerHeight(){return this.qubitCount===0?0:this.rowCount*this.qubitCircleSizePx+(this.rowCount-1)*this.gap+this.paddingY*2}get innerWidth(){return this.qubitCount===0?0:this.colCount*this.qubitCircleSizePx+(this.colCount-1)*this.gap+this.paddingX*2}get qubitCirclesAreaHeight(){switch(this.qubitCount){case 1:return this.qubitCircleSizePx;case 2:return this.qubitCircleSizePx;case 3:return this.mobile?this.qubitCircleSizePx*2+this.gap:this.qubitCircleSizePx;case 4:return this.qubitCircleSizePx*2+this.gap;case 5:return this.mobile?this.qubitCircleSizePx*4+this.gap*3:this.qubitCircleSizePx*2+this.gap;case 6:return this.qubitCircleSizePx*4+this.gap*3;case 7:return this.mobile?this.qubitCircleSizePx*5+this.gap*4:this.qubitCircleSizePx*4+this.gap*3;case 8:return this.mobile?this.qubitCircleSizePx*5+this.gap*4:this.qubitCircleSizePx*8+this.gap*7;case 9:return this.mobile?this.qubitCircleSizePx*5+this.gap*4:this.qubitCircleSizePx*8+this.gap*7;case 10:return this.mobile?this.qubitCircleSizePx*5+this.gap*4:this.qubitCircleSizePx*8+this.gap*7;case 11:return this.mobile?this.qubitCircleSizePx*5+this.gap*4:this.qubitCircleSizePx*8+this.gap*7;case 12:return this.mobile?this.qubitCircleSizePx*5+this.gap*4:this.qubitCircleSizePx*8+this.gap*7;case 13:return this.mobile?this.qubitCircleSizePx*5+this.gap*4:this.qubitCircleSizePx*8+this.gap*7;case 14:return this.mobile?this.qubitCircleSizePx*5+this.gap*4:this.qubitCircleSizePx*8+this.gap*7;case 15:return this.mobile?this.qubitCircleSizePx*5+this.gap*4:this.qubitCircleSizePx*8+this.gap*7;case 16:return this.mobile?this.qubitCircleSizePx*5+this.gap*4:this.qubitCircleSizePx*8+this.gap*7;default:throw new Error(`unsupported qubit count: ${this.qubitCount}`)}}get qubitCirclesAreaWidth(){switch(this.qubitCount){case 1:return this.qubitCircleSizePx*2+this.gap;case 2:return this.qubitCircleSizePx*4+this.gap*3;case 3:return this.mobile?this.qubitCircleSizePx*4+this.gap*3:this.qubitCircleSizePx*8+this.gap*7;case 4:return this.qubitCircleSizePx*8+this.gap*7;case 5:return this.mobile?this.qubitCircleSizePx*8+this.gap*7:this.qubitCircleSizePx*16+this.gap*15;case 6:return this.qubitCircleSizePx*16+this.gap*15;case 7:return this.mobile?this.qubitCircleSizePx*16+this.gap*15:this.qubitCircleSizePx*32+this.gap*31;case 8:return this.mobile?this.qubitCircleSizePx*16+this.gap*15:this.qubitCircleSizePx*32+this.gap*31;case 9:return this.qubitCircleSizePx*32+this.gap*31;case 10:return this.qubitCircleSizePx*32+this.gap*31;case 11:return this.qubitCircleSizePx*32+this.gap*31;case 12:return this.qubitCircleSizePx*32+this.gap*31;case 13:return this.qubitCircleSizePx*32+this.gap*31;case 14:return this.qubitCircleSizePx*32+this.gap*31;case 15:return this.qubitCircleSizePx*32+this.gap*31;case 16:return this.qubitCircleSizePx*32+this.gap*31;default:throw new Error(`unsupported qubit count: ${this.qubitCount}`)}}get windowHeight(){if(this.qubitCount===0)return 0;let o=this.qubitCirclesAreaHeight+this.paddingY*2;if(this.mobile){let c=this.clientHeight;return this.rowCount>4&&c<o?c:o}return o}get windowWidth(){if(this.qubitCount===0)return 0;let o=this.qubitCirclesAreaWidth+this.paddingX*2;if(this.mobile){let c=this.clientWidth;return this.colCount>=16&&c<o?c:o}return o}resizeWindow(){this.window!==void 0&&(this.window.style.height=`${this.windowHeight}px`,this.window.style.width=`${this.windowWidth}px`)}resizeInnerContainer(){this.innerContainer!==void 0&&(this.innerContainer.style.height=`${this.innerHeight}px`,this.innerContainer.style.width=`${this.innerWidth}px`)}get qubitCircleSizePx(){switch(this.qubitCount){case 1:return 64;case 2:return this.mobile?48:64;case 3:return this.mobile?48:64;case 4:return this.mobile?32:48;case 5:return this.mobile?24:32;case 6:return this.mobile?16:32;case 7:return 16;case 8:return 16;case 9:return 16;case 10:return 16;case 11:return 16;case 12:return 16;case 13:return 16;case 14:return 16;case 15:return 16;case 16:return 16;default:throw new Error(`unsupported qubit count: ${this.qubitCount}`)}}drawQubitCircles(){ne.notNull(this.window),ne.notNull(this.innerContainer),this.qubitCount!==0&&Oc.default.mutate((()=>{this.style.setProperty("--width",`${this.qubitCircleSizePx}px`),this.style.setProperty("--height",`${this.qubitCircleSizePx}px`),this.style.setProperty("--magnitude","0"),this.style.setProperty("--magnitude-color","rgb(14 165 233)"),this.style.setProperty("--border-width",`${this.qubitCircleLineWidth}px`),this.style.setProperty("--phase-width",`${this.qubitCircleLineWidth}px`);let o=[];this.lastColStartIndex=this.visibleColStartIndex,this.lastColEndIndex=this.visibleColEndIndex,this.lastRowStartIndex=this.visibleRowStartIndex,this.lastRowEndIndex=this.visibleRowEndIndex;for(let c=this.lastRowStartIndex;c<=this.lastRowEndIndex;c++)for(let h=this.lastColStartIndex;h<=this.lastColEndIndex;h++)o.push({col:h,row:c});let c=document.createDocumentFragment();for(let h of this.allQubitCircleElements(o))c.appendChild(h);this.innerContainer.textContent="",this.innerContainer.appendChild(c),this.updateVisibleQubitCircleKets()}))}update(){this.drawNewlyVisibleQubitCircles(),this.removeInvisibleQubitCircles()}drawNewlyVisibleQubitCircles(){this.window!==void 0&&this.innerContainer!==void 0&&(Oc.default.measure((()=>{this.qubitCirclePositions=[];let o=this.overscanColStartIndex,c=this.overscanColEndIndex,h=this.overscanRowStartIndex,b=this.overscanRowEndIndex;if(!(this.lastColStartIndex===o&&this.lastColEndIndex===c&&this.lastRowStartIndex===h&&this.lastRowEndIndex===b)){for(let S=h;S<=b;S++)for(let h=o;h<=c;h++)(h<this.lastColStartIndex||this.lastColEndIndex<h||S<this.lastRowStartIndex||this.lastRowEndIndex<S)&&this.qubitCirclePositions.push({col:h,row:S});this.lastColStartIndex=o,this.lastColEndIndex=c,this.lastRowStartIndex=h,this.lastRowEndIndex=b}})),Oc.default.mutate((()=>{let o=document.createDocumentFragment();for(let c of this.allQubitCircleElements(this.qubitCirclePositions))o.appendChild(c);this.innerContainer.appendChild(o),this.qubitCirclePositions.length!==0&&this.updateVisibleQubitCircleKets()})))}removeInvisibleQubitCircles(){Oc.default.mutate((()=>{for(let o of this.qubitCircles){let c=o.getAttribute("data-col"),h=o.getAttribute("data-row");ne.notNull(c),ne.notNull(h);let b=parseInt(c),S=parseInt(h);if(b<this.lastColStartIndex||this.lastColEndIndex<b||S<this.lastRowStartIndex||this.lastRowEndIndex<S){let c=o._tippy;c!==void 0&&c.destroy(),o.remove()}}}))}allQubitCircleElements(o){return o.map(this.qubitCircleElement.bind(this))}qubitCircleElement(o){let c=o.col+o.row*this.colCount,h=this.qubitCircleSizePx*o.row+o.row*this.gap+this.paddingY,b=this.qubitCircleSizePx*o.col+o.col*this.gap+this.paddingX,S=document.createElement("div");S.className="qubit-circle magnitude-0",S.setAttribute("data-col",o.col.toString()),S.setAttribute("data-row",o.row.toString()),S.setAttribute("data-ket",c.toString()),S.setAttribute("data-targets","circle-notation.qubitCircles"),S.setAttribute("data-amplitude-real","0"),S.setAttribute("data-amplitude-imag","0"),S.setAttribute("data-action","mouseenter:circle-notation#showQubitCirclePopup mouseleave:circle-notation#hideQubitCirclePopup"),S.style.setProperty("top",`${h}px`),S.style.setProperty("left",`${b}px`);let P=document.createElement("div");P.className="qubit-circle__magnitude";let I=document.createElement("div");return I.className="qubit-circle__phase",S.appendChild(P),S.appendChild(I),S}get gap(){return this.qubitCircleLineWidth}get qubitCircleLineWidth(){switch(this.qubitCount){case 1:return 2;case 2:return 2;case 3:return 2;case 4:return 2;case 5:return this.mobile?1:2;case 6:return this.mobile?1:2;case 7:return 1;case 8:return 1;case 9:return 1;case 10:return 1;case 11:return 1;case 12:return 1;case 13:return 1;case 14:return 1;case 15:return 1;case 16:return 1;default:throw new Error(`unsupported qubit count: ${this.qubitCount}`)}}get overscanColStartIndex(){let o=this.visibleColStartIndex-this.overscanCount;return o<0?0:o}get overscanColEndIndex(){let o=this.visibleColEndIndex+this.overscanCount;return o>this.colCount-1?this.colCount-1:o}get overscanRowStartIndex(){let o=this.visibleRowStartIndex-this.overscanCount;return o<0?0:o}get overscanRowEndIndex(){let o=this.visibleRowEndIndex+this.overscanCount;return o>this.rowCount-1?this.rowCount-1:o}get visibleColStartIndex(){let o=this.windowScrollLeft-this.paddingX;if(o<0)return 0;let c=Math.floor(o/(this.qubitCircleSizePx+this.gap));return o%this.qubitCircleSizePx>this.qubitCircleSizePx&&c++,c}get visibleColEndIndex(){let o=this.windowWidth+this.windowScrollLeft-this.paddingX,c=Math.floor(o/(this.qubitCircleSizePx+this.gap));return o%this.qubitCircleSizePx>this.qubitCircleSizePx&&c++,Math.min(this.colCount-1,c)}get visibleRowStartIndex(){let o=this.windowScrollTop-this.paddingY;if(o<0)return 0;let c=Math.floor(o/(this.qubitCircleSizePx+this.gap));return o%this.qubitCircleSizePx>this.qubitCircleSizePx&&c++,c}get visibleRowEndIndex(){let o=this.windowHeight+this.windowScrollTop-this.paddingY,c=Math.floor(o/(this.qubitCircleSizePx+this.gap));return o%this.qubitCircleSizePx>this.qubitCircleSizePx&&c++,Math.min(this.rowCount-1,c)}get windowScrollTop(){return this.lastWindowScrollTop===null&&(this.lastWindowScrollTop=this.window.scrollTop,window.setTimeout((()=>{this.lastWindowScrollTop=null}),10)),this.lastWindowScrollTop}get windowScrollLeft(){return this.lastWindowScrollLeft===null&&(this.lastWindowScrollLeft=this.window.scrollLeft,window.setTimeout((()=>{this.lastWindowScrollLeft=null}),10)),this.lastWindowScrollLeft}showQubitCirclePopup(o){let c=o.target;ne.need(c.classList.contains("qubit-circle"),"not a qubit-circle");let h=da(c,{allowHTML:!0,animation:!1,delay:0,theme:"tooltip"});if(this.qubitCirclePopupTemplate===null)return;let b=c.getAttribute("data-ket");ne.notNull(b);let S=c.getAttribute("data-amplitude-real");ne.notNull(S);let P=c.getAttribute("data-amplitude-imag");ne.notNull(P);let I=parseInt(b),A=parseFloat(S),z=parseFloat(P),R=new Yt(A,z),D=R.abs(),L=R.phase()/Math.PI*180,G=document.importNode(this.qubitCirclePopupTemplate.content,!0),$=G.getElementById("qubit-circle-popup--ket-binary-value"),B=G.getElementById("qubit-circle-popup--ket-decimal-value"),F=G.getElementById("qubit-circle-popup--amplitude"),V=G.getElementById("qubit-circle-popup--amplitude-real-value"),W=G.getElementById("qubit-circle-popup--amplitude-imag-value"),Z=G.getElementById("qubit-circle-popup--probability"),Q=G.getElementById("qubit-circle-popup--probability-value"),et=G.getElementById("qubit-circle-popup--phase"),nt=G.getElementById("qubit-circle-popup--phase-value");ne.notNull(F),ne.notNull(V),ne.notNull(W),ne.notNull(Z),ne.notNull(Q),ne.notNull(et),ne.notNull(nt),$&&($.textContent=I.toString(2).padStart(this.qubitCount,"0")),B&&(B.textContent=I.toString()),this.showQubitCirclePopupAmplitude?(V.textContent=Ot(R.real,5),W.textContent=`${Ot(R.imag,5)}i`):F.style.display="none",this.showQubitCirclePopupProbability?Q.textContent=`${Ot(D*D*100,4)}%`:Z.style.display="none",this.showQubitCirclePopupPhase?nt.textContent=`${Ot(L,2)}°`:et.style.display="none";let it=document.createElement("div");it.appendChild(G),h.setContent(it.innerHTML),h.show()}hideQubitCirclePopup(o){let c=o.target;ne.need(c.classList.contains("qubit-circle"),"not a qubit-circle");let h=c._tippy;ne.notNull(h),h.destroy()}get qubitCirclePopupTemplate(){return document.getElementById(this.qubitCirclePopupTemplateId)}};u(Tc,"CircleNotationElement"),M([k],Tc.prototype,"qubitCount",2),M([k],Tc.prototype,"qubitCircleSize",2),M([k],Tc.prototype,"colCount",2),M([k],Tc.prototype,"rowCount",2),M([k],Tc.prototype,"paddingX",2),M([k],Tc.prototype,"paddingY",2),M([k],Tc.prototype,"overscanCount",2),M([k],Tc.prototype,"colorPhase",2),M([k],Tc.prototype,"qubitCirclePopupTemplateId",2),M([k],Tc.prototype,"showQubitCirclePopupAmplitude",2),M([k],Tc.prototype,"showQubitCirclePopupProbability",2),M([k],Tc.prototype,"showQubitCirclePopupPhase",2),M([Oe],Tc.prototype,"window",2),M([Oe],Tc.prototype,"innerContainer",2),M([ft],Tc.prototype,"qubitCircles",2),Tc=M([X],Tc);var _c=class extends HTMLElement{connectedCallback(){this.attachShadow({mode:"open"}),this.renderShadowRoot()}startBasicCircleNotationMode(){this.circleNotation.startBasicCircleNotationMode()}startColorPhaseMode(){this.circleNotation.startColorPhaseMode()}renderShadowRoot(){Y(U`<slot></slot>`,this.shadowRoot)}};u(_c,"CircleNotationPanelElement"),M([Oe],_c.prototype,"circleNotation",2),_c=M([X],_c);var Gc='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path\n    d="M15 18L9 12L15 6"\n    stroke="currentColor"\n    stroke-width="2"\n    stroke-linecap="round"\n    stroke-linejoin="round"\n    />\n</svg>\n';var $c='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path\n    d="M9 18L15 12L9 6"\n    stroke="currentColor"\n    stroke-width="2"\n    stroke-linecap="round"\n    stroke-linejoin="round"\n    />\n</svg>\n';var tu=class extends HTMLElement{constructor(){super(...arguments);this.currentGateSetIndex=0}connectedCallback(){window.addEventListener("load",this.startAnimation.bind(this)),this.startBreakpointChangeEventListener(this.startAnimation.bind(this)),this.attachShadow({mode:"open"}),this.update()}attributeChangedCallback(o,c,h){c!==h&&h!==null&&o==="data-current-gate-set-index"&&(this.validateCurrentGateSetIndex(),this.toggleGateSets(),this.toggleDots())}startBreakpointChangeEventListener(o){window.matchMedia("(max-width: 639px)").addEventListener("change",o)}startAnimation(){this.toggleGateSets(),this.toggleDots(),this.removePopinAnimationGates(),this.enableContentClipping(),this.makeAllGateSetsInvisible(),this.createPopinAnimationGates(),this.animatePopinAnimationGates()}update(){Y(U`
        <style>
          button {
            position: absolute;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 100%;
            padding: 0;
            border-width: 0px;
            color: rgb(24 24 27); /* zinc-900 */
            background-color: transparent;
            touch-action: manipulation;
          }

          #prev-button {
            border-top-left-radius: 0.75rem; /* 12px */
            border-bottom-left-radius: 0.75rem; /* 12px */
          }

          #next-button {
            border-top-right-radius: 0.75rem; /* 12px */
            border-bottom-right-radius: 0.75rem; /* 12px */
          }

          #content-clipper {
            position: relative;
            width: 100%;
            height: 100%;
          }

          #body {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 1.5rem;
          }

          :host([data-targets='gate-carousel.gateSets']).hidden {
            display: none;
          }

          #dot-group {
            display: flex;
            flex-direction: row;
            column-gap: 0.5rem;
            padding: 0.5rem;
          }

          .dot {
            width: 0.5rem;
            height: 0.5rem;
            border-radius: 9999px;
            background-color: rgb(228 228 231); /* zinc-200 */
          }

          .dot--active {
            background-color: rgb(14 165 233); /* sky-500 */
          }
        </style>

        <div id="content-clipper" data-target="gate-carousel.contentClipper">
          <button
            id="prev-button"
            type="button"
            aria-label="prev gate set"
            data-action="click:gate-carousel#prevGateSet"
            style="left: 0"
          >
            ${this.iconHtml(Gc)}
          </button>
          <button
            id="next-button"
            type="button"
            aria-label="next gate set"
            data-action="click:gate-carousel#nextGateSet"
            style="right: 0"
          >
            ${this.iconHtml($c)}
          </button>

          <div id="body">
            <slot></slot>

            <div id="dot-group">${this.dotsHtml()}</div>
          </div>
        </div>
      `,this.shadowRoot)}iconHtml(o){return U([o])}dotsHtml(){let o=U``;for(let c=0;c<this.gateSets.length;c++)o=U`${o}
        <div class="dot" data-targets="gate-carousel.dots"></div>`;return o}enableContentClipping(){this.contentClipper.style.overflow="hidden"}disableContentClipping(){this.contentClipper.style.overflow="visible"}removePopinAnimationGates(){var o;for(let c of this.popinAnimationGates)(o=c.parentElement)==null||o.removeChild(c)}prevGateSet(){this.currentGateSetIndex===0?this.currentGateSetIndex=this.gateSets.length-1:this.currentGateSetIndex--}nextGateSet(){this.currentGateSetIndex===this.gateSets.length-1?this.currentGateSetIndex=0:this.currentGateSetIndex++}validateCurrentGateSetIndex(){ne.need(this.currentGateSetIndex>=0,"data-current-gate-set-index must be >= 0"),ne.need(this.currentGateSetIndex<this.gateSets.length,`data-current-gate-set-index must be < ${this.gateSets.length}`)}toggleGateSets(){for(let[o,c]of this.gateSets.entries())o===this.currentGateSetIndex?c.classList.remove("hidden"):c.classList.add("hidden")}makeAllGateSetsVisible(){for(let o of this.gateSets)o.classList.remove("invisible")}makeAllGateSetsInvisible(){for(let o of this.gateSets)o.classList.add("invisible")}get activeGateSet(){let o=this.gateSets[this.currentGateSetIndex];return ne.notNull(o),o}get gatesInActiveGateSet(){return Array.from(this.activeGateSet.children).map((o=>{let c=o.children.item(0);return ne.need(fl(c),`${c} must be an operation.`),c}))}createPopinAnimationGates(){for(let o of this.gatesInActiveGateSet){let c=o.cloneNode(!1);c.setAttribute("data-targets","gate-carousel.popinAnimationGates"),c.style.position="absolute",c.style.top=`${this.offsetHeight}px`,c.style.left=`${o.offsetLeft}px`,this.append(c)}}animatePopinAnimationGates(){for(let[o,c]of this.popinAnimationGates.entries()){ne.need(o<4,"#popinGates must be < 4");let h=0;o===0?h=500:o===1?h=600:o===2?h=700:o===3&&(h=800);let b=c.animate([{transform:"translateY(0px)",offset:0},{transform:"translateY(0px)",offset:.2},{transform:"translateY(-88px)",offset:.6},{transform:"translateY(-72px)",offset:1}],{duration:h,fill:"forwards",easing:"ease-out"});b.onfinish=()=>{c===this.popinAnimationGates[this.popinAnimationGates.length-1]&&(this.removePopinAnimationGates(),this.makeAllGateSetsVisible(),this.disableContentClipping())}}}toggleDots(){for(let[o,c]of this.dots.entries())o===this.currentGateSetIndex?c.classList.add("dot--active"):c.classList.remove("dot--active")}};u(tu,"GateCarouselElement"),M([k],tu.prototype,"currentGateSetIndex",2),M([Oe],tu.prototype,"contentClipper",2),M([ft],tu.prototype,"gateSets",2),M([ft],tu.prototype,"dots",2),M([ft],tu.prototype,"popinAnimationGates",2),tu=M([X],tu);var eu=class extends HTMLElement{get isInspectorShown(){return this.popup.state.isVisible}connectedCallback(){this.shadowRoot===null&&(this.attachShadow({mode:"open"}),this.update(),this.initPopup(),this.addEventListener("mousedown",this.showPopup),document.addEventListener("click",this.maybeHidePopup.bind(this)))}update(){Y(U`<slot></slot>`,this.shadowRoot)}showInspector(o){this.showPopup(),this.inspector.operation=o}showIfInspector(o){this.showPopup(),this.inspector.operation=o,window.setTimeout((()=>{this.inspector.ifInput.focus()}),0)}showAngleInspector(o){this.showPopup(),this.inspector.operation=o,window.setTimeout((()=>{this.inspector.angleInput.focus()}),0)}showFlagInspector(o){this.showPopup(),this.inspector.operation=o,window.setTimeout((()=>{this.inspector.flagInput.focus()}),0)}get inspector(){let o=this.popup.popper.querySelector("operation-inspector");return ne.notNull(o),o}initPopup(){this.popup=da(this,{allowHTML:!0,animation:!1,arrow:!1,content:this.popupContent,interactive:!0,offset:[0,4],placement:"bottom",theme:"operation-inspector",trigger:"manual",hideOnClick:!1})}showPopup(){this.popup.show(),this.inspector.disableAllPanes()}maybeHidePopup(o){let c=o.target;!this.popup.popper.contains(c)&&!this.popup.reference.contains(c)&&!fl(c)&&this.popup.hide()}get popupContent(){let o=document.querySelector("#operation-inspector-template");ne.notNull(o);let c=o.content.cloneNode(!0),h=document.createDocumentFragment();return Y(U`${c}`,h),h}};u(eu,"InspectorButtonElement"),eu=M([X],eu);var nu=class extends HTMLElement{constructor(){super(...arguments);this.conditionalGatePaneDisabled=!0;this.anglePaneDisabled=!0;this.conditionalFlagPaneDisabled=!0}get if(){return this.ifInput.value}get angle(){return this.angleInput.value}get reducedAngle(){return Gp(this.angleInput.value)}get reduceAngleFraction(){return this.reduceAngleFractionCheckbox.checked}get flag(){return this.flagInput.value}set operation(o){if(this.clear(),this.disableAllPanes(),es(o)&&(this.conditionalGatePaneDisabled=!1,this.ifInput.value=o.if),dn(o)){let c=Mo(o.angle);Ol(o)?(this.angleInputLabel.textContent="𝜑",this.denominatorVariableLabel.textContent="𝜑"):($l(o)||Hl(o)||Bl(o))&&(this.angleInputLabel.textContent="𝛳",this.denominatorVariableLabel.textContent="𝛳"),this.anglePaneDisabled=!1,this.angleInput.value=o.angle,this.backupCurrentPhi(),this.angleSlider.angle=o.angle,this.denominatorInput.value=c.toString(),this.denominatorLabel.textContent=c.toString(),this.backupCurrentDenominator(),this.reduceAngleFractionCheckbox.checked=o.reducedAngle!==""}rr(o)&&(this.conditionalFlagPaneDisabled=!1,this.flagInput.value=o.flag)}clear(){this.ifInput.value="",this.angleInput.value="",this.angleSlider.angle="",this.denominatorInput.value="",this.reduceAngleFractionCheckbox.checked=!1,this.flagInput.value=""}disableAllPanes(){this.conditionalGatePaneDisabled=!0,this.anglePaneDisabled=!0,this.conditionalFlagPaneDisabled=!0}connectedCallback(){this.shadowRoot===null&&(this.attachShadow({mode:"open"}),this.update(),this.addEventListener("angle-slider-change",this.changeAngle),this.addEventListener("angle-slider-update",this.updateAngle),this.ifInput.addEventListener("change",this.changeIf.bind(this)),this.angleInput.addEventListener("change",this.updateAngleInput.bind(this)),this.denominatorInput.addEventListener("change",this.changeDenominator.bind(this)),this.reduceAngleFractionCheckbox.addEventListener("change",this.changeReduceSetting.bind(this)),this.flagInput.addEventListener("change",this.changeFlag.bind(this)))}update(){Y(U`<slot></slot>`,this.shadowRoot)}changeAngle(o){let c=o.target;if(!Ec(c))throw new Error(`${c} isn't an angle-slider`);this.angleInput.value=c.angle,this.dispatchEvent(new Event("operation-inspector-angle-change",{bubbles:!0}))}updateAngle(o){let c=o.target;if(!Ec(c))throw new Error(`${c} isn't an angle-slider`);this.angleInput.value=c.angle,this.dispatchEvent(new Event("operation-inspector-angle-update",{bubbles:!0}))}backupCurrentPhi(){this.angleInput.setAttribute("data-original-value",this.angleInput.value)}restoreOriginalPhi(){let o=this.angleInput.getAttribute("data-original-value");ne.notNull(o),this.angleInput.value=o}changeIf(){this.dispatchEvent(new Event("operation-inspector-if-change",{bubbles:!0}))}updateAngleInput(){let o=this.angleInput.value;if(Lp(o)){let c,h=Mo(o);this.denominatorInput.value=h.toString(),this.denominatorLabel.textContent=h.toString(),this.backupCurrentDenominator(),Np(o,"-2π")?(c=`-${h*2}π/${h}`,this.angleInput.value=c):_p(o,"2π")?(c=`${h*2}π/${h}`,this.angleInput.value=c):c=o,this.backupCurrentPhi(),this.angleSlider.angle=c,this.dispatchEvent(new Event("operation-inspector-angle-update",{bubbles:!0}))}else this.restoreOriginalPhi()}changeFlag(){this.dispatchEvent(new Event("operation-inspector-flag-change",{bubbles:!0}))}backupCurrentDenominator(){this.denominatorInput.setAttribute("data-original-value",this.denominatorInput.value)}restoreOriginalDenominator(){let o=this.denominatorInput.getAttribute("data-original-value");ne.notNull(o),this.denominatorInput.value=o,this.denominatorLabel.textContent=o}changeDenominator(){let o=this.denominatorInput.value;Nh(o)&&parseInt(o)>1?(this.denominatorLabel.textContent=o,this.angleSlider.denominator=parseInt(o),this.angleInput.value=this.angleSlider.angle):this.restoreOriginalDenominator()}changeReduceSetting(){this.dispatchEvent(new Event("operation-inspector-angle-update",{bubbles:!0}))}};u(nu,"OperationInspectorElement"),M([Oe],nu.prototype,"ifInput",2),M([Oe],nu.prototype,"angleInputLabel",2),M([Oe],nu.prototype,"angleInput",2),M([Oe],nu.prototype,"angleSlider",2),M([Oe],nu.prototype,"denominatorInput",2),M([Oe],nu.prototype,"denominatorVariableLabel",2),M([Oe],nu.prototype,"denominatorLabel",2),M([Oe],nu.prototype,"reduceAngleFractionCheckbox",2),M([Oe],nu.prototype,"flagInput",2),M([k],nu.prototype,"conditionalGatePaneDisabled",2),M([k],nu.prototype,"anglePaneDisabled",2),M([k],nu.prototype,"conditionalFlagPaneDisabled",2),nu=M([X],nu);var iu=er(lt(),1);var ru=class extends HTMLElement{constructor(){super(...arguments);this.ket=0;this.qubitCount=1;this.amplitude="";this.hidePhase=!1;this.popupTemplateId="qubit-circle-popup-template";this.showPopupHeader=!1;this.showPopupAmplitude=!1;this.showPopupProbability=!1;this.showPopupPhase=!1;this.darkMode=!1}connectedCallback(){this.shadowRoot===null&&(this.attachShadow({mode:"open"}),this.update(),this.addPopupEventListeners())}update(){Y(U`<style>
          :host {
            position: relative;
          }

          :host::after {
            position: absolute;
            bottom: -3px;
            right: -12px;
            font-size: 10px;
            line-height: 10px;
            white-space: nowrap;
            content: '|' attr(data-ket) '⟩';
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New',
              monospace;
          }

          :host([data-dark-mode])::after {
            color: #ffffff;
          }

          #border {
            position: relative;

            box-sizing: border-box;
            border-color: rgb(100 116 139); /* slate-500 */
            border-radius: 9999px;
            border-style: solid;
            border-width: 2px;

            height: 100%;
            width: 100%;
          }

          :host([data-dark-mode]) #border {
            border-color: rgb(228 228 231); /* zinc-200 */
          }

          :host(:hover) #border {
            filter: brightness(0.9);
          }

          #magnitude {
            position: absolute;
            top: 0px;
            right: 0px;
            bottom: 0px;
            left: 0px;

            border-radius: 9999px;

            background-color: rgb(14 165 233); /* sky-500 */

            transform-origin: center;
            transform: scaleX(${this.magnitude}) scaleY(${this.magnitude});
          }

          #phase {
            position: absolute;
            top: 0px;
            right: 0px;
            bottom: 0px;
            left: 0px;
            background-color: rgb(15 23 42); /* slate-900 */
            height: 50%;
            width: 2px;
            margin-left: auto;
            margin-right: auto;
            border-bottom-right-radius: 0.25rem;
            border-bottom-left-radius: 0.25rem;
            transform-origin: bottom;
            transform: rotate(${this.cssPhaseDeg}deg);
          }

          :host([data-dark-mode]) #phase {
            background-color: #ffffff;
          }

          :host([data-hide-phase]) #phase {
            display: none;
          }
        </style>

        <div id="border">
          <div id="magnitude" part="magnitude"></div>
          <div id="phase"></div>
        </div>`,this.shadowRoot),this.magnitude===0&&(this.hidePhase=!0)}addPopupEventListeners(){this.addEventListener("mouseenter",this.showPopup),this.addEventListener("mouseleave",this.hidePopup)}showPopup(){let o=da(this,{allowHTML:!0,animation:!1,delay:0,theme:"tooltip"});if(this.popupTemplate===null)return;let c=document.importNode(this.popupTemplate.content,!0),h=new iu.default(this.amplitude),b=c.getElementById("qubit-circle-popup--header"),S=c.getElementById("qubit-circle-popup--ket-binary-value"),P=c.getElementById("qubit-circle-popup--ket-decimal-value"),I=c.getElementById("qubit-circle-popup--amplitude"),A=c.getElementById("qubit-circle-popup--amplitude-real-value"),z=c.getElementById("qubit-circle-popup--amplitude-imag-value"),R=c.getElementById("qubit-circle-popup--probability"),D=c.getElementById("qubit-circle-popup--probability-value"),L=c.getElementById("qubit-circle-popup--phase"),G=c.getElementById("qubit-circle-popup--phase-value");ne.notNull(b),ne.notNull(S),ne.notNull(P),ne.notNull(I),ne.notNull(A),ne.notNull(z),ne.notNull(R),ne.notNull(D),ne.notNull(L),ne.notNull(G),this.showPopupHeader?(S.textContent=this.ket.toString(2).padStart(this.qubitCount,"0"),P.textContent=this.ket.toString()):b.style.display="none",this.showPopupAmplitude?(A.textContent=Ot(h.re,5),z.textContent=`${Ot(h.im,5)}i`):I.style.display="none",this.showPopupProbability?D.textContent=`${Ot(this.magnitude*this.magnitude*100,4)}%`:R.style.display="none",this.showPopupPhase?G.textContent=`${Ot(this.phaseDeg,2)}°`:L.style.display="none";let $=document.createElement("div");$.appendChild(c),o.setContent($.innerHTML),o.show()}get magnitude(){return new iu.default(this.amplitude).abs()}get phase(){return new iu.default(this.amplitude).arg()}get phaseDeg(){return this.phase/Math.PI*180}get cssPhaseDeg(){return-1*this.phaseDeg}hidePopup(){let o=this._tippy;ne.notNull(o),o.destroy()}get popupTemplate(){return document.getElementById(this.popupTemplateId)}};u(ru,"QubitCircleElement"),M([k],ru.prototype,"ket",2),M([k],ru.prototype,"qubitCount",2),M([k],ru.prototype,"amplitude",2),M([k],ru.prototype,"hidePhase",2),M([k],ru.prototype,"popupTemplateId",2),M([k],ru.prototype,"showPopupHeader",2),M([k],ru.prototype,"showPopupAmplitude",2),M([k],ru.prototype,"showPopupProbability",2),M([k],ru.prototype,"showPopupPhase",2),M([k],ru.prototype,"darkMode",2),ru=M([X],ru);var ou=er(nt(),1);var au='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M2 10C2 10 4.00498 7.26822 5.63384 5.63824C7.26269 4.00827 9.5136 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.89691 21 4.43511 18.2543 3.35177 14.5M2 10V4M2 10H8" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>\n';var bu='<svg part="tail-spin-icon" width="38" height="38" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg">\n    <defs>\n        <linearGradient x1="8.042%" y1="0%" x2="65.682%" y2="23.865%" id="a">\n            <stop stop-color="#fff" stop-opacity="0" offset="0%"/>\n            <stop stop-color="#fff" stop-opacity=".631" offset="63.146%"/>\n            <stop stop-color="#fff" offset="100%"/>\n        </linearGradient>\n    </defs>\n    <g fill="none" fill-rule="evenodd">\n        <g transform="translate(1 1)">\n            <path d="M36 18c0-9.94-8.06-18-18-18" id="Oval-2" stroke="url(#a)" stroke-width="2">\n                <animateTransform\n                    attributeName="transform"\n                    type="rotate"\n                    from="0 18 18"\n                    to="360 18 18"\n                    dur="0.9s"\n                    repeatCount="indefinite" />\n            </path>\n            <circle fill="#fff" cx="36" cy="18" r="1">\n                <animateTransform\n                    attributeName="transform"\n                    type="rotate"\n                    from="0 18 18"\n                    to="360 18 18"\n                    dur="0.9s"\n                    repeatCount="indefinite" />\n            </circle>\n        </g>\n    </g>\n</svg>\n';var yu=class extends HTMLElement{constructor(){super(...arguments);this.running=!1;this.debug=!1;this.runCircuitButtonMachine=ht({id:"run-circuit-button",initial:"unknown",states:{unknown:{always:[{target:"idle",cond:"isIdle"},{target:"running",cond:"isRunning"}]},idle:{on:{CLICK:{target:"running",actions:["ripple","setRunningTrue","dispatchClickEvent"]}}},running:{on:{FINISH:{target:"idle",actions:["setRunningFalse"]}}}}},{actions:{setRunningFalse:()=>{this.running=!1},setRunningTrue:()=>{this.running=!0},ripple:(o,c)=>{if(c.type!=="CLICK")return;this.ripple&&this.ripple.remove();let h=document.createElement("span");h.id="ripple";let b=Math.max(this.clientWidth,this.clientHeight),S=b/2,P=this.getBoundingClientRect(),I=P.left+window.pageXOffset,A=P.top+window.pageYOffset;h.setAttribute("part","ripple"),h.setAttribute("data-target","run-circuit-button.ripple"),h.style.width=h.style.height=`${b}px`,h.style.left=c.clientX-(I+S)+"px",h.style.top=c.clientY-(A+S)+"px",this.body.appendChild(h)},dispatchClickEvent:()=>{this.dispatchEvent(new Event("run-circuit-button-click",{bubbles:!0}))}},guards:{isIdle:()=>!this.running,isRunning:()=>this.running}});this.runCircuitButtonService=ut(this.runCircuitButtonMachine).onTransition((o=>{this.debug&&console.log(`run-circuit-button: ${(0,ou.format)(o.value)}`)}))}connectedCallback(){this.attachShadow({mode:"open"}),this.update(),this.runCircuitButtonService.start(),this.addEventListener("click",this.handleClickEvent)}attributeChangedCallback(o,c,h){c!==h&&o==="data-running"&&h!==null&&this.runCircuitButtonService.send({type:"FINISH"})}update(){Y(U`<style>
          #body {
            position: relative;
            overflow: hidden;
            border-radius: 9999px;
            height: 100%;
            width: 100%;
          }

          #ripple {
            position: absolute;
            border-radius: 9999px;
            transform: scale(0);
            animation: ripple 400ms linear;
          }

          @keyframes ripple {
            to {
              transform: scale(4);
              opacity: 0;
            }
          }
        </style>

        <div id="body" part="body" data-target="run-circuit-button.body">${this.reloadIcon} ${this.tailSpinIcon}</div>`,this.shadowRoot)}handleClickEvent(o){this.runCircuitButtonService.send({type:"CLICK",clientX:o.clientX,clientY:o.clientY})}get reloadIcon(){return U([au])}get tailSpinIcon(){return U([bu])}};u(yu,"RunCircuitButtonElement"),M([k],yu.prototype,"running",2),M([k],yu.prototype,"debug",2),M([Oe],yu.prototype,"body",2),M([Oe],yu.prototype,"ripple",2),yu=M([X],yu);var wu=class extends HTMLElement{constructor(){super(...arguments);this.direction="";this.directionDesktop="";this.duration=800;this.marginTop=0;this.marginBottom=0;this.mobile=!1}connectedCallback(){window.addEventListener("load",(()=>{let o=window.getComputedStyle(this);this.marginTop=parseFloat(o.getPropertyValue("margin-top"))||0,this.marginBottom=parseFloat(o.getPropertyValue("margin-bottom"))||0,this.prepareAnimation(),this.startAnimation()})),this.attachShadow({mode:"open"}),this.renderShadowRoot(),this.startViewSizeChangeEventListener()}startViewSizeChangeEventListener(){let o=window.matchMedia("(max-width: 639px)");o.addEventListener("change",(()=>this.handleViewSizeChange(o))),this.setMobileBreakpointFlag(o)}handleViewSizeChange(o){this.setMobileBreakpointFlag(o);let c=window.getComputedStyle(this);this.marginTop=parseFloat(c.getPropertyValue("margin-top"))||0,this.marginBottom=parseFloat(c.getPropertyValue("margin-bottom"))||0,this.prepareAnimation(),this.startAnimation()}setMobileBreakpointFlag(o){this.mobile=o.matches}prepareAnimation(){this.mobile?this.direction==="up"?(this.style.bottom="auto",this.style.top=`${window.innerHeight}px`):this.direction==="down"&&(this.style.top=`-${this.offsetHeight+this.marginTop}px`):this.directionDesktop==="up"?(this.style.bottom="auto",this.style.top=`${window.innerHeight}px`):this.directionDesktop==="down"&&(this.style.top=`-${this.offsetHeight}px`)}startAnimation(){this.mobile?this.direction==="up"?this.animate([{transform:"translateY(0px)"},{transform:`translateY(-${this.offsetHeight+this.marginBottom+16}px)`},{transform:`translateY(-${this.offsetHeight+this.marginBottom}px)`}],{duration:this.duration,fill:"forwards",easing:"ease-out"}):this.direction==="down"&&this.animate([{transform:"translateY(0px)"},{transform:`translateY(${this.offsetHeight+this.marginTop+16}px)`},{transform:`translateY(${this.offsetHeight+this.marginTop}px)`}],{duration:this.duration,fill:"forwards",easing:"ease-out"}):this.directionDesktop==="up"?this.animate([{transform:"translateY(0px)"},{transform:`translateY(-${this.offsetHeight+this.marginBottom+16}px)`},{transform:`translateY(-${this.offsetHeight+this.marginBottom}px)`}],{duration:this.duration,fill:"forwards",easing:"ease-out"}):this.directionDesktop==="down"&&this.animate([{transform:"translateY(0px)"},{transform:`translateY(${this.offsetHeight+16}px)`},{transform:`translateY(${this.offsetHeight}px)`}],{duration:this.duration,fill:"forwards",easing:"ease-out"})}renderShadowRoot(){Y(U`<slot></slot>`,this.shadowRoot)}};u(wu,"SlideInElement"),M([k],wu.prototype,"direction",2),M([k],wu.prototype,"directionDesktop",2),M([k],wu.prototype,"duration",2),M([k],wu.prototype,"marginTop",2),M([k],wu.prototype,"marginBottom",2),wu=M([X],wu);var xu=class extends HTMLElement{constructor(){super(...arguments);this.comment="";this.finalized=!1}finalize(){this.finalized=!0}connectedCallback(){this.attachShadow({mode:"open"}),this.update()}update(){Y(U`<style>
          :host {
            position: relative;
          }
          :host::before,
          :host::after {
            position: absolute;
            display: flex;
            justify-content: center;
            color: rgb(14 165 233); /* sky-500 */
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New',
              monospace;
            white-space: nowrap;
            content: attr(data-comment) '';
            writing-mode: vertical-lr;
          }
          :host::before {
            top: 0;
            right: 0;
            bottom: 0;
            left: unset;
          }
          :host::after {
            top: 0;
            left: 0;
            bottom: 0;
            right: unset;
          }
          @media (min-width: 768px) {
            :host::before,
            :host::after {
              writing-mode: horizontal-tb;
              left: 0;
              right: 0;
            }
            :host::before {
              top: 0;
              bottom: unset;
            }
            :host::after {
              bottom: 0;
              top: unset;
            }
          }
          #body {
            display: flex;
            border-style: solid;
            border-color: rgb(14 165 233); /* sky-500 */
            background-color: rgba(229, 229, 229, 0.3);
            flex-direction: column;
            margin-left: 1.5rem;
            margin-right: 1.5rem;
            padding-left: 1.5rem;
            padding-right: 1.5rem;
            border-top-width: 0;
            border-right-width: 2px;
            border-bottom-width: 0;
            border-left-width: 2px;
          }
          @media (min-width: 768px) {
            #body {
              flex-direction: row;
              margin-top: 1.5rem;
              margin-bottom: 1.5rem;
              margin-left: 0;
              margin-right: 0;
              padding: 2rem 0;
              border-top-width: 2px;
              border-right-width: 0;
              border-bottom-width: 2px;
              border-left-width: 0;
            }
          }
        </style>
        <div id="body">
          <slot></slot>
        </div>`,this.shadowRoot)}};u(xu,"CircuitBlockElement"),M([k],xu.prototype,"comment",2),M([k],xu.prototype,"finalized",2),xu=M([X],xu);var ku=er(nt(),1);var zu=u((o=>o!=null&&o instanceof Ru),"isCircuitStepElement"),Nu=u(((o,c)=>Array.from(o.reduce(((o,h,b,S)=>{let P=c(h,b,S),I=o.get(P);return I?I.push(h):o.set(P,[h]),o}),new Map))),"groupBy"),Ru=class extends HTMLElement{constructor(){super(...arguments);this.active=!1;this.breakpoint=!1;this.shadow=!1;this.keep=!1;this.debug=!1;this.circuitStepMachine=ht({id:"circuit-step",initial:"unknown",strict:!0,states:{unknown:{always:[{target:"shadow",cond:"isShadow"},{target:"visible",cond:"isVisible"}]},shadow:{type:"compound",initial:"unknown",on:{SNAP_DROPZONE:{target:"shadow",actions:["setOperationBit","updateResizeableSpanDropzones","dispatchSnapEvent"]},UNSNAP_DROPZONE:{target:"shadow",actions:["updateResizeableSpanDropzones","dispatchUnsnapEvent"]},UNSHADOW:{target:"visible",actions:["unshadow"]}},states:{unknown:{always:[{target:"inactive",cond:"isInactive"},{target:"active",cond:"isActive"}]},inactive:{on:{ACTIVATE:{target:"active"}}},active:{on:{DEACTIVATE:{target:"inactive"}}}}},visible:{type:"parallel",on:{SNAP_DROPZONE:{target:"visible",actions:["setOperationBit","updateResizeableSpanDropzones","dispatchSnapEvent"]},UNSNAP_DROPZONE:{target:"visible",actions:["updateResizeableSpanDropzones","dispatchUnsnapEvent"]},OCCUPY_DROPZONE:{target:"visible",actions:["setOperationBit","updateResizeableSpanDropzones"]},DELETE_OPERATION:{target:"visible",actions:["updateResizeableSpanDropzones","dispatchDeleteOperationEvent"]},RESIZE_OPERATION:{target:"visible",actions:["updateResizeableSpanDropzones","dispatchResizeOperationEvent"]}},states:{activatable:{type:"compound",initial:"unknown",states:{unknown:{always:[{target:"inactive",cond:"isInactive"},{target:"active",cond:"isActive"}]},inactive:{on:{ACTIVATE:{target:"active"}}},active:{on:{DEACTIVATE:{target:"inactive"}}}}},breakpointable:{type:"compound",initial:"unknown",states:{unknown:{always:[{target:"breakpointOn",cond:"isBreakpointOn"},{target:"breakpointOff",cond:"isBreakpointOff"}]},breakpointOn:{on:{UNSET_BREAKPOINT:{target:"breakpointOff"}}},breakpointOff:{on:{SET_BREAKPOINT:{target:"breakpointOn"}}}}}}}}},{actions:{setOperationBit:(o,c)=>{if(!(c.type==="SNAP_DROPZONE"||c.type==="OCCUPY_DROPZONE"))return;let h=c.dropzone,b=this.bit(h);ne.notNull(h.operation),h.operation.bit=b},updateResizeableSpanDropzones:(o,c)=>{if(!(c.type==="SNAP_DROPZONE"||c.type==="UNSNAP_DROPZONE"||c.type==="OCCUPY_DROPZONE"||c.type==="DELETE_OPERATION"||c.type==="RESIZE_OPERATION"))return;let h=1;for(let o of this.dropzones){let c=o.operation;os(c)?h=c.span:c===null&&(h>1?(o.occupied=!0,h-=1):o.occupied=!1)}},dispatchSnapEvent:(o,c)=>{c.type==="SNAP_DROPZONE"&&fe("circuit-step:qpu-operation-snap",{dropzone:c.dropzone},this)},dispatchUnsnapEvent:(o,c)=>{c.type==="UNSNAP_DROPZONE"&&fe("circuit-step:qpu-operation-unsnap",{dropzone:c.dropzone},this)},dispatchDeleteOperationEvent:(o,c)=>{c.type==="DELETE_OPERATION"&&fe("circuit-step:delete-qpu-operation",{dropzone:c.dropzone},this)},dispatchResizeOperationEvent:(o,c)=>{c.type==="RESIZE_OPERATION"&&fe("circuit-step:resize-qpu-operation",{dropzone:c.dropzone},this)},unshadow:()=>{this.shadow=!1}},guards:{isShadow:()=>this.shadow,isVisible:()=>!this.shadow,isActive:()=>this.active,isInactive:()=>!this.active,isBreakpointOn:()=>this.breakpoint,isBreakpointOff:()=>!this.breakpoint}});this.circuitStepService=ut(this.circuitStepMachine).onTransition((o=>{this.debug&&console.log(`circuit-step: ${(0,ku.format)(o.value)}`)}))}get maxOccupiedDropzoneBit(){let o=0;for(let[c,h]of Object.entries(this.dropzones)){if(!h.occupied)continue;let b=parseInt(c,10)+1;if(b>o&&(o=b),os(h.operation)){let c=b+h.operation.span-1;c>o&&(o=c)}}return ne.need(0<=o&&o<=Xt.MAX_QUBIT_COUNT,"invalid number of qubits in use"),o}get wireCount(){return this.dropzones.length}get isInBlock(){return this.closest("circuit-block")!==null}get block(){return this.closest("circuit-block")}connectedCallback(){this.circuitStepService.start(),this.addEventListener("mouseenter",this.dispatchMouseenterEvent),this.addEventListener("mouseleave",this.dispatchMouseleaveEvent),this.addEventListener("click",this.maybeDispatchClickEvent),this.addEventListener("circuit-dropzone:qpu-operation-snap",this.snapDropzone),this.addEventListener("circuit-dropzone:qpu-operation-unsnap",this.unsnapDropzone),this.addEventListener("circuit-dropzone:qpu-operation-delete",this.deleteOperation),this.addEventListener("circuit-dropzone:qpu-operation-resize",this.resizeOperation),this.addEventListener("circuit-dropzone:qpu-operation-drop",this.unshadow),this.addEventListener("circuit-dropzone:occupied",this.occupyDropzone),this.attachShadow({mode:"open"}),this.updateOperationAttributes(),this.update()}attributeChangedCallback(o,c,h){if(c!==h&&(o==="data-active"&&(h!==null?this.circuitStepService.send({type:"ACTIVATE"}):this.circuitStepService.send({type:"DEACTIVATE"})),o==="data-breakpoint"&&(h!==null?this.circuitStepService.send({type:"SET_BREAKPOINT"}):this.circuitStepService.send({type:"UNSET_BREAKPOINT"})),o==="data-shadow"))for(let o of this.dropzones)o.shadow=h!==null}update(){Y(U`<slot></slot>`,this.shadowRoot),this.dispatchUpdateEvent()}updateOperationAttributes(o){for(let o of this.dropzones)o.connectTop=!1,o.connectBottom=!1;let c=this.controlGateDropzones,h=this.antiControlGateDropzones,b=this.controllableDropzones(o);for(let o of b)gn(o.operation)&&(o.operation.controls=[],o.operation.antiControls=[]);this.updateSwapConnections(o),this.updatePhasePhaseConnections(o),c.length!==1||b.length!==0?h.length!==1||b.length!==0?c.length===0&&h.length===0||(b.length===0?this.updateControlControlConnections(o):this.updateControlledUConnections(o),this.updateFreeDropzoneConnections(o)):h[0].operation.disable():c[0].operation.disable()}updateSwapConnections(o){let c=o==null?void 0:o.disableSwap,h=this.swapGateDropzones;if(h.length!==2||c)for(let o of h)o.operation.disable();else{for(let o of h)o.operation.enable(),o.connectTop=h.some((c=>this.bit(c)<this.bit(o))),o.connectBottom=h.some((c=>this.bit(c)>this.bit(o)));let o=h.map((o=>this.bit(o)));for(let c of this.freeDropzones){let h=Math.min(...o),b=Math.max(...o);h<this.bit(c)&&this.bit(c)<b&&(c.connectTop=!0,c.connectBottom=!0)}}}updatePhasePhaseConnections(o){if(o!=null&&o.disablePhasePhase)return;let c=this.phaseGateDropzones;for(let h of c){let b=h.operation;if(b.angle===""||o!==void 0&&o.maxPhasePhaseTargetGates===1)continue;let S=c.filter((o=>{if(!Ol(o.operation))throw new Error(`${o.operation} isn't a phase-gate element.`);return b.angle===o.operation.angle})).map((o=>this.bit(o)));o!==void 0&&o.maxPhasePhaseTargetGates>1&&(S=S.slice(0,o.maxPhasePhaseTargetGates)),S.includes(this.bit(h))&&(h.connectTop=S.some((o=>o<this.bit(h))),h.connectBottom=S.some((o=>o>this.bit(h))))}for(let o of this.freeDropzones){let c=this.phaseGateDropzones.filter((o=>o.connectTop||o.connectBottom)).map((o=>this.bit(o))),h=Math.min(...c),b=Math.max(...c);h<this.bit(o)&&this.bit(o)<b&&(o.connectTop=!0,o.connectBottom=!0)}}updateControlControlConnections(o){let c=this.controlGateDropzones,h=c.map((o=>this.bit(o))),b=0;o!==void 0&&(o.maxControlControlTargetGates===1?h=[]:o.maxControlControlTargetGates>1&&(h=h.slice(0,o.maxControlControlTargetGates)));for(let S of c){b+=1;let c=S.operation;o!=null&&o.disableControlControl||o!==void 0&&(o.maxControlControlTargetGates===1||o.maxControlControlTargetGates>0&&b>o.maxControlControlTargetGates)?c.disable():(c.enable(),S.connectTop=h.some((o=>this.bit(S)>o)),S.connectBottom=h.some((o=>this.bit(S)<o)))}}updateControlledUConnections(o){let c=this.controllableDropzones(o),h=this.controlGateDropzones,b=this.antiControlGateDropzones,S=[...new Set(c.map((o=>o.operationName)))],P=this.numControlGateDropzones(o,S),I=h.map((o=>this.bit(o))),A=b.map((o=>this.bit(o))),z=I.concat(A),R=P===null?z:z.slice(0,P),D=c.map((o=>this.bit(o))),L=R.concat(D);for(let[o,c]of Object.entries(h)){let h=c.operation;c.connectBottom=L.some((o=>this.bit(c)<o)),c.connectTop=L.some((o=>this.bit(c)>o)),P===null||P!==null&&parseInt(o)<P?h.enable():(c.connectTop=Math.max(...L)>this.bit(c),h.disable())}for(let[o,c]of Object.entries(b)){let h=c.operation;c.connectBottom=L.some((o=>this.bit(c)<o)),c.connectTop=L.some((o=>this.bit(c)>o)),P===null||P!==null&&parseInt(o)<P?h.enable():(c.connectTop=Math.max(...L)>this.bit(c),h.disable())}for(let h of c){if(!gn(h.operation))throw new Error(`${h.operation} isn't controllable.`);h.operation.controls=this.controlBits(h,I,o),h.operation.antiControls=A,h.connectTop=L.some((o=>o<this.bit(h))),h.connectBottom=L.some((o=>o>this.bit(h)))}}updateFreeDropzoneConnections(o){let c=this.controllableDropzones(o),h=this.controlGateDropzones.filter((o=>uc(o.operation)&&!o.operation.disabled)).map((o=>this.bit(o))),b=this.antiControlGateDropzones.filter((o=>fc(o.operation)&&!o.operation.disabled)).map((o=>this.bit(o))),S=c.map((o=>this.bit(o))),P=h.concat(b).concat(S),I=Math.min(...P),A=Math.max(...P);for(let o of this.freeDropzones)I<this.bit(o)&&this.bit(o)<A&&(o.connectTop=!0,o.connectBottom=!0)}controlBits(o,c,h){let b=c;return h&&(h.maxChControlGates>0&&o.operationName==="h-gate"?b=c.slice(0,h.maxChControlGates):h.maxCnotControlGates>0&&o.operationName==="x-gate"?b=c.slice(0,h.maxCnotControlGates):h.maxCyControlGates>0&&o.operationName==="y-gate"?b=c.slice(0,h.maxCyControlGates):h.maxCzControlGates>0&&o.operationName==="z-gate"?b=c.slice(0,h.maxCzControlGates):h.maxCphaseControlGates>0&&o.operationName==="phase-gate"?b=c.slice(0,h.maxCphaseControlGates):h.maxCtControlGates>0&&o.operationName==="t-gate"?b=c.slice(0,h.maxCtControlGates):h.maxCrnotControlGates>0&&o.operationName==="rnot-gate"?b=c.slice(0,h.maxCrnotControlGates):h.maxCrxControlGates>0&&o.operationName==="rx-gate"?b=c.slice(0,h.maxCrxControlGates):h.maxCryControlGates>0&&o.operationName==="ry-gate"?b=c.slice(0,h.maxCryControlGates):h.maxCrzControlGates>0&&o.operationName==="rz-gate"?b=c.slice(0,h.maxCrzControlGates):h.maxCswapControlGates>0&&o.operationName==="swap-gate"&&(b=c.slice(0,h.maxCswapControlGates))),b}bit(o){let c=this.dropzones.indexOf(o);return ne.need(c!==-1,"circuit-dropzone not found."),c}get isEmpty(){return!this.keep&&this.dropzones.every((o=>o.operation===null))}dropzoneAt(o){let c=this.dropzones[o];return ne.notNull(c),c}get lastDropzone(){return this.dropzones[this.wireCount-1]}appendDropzone(){let o=new $u;return o.shadow=this.shadow,this.append(o),o}appendOperation(o){let c=new $u;this.append(c),c.put(o)}get swapGateDropzones(){return this.occupiedDropzones.filter((o=>o.operationName==="swap-gate"))}get phaseGateDropzones(){return this.occupiedDropzones.filter((o=>o.operationName==="phase-gate"))}get controlGateDropzones(){return this.occupiedDropzones.filter((o=>uc(o.operation)))}get antiControlGateDropzones(){return this.occupiedDropzones.filter((o=>fc(o.operation)))}numControlGateDropzones(o,c){if(o===void 0)return null;let h=0;return c.includes("h-gate")&&!o.disableCh&&o.maxChControlGates>h&&(h=o.maxChControlGates),c.includes("x-gate")&&!o.disableCnot&&o.maxCnotControlGates>h&&(h=o.maxCnotControlGates),c.includes("y-gate")&&!o.disableCy&&o.maxCyControlGates>h&&(h=o.maxCyControlGates),c.includes("z-gate")&&!o.disableCz&&o.maxCzControlGates>h&&(h=o.maxCzControlGates),c.includes("phase-gate")&&!o.disableCphase&&o.maxCphaseControlGates>h&&(h=o.maxCphaseControlGates),c.includes("t-gate")&&!o.disableCt&&o.maxCtControlGates>h&&(h=o.maxCtControlGates),c.includes("rnot-gate")&&!o.disableCrnot&&o.maxCrnotControlGates>h&&(h=o.maxCrnotControlGates),c.includes("rx-gate")&&!o.disableCrx&&o.maxCrxControlGates>h&&(h=o.maxCrxControlGates),c.includes("ry-gate")&&!o.disableCry&&o.maxCryControlGates>h&&(h=o.maxCryControlGates),c.includes("rz-gate")&&!o.disableCrz&&o.maxCrzControlGates>h&&(h=o.maxCrzControlGates),c.includes("swap-gate")&&!o.disableCswap&&o.maxCswapControlGates>h&&(h=o.maxCswapControlGates),h===0?null:h}controllableDropzones(o){let c=0,h=0,b=0,S=0,P=0,I=0,A=0,z=0,R=0,D=0;return this.occupiedDropzones.filter((o=>gn(o.operation))).filter((L=>o===void 0||(vl(L.operation)?(c+=1,!(o.maxChTargetGates!==0&&c>o.maxChTargetGates)&&!o.disableCh):ml(L.operation)?(h+=1,!(o.maxCnotTargetGates!==0&&h>o.maxCnotTargetGates)&&!o.disableCnot):wl(L.operation)?(b+=1,!(o.maxCyTargetGates!==0&&b>o.maxCyTargetGates)&&!o.disableCy):xl(L.operation)?(S+=1,!(o.maxCzTargetGates!==0&&S>o.maxCzTargetGates)&&!o.disableCz):Ol(L.operation)?(P+=1,!(o.maxCphaseTargetGates!==0&&P>o.maxCphaseTargetGates)&&!o.disableCphase):_l(L.operation)?(I+=1,!(o.maxCtTargetGates!==0&&I>o.maxCtTargetGates)&&!o.disableCt):Gl(L.operation)?(A+=1,!(o.maxCrnotTargetGates!==0&&A>o.maxCrnotTargetGates)&&!o.disableCrnot):$l(L.operation)?(z+=1,!(o.maxCrxTargetGates!==0&&z>o.maxCrxTargetGates)&&!o.disableCrx):Hl(L.operation)?(R+=1,!(o.maxCryTargetGates!==0&&R>o.maxCryTargetGates)&&!o.disableCry):Bl(L.operation)?(D+=1,!(o.maxCrzTargetGates!==0&&D>o.maxCrzTargetGates)&&!o.disableCrz):!oc(L.operation)||!o.disableCswap)))}dispatchUpdateEvent(){fe("circuit-step:update",{},this)}deleteOperation(o){let c=o.target;this.circuitStepService.send({type:"DELETE_OPERATION",dropzone:c})}resizeOperation(o){let c=o.target;this.circuitStepService.send({type:"RESIZE_OPERATION",dropzone:c})}dispatchMouseenterEvent(){fe("circuit-step:mouseenter",{},this)}dispatchMouseleaveEvent(){fe("circuit-step:mouseleave",{},this)}maybeDispatchClickEvent(o){fl(o.target)||fe("circuit-step:click",{},this)}snapDropzone(o){let c=o.target;this.circuitStepService.send({type:"SNAP_DROPZONE",dropzone:c})}unsnapDropzone(o){let c=o.target;this.circuitStepService.send({type:"UNSNAP_DROPZONE",dropzone:c})}unshadow(){this.circuitStepService.send({type:"UNSHADOW"})}occupyDropzone(o){let c=o.target;this.circuitStepService.send({type:"OCCUPY_DROPZONE",dropzone:c})}serialize(){let o=[];for(let[c,h]of Nu(this.operations,(o=>o.constructor)))switch(c){case ds:{let c=h;for(let[h,b]of Nu(c,(o=>o.if)))for(let[c,S]of Nu(b,(o=>o.controls.toString()))){let b=S[0],P=b.operationType,I=S.map((o=>o.bit)),A={type:P,targets:I};h!==""&&(A.if=h),c!==""&&(A.controls=b.controls),b.antiControls.length>0&&(A.antiControls=b.antiControls),o.push(A)}break}case al:{let c=h;for(let[h,b]of Nu(c,(o=>o.if)))for(let[c,S]of Nu(b,(o=>o.controls.toString()))){let b=S[0],P=b.operationType,I=S.map((o=>o.bit)),A={type:P,targets:I};h!==""&&(A.if=h),c!==""&&(A.controls=b.controls),b.antiControls.length>0&&(A.antiControls=b.antiControls),o.push(A)}break}case ul:{let c=h;for(let[h,b]of Nu(c,(o=>o.if)))for(let[c,S]of Nu(b,(o=>o.controls.toString()))){let b=S[0],P=b.operationType,I=S.map((o=>o.bit)),A={type:P,targets:I};h!==""&&(A.if=h),c!==""&&(A.controls=b.controls),b.antiControls.length>0&&(A.antiControls=b.antiControls),o.push(A)}break}case hl:{let c=h;for(let[h,b]of Nu(c,(o=>o.if)))for(let[c,S]of Nu(b,(o=>o.controls.toString()))){let b=S[0],P=b.operationType,I=S.map((o=>o.bit)),A={type:P,targets:I};h!==""&&(A.if=h),c!==""&&(A.controls=b.controls),b.antiControls.length>0&&(A.antiControls=b.antiControls),o.push(A)}break}case gs:{let c=h;for(let[h,b]of Nu(c,(o=>o.angle)))for(let[c,S]of Nu(b,(o=>o.if)))for(let[b,P]of Nu(S,(o=>o.controls.toString()))){let S=P[0],I=S.operationType,A=P.map((o=>o.bit)),z={type:I,targets:A};c!==""&&(z.if=c),h!==""&&(z.angle=h),b!==""&&(z.controls=S.controls),S.antiControls.length>0&&(z.antiControls=S.antiControls),o.push(z)}break}case Hs:{let c=h;for(let[h,b]of Nu(c,(o=>o.if)))for(let[c,S]of Nu(b,(o=>o.controls.toString()))){let b=S[0],P=b.operationType,I=S.map((o=>o.bit)),A={type:P,targets:I};h!==""&&(A.if=h),c!==""&&(A.controls=b.controls),b.antiControls.length>0&&(A.antiControls=b.antiControls),o.push(A)}break}case Gs:{let c=h;for(let[h,b]of Nu(c,(o=>o.if)))for(let[c,S]of Nu(b,(o=>o.controls.toString()))){let b=S[0],P=b.operationType,I=S.map((o=>o.bit)),A={type:P,targets:I};h!==""&&(A.if=h),c!==""&&(A.controls=b.controls),b.antiControls.length>0&&(A.antiControls=b.antiControls),o.push(A)}break}case Zs:{let c=h;for(let[h,b]of Nu(c,(o=>o.if)))for(let[c,S]of Nu(b,(o=>o.controls.toString()))){let b=S[0],P=b.operationType,I=S.map((o=>o.bit)),A={type:P,targets:I};h!==""&&(A.if=h),c!==""&&(A.controls=b.controls),b.antiControls.length>0&&(A.antiControls=b.antiControls),o.push(A)}break}case Ws:{let c=h;for(let[h,b]of Nu(c,(o=>o.if)))for(let[c,S]of Nu(b,(o=>o.controls.toString()))){let b=S[0],P=b.operationType,I=S.map((o=>o.bit)),A={type:P,targets:I};h!==""&&(A.if=h),c!==""&&(A.controls=b.controls),b.antiControls.length>0&&(A.antiControls=b.antiControls),o.push(A)}break}case _s:{let c=h;for(let[h,b]of Nu(c,(o=>o.if)))for(let[c,S]of Nu(b,(o=>o.controls.toString()))){let b=S[0],P=b.operationType,I=S.map((o=>o.bit)),A={type:P,targets:I};h!==""&&(A.if=h),c!==""&&(A.controls=b.controls),b.antiControls.length>0&&(A.antiControls=b.antiControls),o.push(A)}break}case zs:{let c=h;for(let[h,b]of Nu(c,(o=>o.angle)))for(let[c,S]of Nu(b,(o=>o.if)))for(let[b,P]of Nu(S,(o=>o.controls.toString()))){let S=P[0],I=S.operationType,A=P.map((o=>o.bit)),z={type:I,targets:A};c!==""&&(z.if=c),h!==""&&(z.angle=h),b!==""&&(z.controls=S.controls),S.antiControls.length>0&&(z.antiControls=S.antiControls),o.push(z)}break}case Rs:{let c=h;for(let[h,b]of Nu(c,(o=>o.angle)))for(let[c,S]of Nu(b,(o=>o.if)))for(let[b,P]of Nu(S,(o=>o.controls.toString()))){let S=P[0],I=S.operationType,A=P.map((o=>o.bit)),z={type:I,targets:A};c!==""&&(z.if=c),h!==""&&(z.angle=h),b!==""&&(z.controls=S.controls),S.antiControls.length>0&&(z.antiControls=S.antiControls),o.push(z)}break}case js:{let c=h;for(let[h,b]of Nu(c,(o=>o.angle)))for(let[c,S]of Nu(b,(o=>o.if)))for(let[b,P]of Nu(S,(o=>o.controls.toString()))){let S=P[0],I=S.operationType,A=P.map((o=>o.bit)),z={type:I,targets:A};c!==""&&(z.if=c),h!==""&&(z.angle=h),b!==""&&(z.controls=S.controls),S.antiControls.length>0&&(z.antiControls=S.antiControls),o.push(z)}break}case qs:{let c=h,b=c[0].operationType,S=c.map((o=>o.bit)),P={type:b,targets:S};o.push(P);break}case Ps:{let c=h;for(let[h,b]of Nu(c,(o=>o.span))){let c=b[0].operationType,S=b.map((o=>o.bit)),P={type:c,span:h,targets:S};o.push(P)}break}case ys:{let c=h;for(let[h,b]of Nu(c,(o=>o.span))){let c=b[0].operationType,S=b.map((o=>o.bit)),P={type:c,span:h,targets:S};o.push(P)}break}case Us:{let c=h.filter((o=>!o.disabled));if(c.length!==2)break;let b=c[0].operationType,S=c[0].controls,P={type:b,targets:[c[0].bit,c[1].bit]};S!==void 0&&S.length>0&&(P.controls=S),o.push(P);break}case us:{let c=h.filter((o=>!o.disabled));if(c.length<2||this.operations.some((o=>gn(o)&&o.controls.length>0)))break;let b=c.map((o=>o.bit));o.push({type:c[0].operationType,targets:b});break}case ss:break;case ls:{let c=h,b=h.map((o=>o.bit));o.push({type:c[0].operationType,targets:b});break}case rl:{let c=h;for(let[,h]of Nu(c,(o=>o.value))){let c=h.map((o=>o.bit));o.push({type:h[0].operationType,targets:c})}break}case fs:{let c=h;for(let[h,b]of Nu(c,(o=>o.flag))){let c=b.map((o=>o.bit)),S={type:b[0].operationType,targets:c};h!==""&&(S.flag=h),o.push(S)}break}default:throw new Error(`Unrecognized operation: ${c}`)}return o}get operations(){return this.occupiedDropzones.map((o=>o.operation)).filter((o=>o!==null))}toJson(){let o=this.dropzones.map((o=>o.toJson()));for(;o.length>0&&o[o.length-1]==="1";)o.pop();return o.length===0?"[1]":`[${o.join(",")}]`}};u(Ru,"CircuitStepElement"),M([k],Ru.prototype,"active",2),M([k],Ru.prototype,"breakpoint",2),M([k],Ru.prototype,"shadow",2),M([k],Ru.prototype,"keep",2),M([k],Ru.prototype,"debug",2),M([ft],Ru.prototype,"dropzones",2),M([ft],Ru.prototype,"freeDropzones",2),M([ft],Ru.prototype,"occupiedDropzones",2),Ru=M([X],Ru);var Du=er(it(),1);var ju='<svg part="wires" width="48" height="48" viewBox="0 0 48 48" preserveAspectRatio="none">\n  <line\n    part="wire-input"\n    x1="0"\n    y1="24"\n    x2="24"\n    y2="24"\n    stroke="currentColor"\n    stroke-width="2"\n    vector-effect="non-scaling-stroke"\n  ></line>\n  <line\n    part="wire-output"\n    x1="24"\n    y1="24"\n    x2="48"\n    y2="24"\n    stroke="currentColor"\n    stroke-width="2"\n    vector-effect="non-scaling-stroke"\n  ></line>\n  <line\n    id="connect-top"\n    part="connect-top"\n    x1="24"\n    y1="0"\n    x2="24"\n    y2="24"\n    stroke="currentColor"\n    stroke-width="4"\n    vector-effect="non-scaling-stroke"\n  ></line>\n  <line\n    id="connect-bottom"\n    part="connect-bottom"\n    x1="24"\n    y1="48"\n    x2="24"\n    y2="24"\n    stroke="currentColor"\n    stroke-width="4"\n    vector-effect="non-scaling-stroke"\n  ></line>\n</svg>\n';var Lu,Gu=u((o=>o!=null&&o instanceof $u),"isCircuitDropzoneElement"),$u=class extends HTMLElement{constructor(){super(...arguments);Za(this,Lu,null);this.occupied=!1;this.operationName="";this.inputWireQuantum=!1;this.outputWireQuantum=!1;this.connectTop=!1;this.connectBottom=!1;this.shadow=!1;this.targets="circuit-step.dropzones circuit-step.freeDropzones";this.debug=!1;this.circuitDropzoneMachine=ht({id:"circuit-dropzone",initial:"unknown",strict:!0,states:{unknown:{always:[{target:"empty",cond:"isEmpty"},{target:"occupied",cond:"isOccupied",actions:["initOperation"]}]},empty:{on:{SNAP_OPERATION:{target:"snapped",actions:["snapOperation"]},PUT_OPERATION:{target:"occupied",actions:["putOperation"]},DELETE_OPERATION:{target:"empty",actions:["deleteOperation","dispatchDeleteOperationEvent"]}}},snapped:{on:{UNSNAP_OPERATION:{target:"empty",actions:["unsnapOperation"]},DROP_OPERATION:{target:"occupied",actions:["dropOperation"]}}},occupied:{entry:"dispatchOccupiedEvent",on:{UNSNAP_OPERATION:{target:"empty",actions:["unsnapOperation"]},DELETE_OPERATION:{target:"empty",actions:["deleteOperation","dispatchDeleteOperationEvent"]},RESIZE_OPERATION:{target:"occupied",actions:["resizeOperation"]}}}}},{actions:{initOperation:()=>{ne.notNull(this.operation),this.operation.snapped=!0},snapOperation:()=>{ne.notNull(this.operation),this.operationName=this.operation.tagName.toLocaleLowerCase(),this.occupied=!0,fe("circuit-dropzone:qpu-operation-snap",{},this)},unsnapOperation:()=>{this.removeAttribute("data-operation-name"),this.occupied=!1,fe("circuit-dropzone:qpu-operation-unsnap",{},this)},dropOperation:()=>{fe("circuit-dropzone:qpu-operation-drop",{},this)},putOperation:(o,c)=>{c.type==="PUT_OPERATION"&&(this.append(c.operation),this.operationName=c.operation.tagName.toLocaleLowerCase(),this.occupied=!0,c.operation.snapped=!0)},deleteOperation:(o,c)=>{c.type==="DELETE_OPERATION"&&(this.removeAttribute("data-operation-name"),this.occupied=!1,this.removeChild(c.operation))},resizeOperation:()=>{fe("circuit-dropzone:qpu-operation-resize",{},this)},dispatchOccupiedEvent:()=>{fe("circuit-dropzone:occupied",{},this)},dispatchDeleteOperationEvent:()=>{fe("circuit-dropzone:qpu-operation-delete",{},this)}},guards:{isEmpty:()=>this.operation===null,isOccupied:()=>this.operation!==null}});this.circuitDropzoneService=ut(this.circuitDropzoneMachine).onTransition((o=>{this.debug&&console.log(`circuit-dropzone: ${o.value}`)}))}get noConnections(){return!this.connectTop&&!this.connectBottom}get operation(){return this.firstElementChild}get snapTarget(){let o=this.getBoundingClientRect();return{x:window.pageXOffset+o.left+this.clientWidth/2,y:window.pageYOffset+o.top+this.clientHeight/2}}get resizeHandleSnapTarget(){let o=this.getBoundingClientRect();return{x:window.pageXOffset+o.left+this.clientWidth/2,y:window.pageYOffset+o.top+this.clientHeight+4}}toJson(){let o=this.operation;return o===null?"1":o.toJson()}connectedCallback(){let{signal:o}=Ka(this,Lu,new AbortController);this.attachShadow({mode:"open"}),this.update(),this.initDropzone(),this.circuitDropzoneService.start(),this.addEventListener("draggable:snap-to-dropzone",this.snap,{signal:o}),this.addEventListener("draggable:unsnap",this.unsnap,{signal:o}),this.addEventListener("draggable:end-dragging",this.dropOperation,{signal:o}),this.addEventListener("draggable:delete",this.deleteOperation,{signal:o}),this.addEventListener("menuable:menu-delete",this.deleteOperation,{signal:o}),this.addEventListener("resizeable:resize",this.resizeOperation,{signal:o})}disconnectedCallback(){var o;(o=Xa(this,Lu))==null||o.abort()}attributeChangedCallback(o,c,h){c!==h&&o==="data-occupied"&&(this.targets=h!==null?"circuit-step.dropzones circuit-step.occupiedDropzones":"circuit-step.dropzones circuit-step.freeDropzones")}update(){Y(U`<style>
          #body {
            position: relative;
            height: 100%;
            width: 100%;
          }

          #connect-top,
          #connect-bottom {
            display: none;
          }

          :host([data-connect-top]) #connect-top {
            display: block;
          }

          :host([data-connect-bottom]) #connect-bottom {
            display: block;
          }

          ::slotted(*) {
            position: absolute;
            z-index: 10;
          }
        </style>

        <div id="body" part="body"><slot></slot>${this.wireSvg}</div>`,this.shadowRoot)}put(o){this.circuitDropzoneService.send({type:"PUT_OPERATION",operation:o})}get circuitStep(){let o=this.parentElement;return ne.notNull(o),zu(o)?o:null}initDropzone(){this.operation!==null&&(this.operationName=this.operation.tagName.toLocaleLowerCase(),this.occupied=!0),(0,Du.default)(this).dropzone({accept:"[data-draggable]",overlap:"center"})}snap(){this.circuitDropzoneService.send({type:"SNAP_OPERATION"})}unsnap(){this.circuitDropzoneService.send({type:"UNSNAP_OPERATION"})}dropOperation(){this.circuitDropzoneService.send({type:"DROP_OPERATION"})}deleteOperation(o){let c=o.target;if(!fl(c))throw new Error(`${c} isn't an Operation.`);this.circuitDropzoneService.send({type:"DELETE_OPERATION",operation:c})}resizeOperation(o){let c=o.target;if(!os(c))throw new Error(`${c} isn't a Resizeable.`);this.circuitDropzoneService.send({type:"RESIZE_OPERATION"})}get wireSvg(){return U([ju])}};Lu=new WeakMap,u($u,"CircuitDropzoneElement"),M([k],$u.prototype,"occupied",2),M([k],$u.prototype,"operationName",2),M([k],$u.prototype,"inputWireQuantum",2),M([k],$u.prototype,"outputWireQuantum",2),M([k],$u.prototype,"connectTop",2),M([k],$u.prototype,"connectBottom",2),M([k],$u.prototype,"shadow",2),M([k],$u.prototype,"targets",2),M([k],$u.prototype,"debug",2),$u=M([X],$u);var Hu=er(nt(),1);var Bu=class extends HTMLElement{constructor(){super(...arguments);this.debug=!1;this.circuitEditorMachine=ht({id:"circuit-editor",initial:"inspectable",states:{inspectable:{type:"compound",initial:"unknown",on:{DROP_OPERATION:{target:"inspectable",actions:["initOperationMenu","resizeCircuit"]},ACTIVATE_OPERATION:{target:"inspectable",actions:["maybeUpdateOperationInspector"]},DELETE_OPERATION:{target:"inspectable",actions:["resizeCircuit"]}},states:{unknown:{always:[{target:"idle",cond:"isIdle"},{target:"editing",cond:"isEditing"}]},idle:{on:{GRAB_OPERATION:{target:"editing",actions:["maybeHideOperationMenu","startCircuitEdit","setOperationActive","addDocumentCursorGrabbingStyle","maybeAppendCircuitWire","setSnapTargets"]},GRAB_RESIZE_HANDLE:{target:"editing",actions:["maybeHideOperationMenu","startCircuitEdit","setOperationActive","addDocumentCursorResizingStyle","maybeAppendCircuitWire","setResizeHandleSnapTargets"]},CLICK_STEP:{target:"idle",actions:["deactivateAllSteps","setBreakpoint"]},MOUSE_ENTER_STEP:{target:"idle",actions:["deactivateAllSteps","activateStep"]},MOUSE_LEAVE_STEP:{target:"idle",actions:["deactivateStep"]},MOUSE_LEAVE_CIRCUIT:{target:"idle",actions:["deactivateAllSteps"]},SHOW_OPERATION_MENU:{target:"idle",actions:["showOperationMenu"]},SHOW_OPERATION_INSPECTOR_IF:{target:"idle",actions:["showOperationInspectorIf"]},SHOW_OPERATION_INSPECTOR_ANGLE:{target:"idle",actions:["showOperationInspectorAngle"]},SHOW_OPERATION_INSPECTOR_FLAG:{target:"idle",actions:["showOperationInspectorFlag"]},SET_OPERATION_IF:{target:"idle",actions:["setOperationIf"]},SET_OPERATION_ANGLE:{target:"idle",actions:["setOperationAngle"]},SET_OPERATION_FLAG:{target:"idle",actions:["setOperationFlag"]}}},editing:{on:{OPERATION_IN_SNAP_RANGE:{target:"editing",actions:["snapOperationIntoDropzone"]},RESIZE_HANDLE_IN_SNAP_RANGE:{target:"editing",actions:["snapResizeHandleIntoDropzone"]},SNAP_STEP:{target:"editing",actions:["deactivateAllSteps","activateStep"]},UNSNAP_STEP:{target:"editing",actions:["deactivateStep"]},RELEASE_OPERATION:{target:"idle",actions:["maybeRemoveLastEmptyWires","removeDocumentCursorGrabbingStyle","endCircuitEdit"]},END_RESIZE:{target:"idle",actions:["maybeRemoveLastEmptyWires","removeDocumentCursorResizingStyle","endCircuitEdit"]},END_DRAGGING_OPERATION:{target:"idle",actions:["maybeRemoveLastEmptyWires","removeDocumentCursorGrabbingStyle","endCircuitEdit","maybeDisableAllInspectorPanes"]}}}}}}},{guards:{isIdle:()=>!this.circuit.editing,isEditing:()=>this.circuit.editing},actions:{maybeHideOperationMenu:(o,c)=>{if(c.type!=="GRAB_OPERATION")return;let h=c.operation;ns(h)&&h.menu&&h.hideMenu()},startCircuitEdit:()=>{this.circuit.editing=!0},endCircuitEdit:()=>{this.circuit.editing=!1},setOperationActive:(o,c)=>{c.type!=="GRAB_OPERATION"&&c.type!=="GRAB_RESIZE_HANDLE"||this.circuit.activateOperation(c.operation)},snapOperationIntoDropzone:(o,c)=>{if(c.type!=="OPERATION_IN_SNAP_RANGE")return;let h=c.operation,b=this.circuit.snapTargetAt(c.x,c.y);if(h.snapped=!0,b.dropzone===null){let o=b.stepIndex;ne.notNull(o);let c=this.circuit.addShadowStepAfter(o),S=c.dropzones[b.wireIndex];ne.notNull(S),S.append(h),S.operationName=h.tagName.toLocaleLowerCase(),this.circuit.updateSnapTargets(c.dropzones)}else b.dropzone.append(h)},snapResizeHandleIntoDropzone:(o,c)=>{if(c.type!=="RESIZE_HANDLE_IN_SNAP_RANGE")return;let h=c.operation;if(!os(h))throw new Error(`${h} is not resizeable`);let b=h.dropzone;if(!Gu(b))throw new Error(`${b} is not a circuit dropzone`);ne.notNull(b.circuitStep);let S=b.circuitStep.dropzones.indexOf(b),P=this.circuit.resizeHandleSnapTargetAt(c.x,c.y).wireIndex-S+1;if(!Zt(P))throw new Error(`Invalid span: ${P}`);h.span=P},addDocumentCursorGrabbingStyle:()=>{document.documentElement.setAttribute("data-grabbing","")},addDocumentCursorResizingStyle:()=>{document.documentElement.setAttribute("data-resizing","")},removeDocumentCursorGrabbingStyle:()=>{document.documentElement.removeAttribute("data-grabbing")},removeDocumentCursorResizingStyle:()=>{document.documentElement.removeAttribute("data-resizing")},maybeAppendCircuitWire:()=>{this.circuit.wireCount<Xt.MAX_QUBIT_COUNT&&this.circuit.appendWire()},maybeRemoveLastEmptyWires:()=>{this.circuit.removeLastEmptyWires()},resizeCircuit:()=>{this.circuit.resize(),this.dispatchEvent(new Event("circuit-editor-resize",{bubbles:!0}))},setSnapTargets:(o,c)=>{c.type==="GRAB_OPERATION"&&this.circuit.setSnapTargets(c.operation)},setResizeHandleSnapTargets:(o,c)=>{c.type==="GRAB_RESIZE_HANDLE"&&this.circuit.setResizeHandleSnapTargets(c.operation)},setBreakpoint:(o,c)=>{c.type==="CLICK_STEP"&&this.circuit.setBreakpoint(c.step)},activateStep:(o,c)=>{c.type!=="MOUSE_ENTER_STEP"&&c.type!=="SNAP_STEP"||(c.step.active=!0)},deactivateStep:(o,c)=>{c.type!=="MOUSE_LEAVE_STEP"&&c.type!=="UNSNAP_STEP"||(c.step.active=!1)},deactivateAllSteps:()=>{this.circuit.deactivateAllSteps()},maybeDisableAllInspectorPanes:(o,c)=>{c.type!=="END_DRAGGING_OPERATION"||c.operation.snapped||this.inspectorButton!==void 0&&this.inspectorButton.isInspectorShown&&this.inspectorButton.inspector.disableAllPanes()},initOperationMenu:(o,c)=>{if(c.type!=="DROP_OPERATION")return;let h=c.operation;ns(h)&&h.initMenu()},showOperationMenu:(o,c)=>{c.type==="SHOW_OPERATION_MENU"&&(this.inspectorButton.isInspectorShown||c.operation.showMenu())},showOperationInspectorIf:(o,c)=>{c.type==="SHOW_OPERATION_INSPECTOR_IF"&&this.inspectorButton.showIfInspector(c.operation)},showOperationInspectorAngle:(o,c)=>{c.type==="SHOW_OPERATION_INSPECTOR_ANGLE"&&this.inspectorButton.showAngleInspector(c.operation)},showOperationInspectorFlag:(o,c)=>{c.type==="SHOW_OPERATION_INSPECTOR_FLAG"&&this.inspectorButton.showFlagInspector(c.operation)},setOperationIf:(o,c)=>{c.type==="SET_OPERATION_IF"&&(c.operation.if=c.if)},setOperationAngle:(o,c)=>{c.type==="SET_OPERATION_ANGLE"&&(c.operation.angle=c.angle,c.operation.reducedAngle=c.reducedAngle)},setOperationFlag:(o,c)=>{c.type==="SET_OPERATION_FLAG"&&(c.operation.flag=c.flag)},maybeUpdateOperationInspector:(o,c)=>{if(c.type!=="ACTIVATE_OPERATION"||this.inspectorButton===void 0)return;let h=c.operation;this.inspectorButton.isInspectorShown&&this.inspectorButton.showInspector(h)}}});this.circuitEditorService=ut(this.circuitEditorMachine).onTransition((o=>{this.debug&&console.log(`circuit-editor: ${(0,Hu.format)(o.value)}`)}))}connectedCallback(){document.addEventListener("click",this.maybeDeactivateOperation.bind(this)),this.addEventListener("draggable:init",this.enableDragging),this.addEventListener("resizeable:init",this.enableResizing),this.addEventListener("activateable:active",this.activateOperation),this.addEventListener("menuable:show-menu",this.showOperationMenu),this.addEventListener("menuable:menu-if",this.showOperationInspectorIf),this.addEventListener("menuable:menu-angle",this.showOperationInspectorAngle),this.addEventListener("menuable:menu-flag",this.showOperationInspectorFlag),this.addEventListener("operation-inspector-if-change",this.setOperationIf),this.addEventListener("operation-inspector-angle-change",this.setOperationAngle),this.addEventListener("operation-inspector-angle-update",this.setOperationAngle),this.addEventListener("operation-inspector-flag-change",this.setOperationFlag),this.addEventListener("draggable:grab",this.grabOperation),this.addEventListener("resizeable:grab-resize-handle",this.grabResizeHandle),this.addEventListener("resizeable:release-resize-handle",this.releaseResizeHandle),this.addEventListener("draggable:release",this.releaseOperation),this.addEventListener("resizeable:end-resizing",this.resizeEnd),this.addEventListener("draggable:end-dragging",this.endDraggingOperation),this.addEventListener("draggable:drop",this.dropOperation),this.addEventListener("draggable:delete",this.deleteOperation),this.addEventListener("menuable:menu-delete",this.deleteOperation),this.addEventListener("circuit-step:click",this.clickStep),this.addEventListener("circuit-step:qpu-operation-snap",this.snapStep),this.addEventListener("circuit-step:qpu-operation-unsnap",this.unsnapStep),this.addEventListener("draggable:in-snap-range",this.operationInSnapRange),this.addEventListener("resizeable:resize-handle-in-snap-range",this.resizeHandleInSnapRange),this.addEventListener("circuit-step:mouseenter",this.mouseEnterStep),this.addEventListener("circuit-step:mouseleave",this.mouseLeaveStep),this.addEventListener("quantum-circuit:mouseleave",this.mouseLeaveCircuit),this.addEventListener("quantum-circuit:init",this.makeCircuitHoverable),this.circuitEditorService.start(),this.attachShadow({mode:"open"}),this.update()}update(){Y(U`<slot></slot>`,this.shadowRoot)}enableDragging(o){let c=o.target;if(!tr(c))throw new Error(`Not a draggable element: ${c}`);c.draggable=!0}enableResizing(o){let c=o.target;if(!os(c))throw new Error(`Not a resizeable element: ${c}`);c.resizeable=!0}get activeOperation(){return this.circuit.querySelector("circuit-dropzone > [data-active]")}makeCircuitHoverable(o){if(o.target===this.circuit){this.circuit.hoverable=!0;for(let o of this.circuit.operations)ns(o)&&o.initMenu()}}maybeDeactivateOperation(o){var c;let h=o.target;!fl(h)&&this.inspectorButton&&!((c=this.inspectorButton)!=null&&c.popup.popper.contains(h))&&!this.inspectorButton.popup.reference.contains(h)&&this.activeOperation!==null&&(this.activeOperation.active=!1)}activateOperation(o){let c=o.target;if(!fl(c))throw new Error(`${c} must be an Operation.`);this.circuitEditorService.send({type:"ACTIVATE_OPERATION",operation:c})}showOperationMenu(o){let c=o.target;if(!fl(c))throw new Error(`${c} must be an Operation.`);this.circuitEditorService.send({type:"SHOW_OPERATION_MENU",operation:c})}showOperationInspectorIf(o){let c=o.target;if(!es(c))throw new Error(`${c} isn't an Ifable Operation.`);this.circuitEditorService.send({type:"SHOW_OPERATION_INSPECTOR_IF",operation:c})}showOperationInspectorAngle(o){let c=o.target;if(!dn(c))throw new Error(`${c} isn't an Angleable Operation.`);this.circuitEditorService.send({type:"SHOW_OPERATION_INSPECTOR_ANGLE",operation:c})}showOperationInspectorFlag(o){let c=o.target;if(!rr(c))throw new Error(`${c} isn't a Flaggable Operation.`);this.circuitEditorService.send({type:"SHOW_OPERATION_INSPECTOR_FLAG",operation:c})}setOperationIf(o){let c=o.target,h=this.activeOperation;if(!es(h))throw new Error("[data-if] not found.");this.circuitEditorService.send({type:"SET_OPERATION_IF",operation:h,if:c.if})}setOperationAngle(o){let c=o.target,h=this.activeOperation;if(ne.notNull(h),!dn(h))throw new Error(`${h.outerHTML}: [data-angle] not found.`);this.circuitEditorService.send({type:"SET_OPERATION_ANGLE",operation:h,angle:c.angle,reducedAngle:c.reduceAngleFraction?c.reducedAngle:""})}setOperationFlag(o){let c=o.target,h=this.activeOperation;if(!rr(h))throw new Error("[data-flag] not found.");this.circuitEditorService.send({type:"SET_OPERATION_FLAG",operation:h,flag:c.flag})}grabOperation(o){let c=o.target;if(!fl(c))throw new Error(`${c} must be an Operation.`);this.circuitEditorService.send({type:"GRAB_OPERATION",operation:c})}grabResizeHandle(o){let c=o.target;if(!fl(c))throw new Error(`${c} must be an Operation.`);this.circuitEditorService.send({type:"GRAB_RESIZE_HANDLE",operation:c})}releaseResizeHandle(o){let c=o.target;if(!fl(c))throw new Error(`${c} must be an Operation.`);this.circuitEditorService.send({type:"END_RESIZE",operation:c})}releaseOperation(o){let c=o.target;if(!fl(c))throw new Error(`${c} must be an Operation.`);this.circuitEditorService.send({type:"RELEASE_OPERATION",operation:c})}resizeEnd(o){let c=o.target;if(!fl(c))throw new Error(`${c} must be an Operation.`);this.circuitEditorService.send({type:"END_RESIZE",operation:c})}endDraggingOperation(o){let c=o.target;if(!fl(c))throw new Error(`${c} must be an Operation.`);this.circuitEditorService.send({type:"END_DRAGGING_OPERATION",operation:c})}dropOperation(o){let c=o.target;if(!fl(c))throw new Error(`${c} must be an Operation.`);this.circuitEditorService.send({type:"DROP_OPERATION",operation:c})}deleteOperation(){this.circuitEditorService.send({type:"DELETE_OPERATION"})}clickStep(o){let c=o.target;if(!zu(c))throw new Error(`${c} isn't a circuit-step.`);this.circuitEditorService.send({type:"CLICK_STEP",step:c})}snapStep(o){let c=o.target;if(!zu(c))throw new Error(`${c} isn't a circuit-step.`);this.circuitEditorService.send({type:"SNAP_STEP",step:c})}unsnapStep(o){let c=o.target;if(!zu(c))throw new Error(`${c} isn't a circuit-step.`);this.circuitEditorService.send({type:"UNSNAP_STEP",step:c})}operationInSnapRange(o){let c=o.target;if(!fl(c))throw new Error(`${c} must be an Operation.`);let h=o.detail.snapTargetInfo,b=h.x,S=h.y;this.circuitEditorService.send({type:"OPERATION_IN_SNAP_RANGE",operation:c,x:b,y:S})}resizeHandleInSnapRange(o){let c=o.target;if(!fl(c))throw new Error(`${c} must be an Operation.`);let h=o.detail.snapTargetInfo,b=h.x,S=h.y;this.circuitEditorService.send({type:"RESIZE_HANDLE_IN_SNAP_RANGE",operation:c,x:b,y:S})}mouseEnterStep(o){if(this.circuit.editing)return;let c=o.target;if(!zu(c))throw new Error(`${c} isn't a circuit-step.`);this.circuitEditorService.send({type:"MOUSE_ENTER_STEP",step:c})}mouseLeaveStep(o){if(this.circuit.editing)return;let c=o.target;if(!zu(c))throw new Error(`${c} isn't a circuit-step.`);this.circuitEditorService.send({type:"MOUSE_LEAVE_STEP",step:c})}mouseLeaveCircuit(){this.circuitEditorService.send({type:"MOUSE_LEAVE_CIRCUIT"})}};u(Bu,"CircuitEditorElement"),M([k],Bu.prototype,"debug",2),M([Oe],Bu.prototype,"circuit",2),M([Oe],Bu.prototype,"inspectorButton",2),Bu=M([X],Bu);var Fu,Uu=class extends HTMLElement{constructor(){super(...arguments);Za(this,Fu,null)}connectedCallback(){let{signal:o}=Ka(this,Fu,new AbortController);this.attachShadow({mode:"open"}),this.update(),this.initOperation(this.operation),this.addEventListener("draggable:grab",this.newOperation,{signal:o}),this.addEventListener("draggable:delete",this.deleteOperation,{signal:o})}disconnectedCallback(){var o;(o=Xa(this,Fu))==null||o.abort()}update(){Y(U`<style>
          ::slotted(*) {
            position: absolute !important;
          }
        </style>

        <slot></slot>`,this.shadowRoot)}initOperation(o){tr(o)&&(o.draggable=!0,o.grabbed=!1,o.snapped=!0),os(o)&&(o.resizeable=!0),fa(o)&&o.initHelp()}get operation(){if(this.operations.length===0)throw new Error("palette-dropzone must have an operation.");if(this.operations.length===1)return this.operations[0];throw new Error("palette-dropzone cannot hold multiple operations.")}get operations(){return Array.from(this.children).filter((o=>fl(o)))}newOperation(o){let c=o.target;this.assertOperation(c);let h=c.cloneNode(!1);this.assertOperation(h),fa(c)&&c.disableHelp(),this.prepend(h),this.initOperation(h)}deleteOperation(o){let c=o.target;this.assertOperation(c),this.removeChild(c)}assertOperation(o){if(!fl(o))throw new TypeError(`${o} isn't an operation.`)}};Fu=new WeakMap,u(Uu,"PaletteDropzoneElement"),Uu=M([X],Uu);var Wu=class extends(pe(HTMLElement)){constructor(){super(...arguments);this.minStepCount=1;this.minWireCount=1;this.editing=!1;this.updateUrl=!1;this.json="";this.circuitTitle="";this.debug=!1;this.chDisabled=!1;this.chMaxControlGates=0;this.chMaxTargetGates=0;this.cnotDisabled=!1;this.cnotMaxControlGates=0;this.cnotMaxTargetGates=0;this.cyDisabled=!1;this.cyMaxControlGates=0;this.cyMaxTargetGates=0;this.czDisabled=!1;this.czMaxControlGates=0;this.czMaxTargetGates=0;this.cphaseDisabled=!1;this.cphaseMaxControlGates=0;this.cphaseMaxTargetGates=0;this.ctDisabled=!1;this.ctMaxControlGates=0;this.ctMaxTargetGates=0;this.crnotDisabled=!1;this.crnotMaxControlGates=0;this.crnotMaxTargetGates=0;this.crxDisabled=!1;this.crxMaxControlGates=0;this.crxMaxTargetGates=0;this.cryDisabled=!1;this.cryMaxControlGates=0;this.cryMaxTargetGates=0;this.crzDisabled=!1;this.crzMaxControlGates=0;this.crzMaxTargetGates=0;this.cswapDisabled=!1;this.cswapMaxControlGates=0;this.swapDisabled=!1;this.controlControlDisabled=!1;this.controlControlMaxTargetGates=0;this.phasePhaseDisabled=!1;this.phasePhaseMaxTargetGates=0;this.quantumCircuitMachine=ht({id:"quantum-circuit",initial:"idle",states:{idle:{on:{EDIT:{target:"editing"}}},editing:{on:{EDIT_DONE:{target:"idle"}}}}});this.quantumCircuitService=ut(this.quantumCircuitMachine).onTransition((o=>{this.debug&&console.log(`quantum-circuit: ${o.value}`)})).start();this.cx=this.cnot}get wireCount(){return this.stepAt(0).wireCount}get activeStepIndex(){let o=this.activeStep;return o===null?null:this.fetchStepIndex(o)}get activeStep(){return this.steps.find((o=>o.active))||null}fetchStepIndex(o){let c=this.steps.indexOf(o);return ne.need(c!==-1,`circuit-step index of ${o} not found.`),c}get steps(){return Array.from(this.querySelectorAll("circuit-step"))}get emptySteps(){return this.steps.filter((o=>o.isEmpty))}get nonEmptySteps(){return this.steps.filter((o=>!o.isEmpty))}get largestStep(){let o=null,c=0;for(let h of this.steps)h.wireCount>0&&h.wireCount>c&&(o=h,c=h.wireCount);return o}appendMinimumSteps(){let o=this.minStepCount-this.steps.length;for(let c=0;c<o;c++)this.append(new Ru)}stepAt(o){let c=this.steps[o];return ne.notNull(c),c}addShadowStepAfter(o){let c=new Ru;c.shadow=!0;for(let o=0;o<this.wireCount;o++)c.appendDropzone();if(o===-1)this.prepend(c);else{let h=this.steps[o];ne.notNull(h.parentElement),h.parentElement.insertBefore(c,h.nextSibling)}return c}activateStep(o){o.active=!0}deactivateAllSteps(){for(let o of this.steps)o.active=!1}setBreakpoint(o){for(let o of this.steps)o.breakpoint=!1;o.breakpoint=!0}get breakpoint(){return this.steps.find((o=>o.breakpoint))||null}get dropzones(){return Array.from(this.querySelectorAll("circuit-dropzone"))}get operations(){return this.dropzones.map((o=>o.operation)).filter((o=>o!==null))}get isVertical(){return window.getComputedStyle(this).flexDirection==="column"}connectedCallback(){if(this.attachShadow({mode:"open"}),this.update(),this.hasAttribute("data-update-url")){let o=ne.urlJson;this.loadFromJson(o)}this.hoverable&&this.makeOperationsHoverable(),this.appendMinimumSteps(),this.appendMinimumWires(),this.updateAllWires(),this.addEventListener("mouseleave",this.dispatchMouseleaveEvent),this.addEventListener("circuit-step:update",this.updateStep),this.addEventListener("circuit-step:qpu-operation-snap",this.updateStep),this.addEventListener("circuit-step:qpu-operation-snap",this.updateChangedWire),this.addEventListener("circuit-step:qpu-operation-unsnap",this.updateStep),this.addEventListener("circuit-step:qpu-operation-unsnap",this.updateChangedWire),this.addEventListener("circuit-step:delete-qpu-operation",this.updateStep),this.addEventListener("circuit-step:delete-qpu-operation",this.updateChangedWire),this.addEventListener("circuit-step:resize-qpu-operation",this.updateStep),fe("quantum-circuit:init",{},this)}attributeChangedCallback(o,c,h){c!==h&&(o==="data-editing"&&(h!==null?this.quantumCircuitService.send({type:"EDIT"}):this.quantumCircuitService.send({type:"EDIT_DONE"})),o==="data-hoverable"&&h!==null&&this.makeOperationsHoverable(),o==="data-json"&&h!==""&&h!==null&&(this.loadFromJson(h),this.hoverable&&this.makeOperationsHoverable()))}makeOperationsHoverable(){for(let o of this.operations)o.hoverable=!0}update(){Y(U`<slot></slot>`,this.shadowRoot)}updateStep(o){let c=o.target;this.updateStepOperationAttributes(c)}updateStepOperationAttributes(o){o.updateOperationAttributes({disableCh:this.chDisabled,maxChControlGates:this.chMaxControlGates,maxChTargetGates:this.chMaxTargetGates,disableCnot:this.cnotDisabled,maxCnotControlGates:this.cnotMaxControlGates,maxCnotTargetGates:this.cnotMaxTargetGates,disableCy:this.cyDisabled,maxCyControlGates:this.cyMaxControlGates,maxCyTargetGates:this.cyMaxTargetGates,disableCz:this.czDisabled,maxCzControlGates:this.czMaxControlGates,maxCzTargetGates:this.czMaxTargetGates,disableCphase:this.cphaseDisabled,maxCphaseControlGates:this.cphaseMaxControlGates,maxCphaseTargetGates:this.cphaseMaxTargetGates,disableCt:this.ctDisabled,maxCtControlGates:this.ctMaxControlGates,maxCtTargetGates:this.ctMaxTargetGates,disableCrnot:this.crnotDisabled,maxCrnotControlGates:this.crnotMaxControlGates,maxCrnotTargetGates:this.crnotMaxTargetGates,disableCrx:this.crxDisabled,maxCrxControlGates:this.crxMaxControlGates,maxCrxTargetGates:this.crxMaxTargetGates,disableCry:this.cryDisabled,maxCryControlGates:this.cryMaxControlGates,maxCryTargetGates:this.cryMaxTargetGates,disableCrz:this.crzDisabled,maxCrzControlGates:this.crzMaxControlGates,maxCrzTargetGates:this.crzMaxTargetGates,disableCswap:this.cswapDisabled,maxCswapControlGates:this.cswapMaxControlGates,disableSwap:this.swapDisabled,disableControlControl:this.controlControlDisabled,maxControlControlTargetGates:this.controlControlMaxTargetGates,disablePhasePhase:this.phasePhaseDisabled,maxPhasePhaseTargetGates:this.phasePhaseMaxTargetGates})}dispatchMouseleaveEvent(){fe("quantum-circuit:mouseleave",{},this)}resize(){this.removeEmptySteps(),this.appendMinimumSteps(),this.appendMinimumWires(),this.removeLastEmptyWires(),this.updateAllWires()}h(...o){let c,h;if(typeof o[0]=="number")c=o;else{let b=o[0];c=b.targets,h=b.disabled}return this.applyOperationToTargets((()=>{let o=new ds;return h&&o.disable(),o}),...c),this.resize(),this}x(...o){let c,h;if(typeof o[0]=="number")c=o;else{let b=o[0];c=b.targets,h=b.disabled}return this.applyOperationToTargets((()=>{let o=new al;return h&&o.disable(),o}),...c),this}y(...o){let c,h;if(typeof o[0]=="number")c=o;else{let b=o[0];c=b.targets,h=b.disabled}return this.applyOperationToTargets((()=>{let o=new ul;return h&&o.disable(),o}),...c),this}z(...o){let c,h;if(typeof o[0]=="number")c=o;else{let b=o[0];c=b.targets,h=b.disabled}return this.applyOperationToTargets((()=>{let o=new hl;return h&&o.disable(),o}),...c),this}phase(...o){let c,h,b="";if(typeof o[0]=="number")c=o;else if(typeof o[0]=="string")b=o[0],c=o.slice(1);else{let b=o[0];c=b.targets,h=b.disabled}let S=this.applyOperationToTargets((()=>{let o=new gs;return o.angle=b,h&&o.disable(),o}),...c);return c.length>1&&this.updateStepOperationAttributes(S),this}s(...o){let c,h;if(typeof o[0]=="number")c=o;else{let b=o[0];c=b.targets,h=b.disabled}return this.applyOperationToTargets((()=>{let o=new Hs;return h&&o.disable(),o}),...c),this.resize(),this}sDagger(...o){let c,h;if(typeof o[0]=="number")c=o;else{let b=o[0];c=b.targets,h=b.disabled}return this.applyOperationToTargets((()=>{let o=new Gs;return h&&o.disable(),o}),...c),this.resize(),this}t(...o){let c,h;if(typeof o[0]=="number")c=o;else{let b=o[0];c=b.targets,h=b.disabled}return this.applyOperationToTargets((()=>{let o=new Zs;return h&&o.disable(),o}),...c),this.resize(),this}tDagger(...o){let c,h;if(typeof o[0]=="number")c=o;else{let b=o[0];c=b.targets,h=b.disabled}return this.applyOperationToTargets((()=>{let o=new Ws;return h&&o.disable(),o}),...c),this.resize(),this}rnot(...o){let c,h;if(typeof o[0]=="number")c=o;else{let b=o[0];c=b.targets,h=b.disabled}return this.applyOperationToTargets((()=>{let o=new _s;return h&&o.disable(),o}),...c),this}rx(...o){let c,h;if(typeof o[0]=="number")c=o;else{let b=o[0];c=b.targets,h=b.disabled}return this.applyOperationToTargets((()=>{let o=new zs;return h&&o.disable(),o}),...c),this}ry(...o){let c,h;if(typeof o[0]=="number")c=o;else{let b=o[0];c=b.targets,h=b.disabled}return this.applyOperationToTargets((()=>{let o=new Rs;return h&&o.disable(),o}),...c),this}rz(...o){let c,h;if(typeof o[0]=="number")c=o;else{let b=o[0];c=b.targets,h=b.disabled}return this.applyOperationToTargets((()=>{let o=new js;return h&&o.disable(),o}),...c),this}qft(o,...c){let h;return h=typeof c[0]=="number"?c:c[0].targets,this.applyOperationToTargets((()=>{let c=new Ps;return c.span=o,c}),...h),this.resize(),this}qftDagger(o,...c){let h;return h=typeof c[0]=="number"?c:c[0].targets,this.applyOperationToTargets((()=>{let c=new ys;return c.span=o,c}),...h),this.resize(),this}swap(...o){let c=this.applyOperationToTargets((()=>new Us),...o);return this.updateStepOperationAttributes(c),this}control(...o){let c=this.applyOperationToTargets((()=>new us),...o);return this.updateStepOperationAttributes(c),this}bloch(...o){return this.applyOperationToTargets((()=>new ls),...o),this}write(o,...c){return this.applyOperationToTargets((()=>{let c=new rl;return c.value=o,c}),...c),this.resize(),this}measure(...o){return this.applyOperationToTargets((()=>new fs),...o),this.resize(),this}applyOperationToTargets(o,...c){let h=Math.max(...c)+1,b=this.appendStepWithDropzones(h);for(let h of c){let c=o();b.dropzoneAt(h).put(c)}return b}ch(o,c){return this.controlledU(ds,o,c),this}cnot(o,c){return this.controlledU(al,o,c),this.resize(),this}cy(o,c){return this.controlledU(ul,o,c),this}cz(o,c){return this.controlledU(hl,o,c),this}cphase(o,c){return this.controlledU(gs,o,c),this}ct(o,c){return this.controlledU(Zs,o,c),this}crnot(o,c){return this.controlledU(_s,o,c),this}crx(o,c){return this.controlledU(zs,o,c),this}cry(o,c){return this.controlledU(Rs,o,c),this}crz(o,c){return this.controlledU(js,o,c),this}cswap(o,c){return this.controlledU(Us,o,c),this}cc(...o){let c=Math.max(...o)+1,h=this.appendStepWithDropzones(c);for(let c of o)h.dropzoneAt(c).put(new us);return this.appendMinimumWires(),this.updateStepOperationAttributes(h),this}controlledU(o,c,h){let b=[].concat(c),S=[].concat(h),P=b.concat(S),I=Math.max(...P)+1,A=this.appendStepWithDropzones(I);for(let o of b)A.dropzoneAt(o).put(new us);for(let c of S)A.dropzoneAt(c).put(new o);this.appendMinimumWires(),this.updateStepOperationAttributes(A)}appendStep(){let o=new Ru,c=this.blocks.slice(-1)[0]||null;return c===null||c.finalized?this.append(o):c.append(o),o}appendStepWithDropzones(o){let c=new Ru;this.append(c);for(let h=0;h<o;h++){let o=new $u;c.append(o)}return c}updateAllWires(){let o=this.steps[0];if(o===void 0)return;let c=o.dropzones.length;for(let o=0;o<c;o++)this.updateWire(o)}activateOperation(o){for(let o of this.operations)o.active=!1;o.active=!0}appendWire(){for(let o of this.steps)o.appendDropzone()}removeLastEmptyWires(){for(;this.steps.every((o=>o.wireCount>o.maxOccupiedDropzoneBit&&o.wireCount>this.minWireCount&&!o.lastDropzone.occupied));)for(let o of this.steps)o.lastDropzone.remove()}removeEmptySteps(){for(let o of this.emptySteps)o.remove()}loadFromJson(o){this.innerHTML="";let c=null;if(o===""){this.hasAttribute("data-update-url")&&this.resize();return}let h=null,b=ne.safeJsonParse(o);if(!b.isOk()){console.error(b.error.message),console.error(o);return}h=b.value;this.circuitTitle=(h.title||"").trim();let S=!1;for(let o of h.cols){let h=this.appendStep();S&&(h.keep=!0,S=!1);let b=[];for(let P of o){switch(!0){case/^\|0>$/.test(P):{let o=new rl;o.value="0",b.push(o),h.append(new $u);break}case/^\|1>$/.test(P):{let o=new rl;o.value="1",b.push(o),h.append(new $u);break}case/^H/.test(P):{let o=new ds;o.if=this.ifVariable(P.slice(1)),b.push(o),h.append(new $u);break}case/^X$/.test(P)||/^X<(.+)$/.test(P):{let o=new al;o.if=P.slice(2).trim(),b.push(o),h.append(new $u);break}case/^Y/.test(P):{let o=new ul;o.if=this.ifVariable(P.slice(1)),b.push(o),h.append(new $u);break}case/^Z/.test(P):{let o=new hl;o.if=this.ifVariable(P.slice(1)),b.push(o),h.append(new $u);break}case/^P/.test(P):{let o=new gs;o.angle=this.angleParameter(P.slice(1)),b.push(o),h.append(new $u);break}case/^T†/.test(P):{let o=new Ws;o.if=this.ifVariable(P.slice(1)),b.push(o),h.append(new $u);break}case/^T/.test(P):{let o=new Zs;o.if=this.ifVariable(P.slice(1)),b.push(o),h.append(new $u);break}case/^X\^½/.test(P):{let o=new _s;o.if=this.ifVariable(P.slice(3)),b.push(o),h.append(new $u);break}case/^Rx/.test(P):{let o=new zs;o.angle=this.angleParameter(P.slice(2)),b.push(o),h.append(new $u);break}case/^Ry/.test(P):{let o=new Rs;o.angle=this.angleParameter(P.slice(2)),b.push(o),h.append(new $u);break}case/^Rz/.test(P):{let o=new js;o.angle=this.angleParameter(P.slice(2)),b.push(o),h.append(new $u);break}case/^…/.test(P):{let o=new qs;b.push(o),h.append(new $u);break}case/^QFT\d/.test(P):{let o=new Ps,c=parseInt(P.slice(3),10);o.span=c,b.push(o);for(let o=0;o<c;o++)h.append(new $u);break}case/^QFT†\d/.test(P):{let o=new ys,c=parseInt(P.slice(4),10);o.span=c,b.push(o),h.append(new $u);for(let o=0;o<c;o++)h.append(new $u);break}case/^Swap$/.test(P):{let o=new Us;b.push(o),h.append(new $u);break}case/^S†/.test(P):{let o=new Gs;o.if=this.ifVariable(P.slice(1)),b.push(o),h.append(new $u);break}case/^S/.test(P):{let o=new Hs;o.if=this.ifVariable(P.slice(1)),b.push(o),h.append(new $u);break}case/^•$/.test(P):{let o=new us;b.push(o),h.append(new $u);break}case/^◦$/.test(P):{let o=new ss;b.push(o),h.append(new $u);break}case/^Bloch$/.test(P):{let o=new ls;b.push(o),h.append(new $u);break}case/^Measure/.test(P):{let o=new fs,c=((/^>(.+)$/.exec(P.slice(7))||[])[1]||"").trim();o.flag=c,b.push(o),h.append(new $u);break}case/^[[{](.+)$/.test(P):{let o=P.slice(1);h.remove(),c=new xu,c.comment=o,c.setAttribute("data-targets","quantum-circuit.blocks"),this.append(c);break}case/^[\]}]$/.test(P):h.remove(),c.finalize(),S=!0;break;default:if(P!==1)throw new Error(`Unknown operation: ${P}`);h.append(new $u),b.push(null)}for(let[o,c]of Object.entries(b))c!==null&&h.dropzoneAt(parseInt(o)).put(c);h.updateOperationAttributes()}}this.resize()}ifVariable(o){return((/^<(.+)$/.exec(o)||[])[1]||"").trim()}angleParameter(o){return((/^\((.+)\)$/.exec(o)||[])[1]||"").trim().replace("_","/")}appendMinimumWires(){let o=this.largestStep,c=o&&o.wireCount>this.minWireCount?o.wireCount:this.minWireCount;for(let o of this.steps){let h=c-o.wireCount;for(let c=0;c<h;c++)o.appendDropzone()}}updateWire(o){let c=!1;for(let h of this.steps){let b=h.dropzoneAt(o);if(b.inputWireQuantum=c,b.operationName==="write-gate")b.inputWireQuantum=c,b.outputWireQuantum=!0,c=!0;else if(b.operationName==="measurement-gate")b.inputWireQuantum=c,b.outputWireQuantum=!1,c=!1;else if(b.operationName==="swap-gate"){let o=h.dropzones.filter((o=>o.operationName==="swap-gate"));if(o.length===2){let S=o.map((o=>h.bit(o))),P=h.bit(b),I=S[0]===P?S[1]:S[0],A=h.dropzoneAt(I);b.inputWireQuantum=c,b.outputWireQuantum=A.inputWireQuantum,c=A.inputWireQuantum}else b.inputWireQuantum=c,b.outputWireQuantum=c}else b.inputWireQuantum=c,b.outputWireQuantum=c}}updateChangedWire(o){let c=o.target;if(!zu(c))throw new Error(`${c} isn't a circuit-step.`);let h=o.detail.dropzone;if(!Gu(h))throw new Error(`${h} isn't a circuit-dropzone.`);let b=c.dropzones.indexOf(h);ne.need(b!==-1,"circuit-dropzone not found."),this.updateWire(b)}snapTargetAt(o,c){return this.isVertical?this.snapTargets[c][o]:this.snapTargets[o][c]}resizeHandleSnapTargetAt(o,c){return this.isVertical?this.resizeHandleSnapTargets[c][o]:this.resizeHandleSnapTargets[o][c]}setSnapTargets(o){let c=[];this.snapTargets={};let h=1;os(o)&&(h=o.span);let b=o.dropzone;for(let[S,P]of Object.entries(this.steps)){let I=parseInt(S);for(let[S,A]of Object.entries(P.dropzones)){let z=parseInt(S),R=A.snapTarget,D=this.isVertical?R.y:R.x,L=this.isVertical?R.x:R.y;if(I===0&&P.dropzones[z+h-1]!==void 0){let h=D-o.snapRange*.75;this.isVertical?c.push({x:L,y:h}):c.push({x:h,y:L}),this.snapTargets[h]===void 0&&(this.snapTargets[h]={}),this.snapTargets[h][L]===void 0&&(this.snapTargets[h][L]={dropzone:null,stepIndex:-1,wireIndex:z})}if(h===1)(A===b||!A.occupied)&&c.push(R);else if(!A.occupied&&z+h<=P.dropzones.length&&c.push(R),A===b){c.push(R);for(let o=1;o<h&&z+o<P.dropzones.length;o++){let h=P.dropzones[z+o];ne.notNull(h),c.push(h.snapTarget)}}let G=D+o.snapRange*.75;P.dropzones[z+h-1]!==void 0&&(this.isVertical?c.push({x:L,y:G}):c.push({x:G,y:L})),this.snapTargets[G]===void 0&&(this.snapTargets[G]={}),this.snapTargets[G][L]===void 0&&(this.snapTargets[G][L]={dropzone:null,stepIndex:I,wireIndex:z}),this.snapTargets[D]===void 0&&(this.snapTargets[D]={}),this.snapTargets[D][L]===void 0&&(this.snapTargets[D][L]={dropzone:A,stepIndex:null,wireIndex:z})}}o.snapTargets=c}setResizeHandleSnapTargets(o){if(!os(o))throw new Error(`${o} isn't a resizeable operation.`);if(!Gu(o==null?void 0:o.dropzone))throw new Error(`${o.dropzone} isn't a circuit-dropzone.`);let c=o.dropzone.circuitStep;ne.notNull(c);let h=c.freeDropzones,b=o.dropzone;h.push(b);let S=[];this.resizeHandleSnapTargets={};for(let[h,P]of Object.entries(c.dropzones)){let I=P.resizeHandleSnapTarget,A=this.isVertical?I.y:I.x,z=this.isVertical?I.x:I.y,R=parseInt(h)%this.wireCount;if(P.occupied||S.push(I),P===b){S.push(I);let b=o.span;for(let o=1;o<b;o++){let b=c.dropzones[parseInt(h)+o];ne.notNull(b),S.push(b.resizeHandleSnapTarget)}}this.resizeHandleSnapTargets[A]===void 0&&(this.resizeHandleSnapTargets[A]={}),this.resizeHandleSnapTargets[A][z]===void 0&&(this.resizeHandleSnapTargets[A][z]={dropzone:P,stepIndex:null,wireIndex:R})}o.resizeHandleSnapTargets=S}updateSnapTargets(o){let c=o[0];ne.notNull(c);let h=this.isVertical?c.snapTarget.y:c.snapTarget.x;for(let[o,c]of Object.entries(this.snapTargets))if(!(parseInt(o)<=h))for(let o in c){let h=c[o];h.stepIndex!==null&&(h.stepIndex+=1)}for(let[c,h]of Object.entries(o)){let o=h.snapTarget,b=this.isVertical?o.y:o.x,S=this.isVertical?o.x:o.y;ne.notNull(this.snapTargets[b]),this.snapTargets[b][S]={dropzone:h,stepIndex:null,wireIndex:parseInt(c)}}}serialize(){return this.steps.map((o=>o.serialize()))}clear(){history.pushState("","",encodeURIComponent('{"cols":[]}')),location.reload()}toJson(){let o=!1,c=[];for(let h of this.nonEmptySteps){if(h.isInBlock){if(!o){let b=h.block;c.push(`["[${b.comment}"]`),o=!0}}else o&&(c.push('["]"]'),o=!1);c.push(h.toJson())}return o&&c.push('["]"]'),this.circuitTitle!==""?`{"cols":[${c.join(",")}],"title":"${this.circuitTitle}"}`:`{"cols":[${c.join(",")}]}`}};u(Wu,"QuantumCircuitElement"),M([k],Wu.prototype,"minStepCount",2),M([k],Wu.prototype,"minWireCount",2),M([k],Wu.prototype,"editing",2),M([k],Wu.prototype,"updateUrl",2),M([k],Wu.prototype,"json",2),M([k],Wu.prototype,"circuitTitle",2),M([k],Wu.prototype,"debug",2),M([k],Wu.prototype,"chDisabled",2),M([k],Wu.prototype,"chMaxControlGates",2),M([k],Wu.prototype,"chMaxTargetGates",2),M([k],Wu.prototype,"cnotDisabled",2),M([k],Wu.prototype,"cnotMaxControlGates",2),M([k],Wu.prototype,"cnotMaxTargetGates",2),M([k],Wu.prototype,"cyDisabled",2),M([k],Wu.prototype,"cyMaxControlGates",2),M([k],Wu.prototype,"cyMaxTargetGates",2),M([k],Wu.prototype,"czDisabled",2),M([k],Wu.prototype,"czMaxControlGates",2),M([k],Wu.prototype,"czMaxTargetGates",2),M([k],Wu.prototype,"cphaseDisabled",2),M([k],Wu.prototype,"cphaseMaxControlGates",2),M([k],Wu.prototype,"cphaseMaxTargetGates",2),M([k],Wu.prototype,"ctDisabled",2),M([k],Wu.prototype,"ctMaxControlGates",2),M([k],Wu.prototype,"ctMaxTargetGates",2),M([k],Wu.prototype,"crnotDisabled",2),M([k],Wu.prototype,"crnotMaxControlGates",2),M([k],Wu.prototype,"crnotMaxTargetGates",2),M([k],Wu.prototype,"crxDisabled",2),M([k],Wu.prototype,"crxMaxControlGates",2),M([k],Wu.prototype,"crxMaxTargetGates",2),M([k],Wu.prototype,"cryDisabled",2),M([k],Wu.prototype,"cryMaxControlGates",2),M([k],Wu.prototype,"cryMaxTargetGates",2),M([k],Wu.prototype,"crzDisabled",2),M([k],Wu.prototype,"crzMaxControlGates",2),M([k],Wu.prototype,"crzMaxTargetGates",2),M([k],Wu.prototype,"cswapDisabled",2),M([k],Wu.prototype,"cswapMaxControlGates",2),M([k],Wu.prototype,"swapDisabled",2),M([k],Wu.prototype,"controlControlDisabled",2),M([k],Wu.prototype,"controlControlMaxTargetGates",2),M([k],Wu.prototype,"phasePhaseDisabled",2),M([k],Wu.prototype,"phasePhaseMaxTargetGates",2),M([ft],Wu.prototype,"blocks",2),Wu=M([X],Wu);var rp=class extends HTMLElement{constructor(){super(...arguments);this.updateUrl=!1}connectedCallback(){this.worker=new Worker("./serviceworker.js"),this.worker.addEventListener("message",this.handleServiceWorkerMessage.bind(this)),this.addEventListener("draggable:delete",this.maybeUpdateUrl),this.addEventListener("draggable:delete",this.freshRun),this.addEventListener("menuable:menu-delete",this.maybeUpdateUrl),this.addEventListener("menuable:menu-delete",this.freshRun),this.addEventListener("operation-inspector-if-change",this.freshRun),this.addEventListener("operation-inspector-angle-change",this.freshRun),this.addEventListener("operation-inspector-angle-update",this.maybeUpdateUrl),this.addEventListener("operation-inspector-flag-change",this.freshRun),this.addEventListener("circuit-step:mouseenter",this.runUnlessEditing),this.addEventListener("circuit-step:mouseleave",this.runUnlessEditing),this.addEventListener("circuit-step:qpu-operation-snap",this.freshRun),this.addEventListener("circuit-step:qpu-operation-unsnap",this.freshRun),this.addEventListener("circuit-step:update",this.freshRun),this.addEventListener("circle-notation-visibility-change",this.run),this.addEventListener("run-circuit-button-click",this.freshRun),this.addEventListener("circuit-step:qpu-operation-snap",this.maybeUpdateUrl),this.addEventListener("circuit-step:qpu-operation-unsnap",this.maybeUpdateUrl),this.addEventListener("circuit-step:resize-qpu-operation",this.maybeUpdateUrl),this.addEventListener("circuit-step:resize-qpu-operation",this.freshRun),this.addEventListener("circuit-editor-resize",this.freshRun),this.attachShadow({mode:"open"}),this.update(),this.maybeUpdateUrl(),this.circuit.setBreakpoint(this.circuit.stepAt(0)),this.setCircleNotationQubitCount()}update(){Y(U`<slot></slot>`,this.shadowRoot)}clearCircuit(){this.circuit.clear()}handleServiceWorkerMessage(o){var c;let h=o.data,b=this.activeStepIndex;switch(h.type){case"step":{let o=this.circuit.stepAt(h.step);for(let c in h.blochVectors){let b=parseInt(c),S=o.dropzoneAt(b).operation;if(gc(S)){let o=h.blochVectors[b];S.x=o.x,S.y=o.y,S.z=o.z}}if(h.measuredBits){let c=h.measuredBits;for(let h in c){let b=parseInt(h),S=o.dropzoneAt(b).operation;yc(S)&&(S.value=c[b].toString())}}for(let c of o.dropzones){let o=c.operation;es(o)&&o.if!==""&&(o.disabled=!h.flags[o.if])}if(b===h.step){let o={};for(let c in h.amplitudes){let b=h.amplitudes[c];o[c]=new Yt(b[0],b[1])}(c=this.circleNotation)==null||c.setAmplitudes(o)}break}case"finish":for(let o of this.runCircuitButtons)o.running=!1;break;default:throw new Error(`Unknown service worker message: ${h}`)}}run(){this._run(!1)}freshRun(){this._run(!0)}_run(o){let c=this.activeStepIndex,h=this.circuit.serialize();ne.need(h.length>0,"non-zero step length");let b=this.circuit.toJson(),S=this.setCircleNotationQubitCount();this.worker.postMessage({qubitCount:S,stepIndex:c,circuitJson:b,invalidateCaches:o,steps:h,targets:this.circleNotation.visibleQubitCircleKets,debug:window.debugServiceworker})}setCircleNotationQubitCount(){let o=Math.max(...this.circuit.steps.map((o=>o.maxOccupiedDropzoneBit)));return o===0&&(o=1),this.circleNotation.qubitCount=o,o}runUnlessEditing(){this.circuit.editing||this._run(!1)}get activeStepIndex(){let o=this.circuit.activeStep,c=this.circuit.breakpoint,h=o||c;return h===null&&(h=this.circuit.stepAt(0),this.circuit.setBreakpoint(h)),this.circuit.fetchStepIndex(h)}maybeUpdateUrl(){if(!this.updateUrl)return;ne.notNull(this.circuit);let o=this.circuit.toJson();history.pushState("","",encodeURIComponent(o))}};u(rp,"QuantumSimulatorElement"),M([k],rp.prototype,"updateUrl",2),M([Oe],rp.prototype,"circuit",2),M([Oe],rp.prototype,"circleNotation",2),M([ft],rp.prototype,"runCircuitButtons",2),rp=M([X],rp);
/*! Bundled license information:

fraction.js/fraction.js:
  (**
   * @license Fraction.js v4.2.0 05/03/2022
   * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
   *
   * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

react-is/cjs/react-is.production.min.js:
  (**
   * @license React
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

complex.js/complex.js:
  (**
   * @license Complex.js v2.1.1 12/05/2020
   *
   * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

xstate/es/_virtual/_tslib.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/export{Sc as AngleSliderElement,En as AngleableMixin,ss as AntiControlGateElement,ls as BlochDisplayElement,Cc as ButtonGroupElement,Tc as CircleNotationElement,_c as CircleNotationPanelElement,xu as CircuitBlockElement,$u as CircuitDropzoneElement,Bu as CircuitEditorElement,Ru as CircuitStepElement,Yt as Complex,us as ControlGateElement,Le as ControllableMixin,Gf as FlaggableMixin,tu as GateCarouselElement,ds as HGateElement,Ue as IfableMixin,eu as InspectorButtonElement,fs as MeasurementGateElement,nu as OperationInspectorElement,Uu as PaletteDropzoneElement,gs as PhaseGateElement,ys as QftDaggerGateElement,Ps as QftGateElement,Wu as QuantumCircuitElement,rp as QuantumSimulatorElement,ru as QubitCircleElement,_s as RnotGateElement,yu as RunCircuitButtonElement,zs as RxGateElement,Rs as RyGateElement,js as RzGateElement,wu as SlideInElement,qs as SpacerGateElement,Us as SwapGateElement,Zs as TGateElement,rl as WriteGateElement,al as XGateElement,ul as YGateElement,hl as ZGateElement,Ot as forceSigned,Ec as isAngleSliderElement,dn as isAngleable,fc as isAntiControlGateElement,gc as isBlochDisplayElement,Gu as isCircuitDropzoneElement,zu as isCircuitStepElement,uc as isControlGateElement,gn as isControllable,rr as isFlaggable,vl as isHGateElement,es as isIfable,yc as isMeasurementGateElement,Nh as isNumeric,fl as isOperation,Ol as isPhaseGateElement,Gl as isRnotGateElement,$l as isRxGateElement,Hl as isRyGateElement,Bl as isRzGateElement,Zl as isSDaggerGateElement,Xl as isSGateElement,Ql as isSpacerGateElement,oc as isSwapGateElement,Rl as isTDaggerGateElement,_l as isTGateElement,bc as isWriteGateElement,ml as isXGateElement,wl as isYGateElement,xl as isZGateElement};

